(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,51879,72430,13047,39921,39395,83634,24661,90984,73744,77221,35303,6284,50040,83662,42447,89437,34543,55646,87333,60426,94072,2603,57046,8575,43577,13961,71369,89667,8907,52599,76579,44722,20393,53522],{82364:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AggregatedCloseupSavedToBoardInfo_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"1c0dd9839405d82cabfd205ccf6b71f5"};e.exports=t},361600:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},865107:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},16143:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"4243a93c1533a91b49143abf50a2c432"};e.exports=t},792522:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5dff28be2de95106e382c42d78ad1833",e.exports=n},364962:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null};i.hash="41eed1dd8d597f8add4860a70249b61e",e.exports=i},697471:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsMoreInformationButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"}],type:"Pin",abstractKey:null,hash:"5b35adb59215c21bd34fd5b4aae36344"};e.exports=t},970533:e=>{var t,n,i,a,o,r,l,s={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:"origImage",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:r,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[o,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"AggregatedCloseupSavedToBoardInfo_pin"},{args:null,kind:"FragmentSpread",name:"SavedToText_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsMoreInformationButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]}],type:"Pin",abstractKey:null};s.hash="cfac4658b106fb31b151463467935c49",e.exports=s},446969:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"c9713d85ef89281fa5ad27120a1c71f9"};e.exports=t},553061:e=>{var t,n,i,a,o,r,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"CloseupInviteQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CloseupInviteQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"5a589701ab373e3f213c9fdce343adce7b105e64724244cbd74ff87a99176c01",metadata:{},name:"CloseupInviteQuery",operationKind:"query",text:null}};s.hash="961b939abc7c38003df733d73e52fec9",e.exports=s},494689:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null,hash:"ca973953e87be2d2406ed057784f61de"};e.exports=t},23433:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"acf46db80fdf428be9b7e9418dc53bc7"};e.exports=t},506803:e=>{var t,n,i,a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:i=[n={kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:[n,{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:i,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};a.hash="bcf0908fb994e506bdb8c34e61678565",e.exports=a},342485:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null,hash:"ee8116db3874fedf870e4d60036a02c7"};e.exports=t},298468:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupRelatedContent_pin",selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModulesContainer_pin"}]}],type:"Pin",abstractKey:null,hash:"5b36dfcaefb6d7c5f6c533283419935b"};e.exports=t},96336:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"62fd54709d3c18c78af173903ab765f1"};e.exports=t},220271:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};n.hash="837e904518c3b016e0130d7d11673ea5",e.exports=n},78526:e=>{var t,n,i,a,o,r,l,s,d,c={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[t],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[a,l={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{args:[s={kind:"Variable",name:"isAuth",variableName:"isAuth"},{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:d=[s],kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{args:d,kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:d,kind:"FragmentSpread",name:"CloseupRelatedContent_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:d,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:d,kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"AMPViewer_pin"}]}],type:"Pin",abstractKey:null};c.hash="719652c0ca672d7dbb74cd22f1680b7e",e.exports=c},683781:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="8394a6798b52655d517a8ca95a8b7328",e.exports=i},647154:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null,hash:"dfd3eed39be47eff0403391f6f34d8d6"};e.exports=t},993537:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModal_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}],type:"Pin",abstractKey:null};i.hash="66d664d340898caef1f6c9fecc9654d5",e.exports=i},313444:e=>{var t,n,i,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};a.hash="c8e65ee18cda32864e9b7635744f253f",e.exports=a},779819:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LeafSnippet_pin",selections:[{args:null,kind:"FragmentSpread",name:"useRichSnippetPin_pin"}],type:"Pin",abstractKey:null,hash:"f5e7ad2abe4b6d77e0fc29bab4595111"};e.exports=t},188809:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"17ee7538a8ba5a468f69f85d06121f1d"};e.exports=t},582753:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null,hash:"a9ae8d2f405ccc3f5679c216f90313c8"};e.exports=t},574913:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarMoreOptions_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null}],type:"Pin",abstractKey:null,hash:"28763d299cc38752c1085d2e4007acd7"};e.exports=t},823716:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarMoreOptions_pin"},{args:t=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:t,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],type:"Pin",abstractKey:null};n.hash="ab030cf88ace4b7897bb5a01c8f88138",e.exports=n},918899:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null,hash:"2ed8f79733cbeedba9e8a7ed03435228"};e.exports=t},413196:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null,hash:"4fff47d36e17099ce7a076f5dfa236c5"};e.exports=t},7745:e=>{var t,n,i,a,o,r,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s},736675:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"dd6f957ecc897859d4d086ccdc4bb2f9"};e.exports=t},659189:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="ed2969f8f71d462fb585e5cd3bd53b80",e.exports=n},906587:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=i},741316:e=>{var t,n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[r,l,a,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,c={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:_=[n,c,u,p,m,h],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},c,u,p,m,h],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:_,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:y=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},l,s,a],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:y,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};f.hash="e58a531593f32e7b3bf5c150367900af",e.exports=f},800881:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichMetadataProductsAdditionalImagesFragment"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"useCarouselSlotsWithImagesFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="43c4c16a7fa00a530bd1aa8c33e6b611",e.exports=i},50448:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null,hash:"e49c269bff73cba5691f5113b6f00759"};e.exports=t},390961:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},n={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductMetadata_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};i.hash="707e5c5c9aeb0085ee464f4ccf410a28",e.exports=i},298740:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t],storageKey:null}],type:"Pin",abstractKey:null};n.hash="d3a619f29624cacbd291738b7b27d4f5",e.exports=n},375882:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="2d8f315013487d39e45789c61794f121",e.exports=n},716478:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null,hash:"a663d52f0626cc8887103d9e1a8a78c2"};e.exports=t},365396:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"a942edb09f07e93186cbbfed0b8031a7"};e.exports=t},30428:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"25e031a9439a0eef8418850148f49a45"};e.exports=t},567974:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null,hash:"c2f4c93600298edcacdd3b6d3a62ab79"};e.exports=t},396190:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SavedToText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"726966a5dc7cf7fa52c9cdb9ab829535"};e.exports=t},276667:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};a.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=a},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},993156:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"9cbce2e5d42ba48125c1151e618b033c"};e.exports=t},225440:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="aebd76f652620780bb30c744fce052e9",e.exports=n},12617:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="1fbfb33774a77f6b481c8e10a98e0b9c",e.exports=n},167074:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="9c6f79da64586afb96dd80be65bca5a2",e.exports=n},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},33184:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"2e464db34007ea4c1c0752bf62bbb542"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},604955:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"684be4cb6a79ca32f82ddfa38f308039fdcaff0720a6118743e1e198085f1237",metadata:{},name:"boards_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c73ed7e5b29f046197e7dfcf7d7a7cd0",e.exports=o},518190:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"1380a15fe95dc7713c5d72fd6104da573f3db5b8b0ab66f883bec351df4c8a71",metadata:{},name:"boards_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="216cdb449b148a3d36e9d0621dcfcac5",e.exports=o},90105:e=>{var t,n,i,a,o,r,l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,t],kind:"Operation",name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"533aad425ad868e5a9d811bf76dccd56e54e0cc48c4c8b526ccbcd7c68efb981",metadata:{},name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};l.hash="b03dba13d39482d785778ba0feadca06",e.exports=l},472297:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[i,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,r,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"e100ea491b53ee042f6d9a7f42b583afafd9b8a730b43e06b81b9132821866ea",metadata:{},name:"boards_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="ecec88eadc69c1153ca5e0c4bfe03fd9",e.exports=d},787525:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_emails_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3InviteBoardCollaboratorEmail",abstractKey:null},{kind:"InlineFragment",selections:[i,a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_emails_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"4d372bf76e6f77707e9106c02f73ec23773c4bd7e457dc684ea7dd1b87985c7c",metadata:{},name:"boards_emails_Mutation",operationKind:"mutation",text:null}};o.hash="0659a1edf1c7935aff1deef3f51f2add",e.exports=o},16945:e=>{var t,n,i,a,o,r,l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_users_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"boards_users_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9495c71001fb315e3dc5e63ec17a8d8d5a4fb53ebc7f791b44093a4a92665835",metadata:{},name:"boards_users_Mutation",operationKind:"mutation",text:null}};l.hash="743ce0da1ac8191550520ebe045b4fb0",e.exports=l},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},789849:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCarouselSlotsWithImagesFragment",selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'}],storageKey:null}],type:"PinCarouselData",abstractKey:null};n.hash="6ee0e06d6e3b47f9396e4ede80e7ecdd",e.exports=n},848842:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="8d7bd7a5f2c2827017b3814423934967",e.exports=i},96795:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},225602:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"11d828252f89045bc37e6aa5eb3fbea6"};e.exports=t},753140:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichMetadataProductsAdditionalImagesFragment",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="5f94f91848fd463f5381b36dd565e15d",e.exports=n},377445:e=>{var t,n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f,b,x,P,S,w,T,k,E,I={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichSnippetPin_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priceCurrency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[d={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:s,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},p={alias:"imageSpec_orig",args:c=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:u=[l,o,r],storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_orig",args:c,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:u,storageKey:'imagesAdjusted(spec:"orig")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:_=[m={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},y={kind:"InlineFragment",selections:v=[m,g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"IngredientBlock",abstractKey:null},f={kind:"InlineFragment",selections:v,type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:[m,h,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:s,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[d],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[m,h,p],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:_,type:"ParagraphBlock",abstractKey:null},x={kind:"InlineFragment",selections:b=[h,m],type:"HeadingBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[P={kind:"InlineFragment",selections:b,type:"TextBlock",abstractKey:null},y,f,S={kind:"InlineFragment",selections:b,type:"ParagraphBlock",abstractKey:null},x,{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[P,y,f,S,x],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,t,o,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[w={alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:E=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:E,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[k,w,{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},T],storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[a,i],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[o],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};I.hash="6e07adae27658d8f79a271105ecbf15b",e.exports=I},784091:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="be1864520883fcc12e69e99c1323d274",e.exports=n},110767:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:a=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:a,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t],kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"db5062450db0e02738a779a9cdc581b0b7c368d249bd91b591baf576f0d7dece",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};d.hash="7c726e4c4d9c734b1de6ea24d96a42a1",e.exports=d},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var r=a.apply(null,n);r&&e.push(r)}else if("object"===o)for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},347702:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-55781e6a.svg"},852544:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-1e39c058.svg"},430467:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-89903abe.svg"},240291:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-ce03475d.svg"},971908:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-edd99000.svg"},815135:e=>{e.exports="https://s.pinimg.com/webapp/haha-113eb87d.svg"},859261:e=>{e.exports="https://s.pinimg.com/webapp/love-a7ffb465.svg"},212713:e=>{e.exports="https://s.pinimg.com/webapp/thanks-7994286c.svg"},16115:e=>{e.exports="https://s.pinimg.com/webapp/wow-0a7ea725.svg"},839730:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-05fee79b.svg"},757846:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},370043:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},613508:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},163409:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},30722:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-338cc9cb.svg"},816559:e=>{e.exports="https://s.pinimg.com/webapp/haha-2d36da68.svg"},32684:e=>{e.exports="https://s.pinimg.com/webapp/heartOutline-1f1b1ac2.svg"},208388:e=>{e.exports="https://s.pinimg.com/webapp/love-cf7c22da.svg"},508296:e=>{e.exports="https://s.pinimg.com/webapp/thanks-1f2971cc.svg"},912746:e=>{e.exports="https://s.pinimg.com/webapp/wow-ba699344.svg"},618552:(e,t,n)=>{var i=n(610852)(n(555639),"DataView");e.exports=i},301989:(e,t,n)=>{var i=n(751789),a=n(780401),o=n(657667),r=n(521327),l=n(281866);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=l,e.exports=s},738407:(e,t,n)=>{var i=n(327040),a=n(514125),o=n(882117),r=n(567518),l=n(654705);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=l,e.exports=s},357071:(e,t,n)=>{var i=n(610852)(n(555639),"Map");e.exports=i},883369:(e,t,n)=>{var i=n(924785),a=n(611285),o=n(396e3),r=n(349916),l=n(195265);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=r,s.prototype.set=l,e.exports=s},853818:(e,t,n)=>{var i=n(610852)(n(555639),"Promise");e.exports=i},458525:(e,t,n)=>{var i=n(610852)(n(555639),"Set");e.exports=i},288668:(e,t,n)=>{var i=n(883369),a=n(90619),o=n(572385);function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},646384:(e,t,n)=>{var i=n(738407),a=n(737465),o=n(963779),r=n(267599),l=n(744758),s=n(234309);function d(e){var t=this.__data__=new i(e);this.size=t.size}d.prototype.clear=a,d.prototype.delete=o,d.prototype.get=r,d.prototype.has=l,d.prototype.set=s,e.exports=d},562705:(e,t,n)=>{var i=n(555639).Symbol;e.exports=i},611149:(e,t,n)=>{var i=n(555639).Uint8Array;e.exports=i},70577:(e,t,n)=>{var i=n(610852)(n(555639),"WeakMap");e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},477412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},234963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=0,o=[];++n<i;){var r=e[n];t(r,n,e)&&(o[a++]=r)}return o}},14636:(e,t,n)=>{var i=n(422545),a=n(135694),o=n(701469),r=n(644144),l=n(565776),s=n(936719),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&a(e),u=!n&&!c&&r(e),p=!n&&!c&&!u&&s(e),m=n||c||u||p,h=m?i(e.length,String):[],_=h.length;for(var g in e)!t&&!d.call(e,g)||m&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,_))||h.push(g);return h}},829932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}},862488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}},282908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},286556:(e,t,n)=>{var i=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},234865:(e,t,n)=>{var i=n(789465),a=n(977813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}},218470:(e,t,n)=>{var i=n(977813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},744037:(e,t,n)=>{var i=n(698363),a=n(3674);e.exports=function(e,t){return e&&i(t,a(t),e)}},163886:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e,t){return e&&i(t,a(t),e)}},789465:(e,t,n)=>{var i=n(538777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},285990:(e,t,n)=>{var i=n(646384),a=n(477412),o=n(234865),r=n(744037),l=n(163886),s=n(364626),d=n(200278),c=n(318805),u=n(201911),p=n(458234),m=n(946904),h=n(664160),_=n(43824),g=n(529148),v=n(738517),y=n(701469),f=n(644144),b=n(356688),x=n(513218),P=n(472928),S=n(3674),w=n(481704),T="[object Arguments]",k="[object Function]",E="[object Object]",I={};I[T]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[E]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[k]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,A,C,R,j){var D,O=1&n,L=2&n,N=4&n;if(A&&(D=R?A(t,C,R,j):A(t)),void 0!==D)return D;if(!x(t))return t;var F=y(t);if(F){if(D=_(t),!O)return d(t,D)}else{var M=h(t),z=M==k||"[object GeneratorFunction]"==M;if(f(t))return s(t,O);if(M==E||M==T||z&&!R){if(D=L||z?{}:v(t),!O)return L?u(t,l(D,t)):c(t,r(D,t))}else{if(!I[M])return R?t:{};D=g(t,M,O)}}j||(j=new i);var U=j.get(t);if(U)return U;j.set(t,D),P(t)?t.forEach((function(i){D.add(e(i,n,A,i,t,j))})):b(t)&&t.forEach((function(i,a){D.set(a,e(i,n,A,a,t,j))}));var B=F?void 0:(N?L?m:p:L?w:S)(t);return a(B||t,(function(i,a){B&&(i=t[a=i]),o(D,a,e(i,n,A,a,t,j))})),D}},603118:(e,t,n)=>{var i=n(513218),a=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},868866:(e,t,n)=>{var i=n(862488),a=n(701469);e.exports=function(e,t,n){var o=t(e);return a(e)?o:i(o,n(e))}},644239:(e,t,n)=>{var i=n(562705),a=n(789607),o=n(902333),r=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?a(e):o(e)}},909454:(e,t,n)=>{var i=n(644239),a=n(637005);e.exports=function(e){return a(e)&&"[object Arguments]"==i(e)}},690939:(e,t,n)=>{var i=n(902492),a=n(637005);e.exports=function e(t,n,o,r,l){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:i(t,n,o,r,e,l))}},902492:(e,t,n)=>{var i=n(646384),a=n(967114),o=n(518351),r=n(916096),l=n(664160),s=n(701469),d=n(644144),c=n(936719),u="[object Arguments]",p="[object Array]",m="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,_,g,v){var y=s(e),f=s(t),b=y?p:l(e),x=f?p:l(t),P=(b=b==u?m:b)==m,S=(x=x==u?m:x)==m,w=b==x;if(w&&d(e)){if(!d(t))return!1;y=!0,P=!1}if(w&&!P)return v||(v=new i),y||c(e)?a(e,t,n,_,g,v):o(e,t,b,n,_,g,v);if(!(1&n)){var T=P&&h.call(e,"__wrapped__"),k=S&&h.call(t,"__wrapped__");if(T||k){var E=T?e.value():e,I=k?t.value():t;return v||(v=new i),g(E,I,n,_,v)}}return!!w&&(v||(v=new i),r(e,t,n,_,g,v))}},225588:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Map]"==i(e)}},28458:(e,t,n)=>{var i=n(623560),a=n(215346),o=n(513218),r=n(680346),l=/^\[object .+?Constructor\]$/,s=Function.prototype,d=Object.prototype,c=s.toString,u=d.hasOwnProperty,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(i(e)?p:l).test(r(e))}},829221:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Set]"==i(e)}},238749:(e,t,n)=>{var i=n(644239),a=n(541780),o=n(637005),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!r[i(e)]}},400280:(e,t,n)=>{var i=n(225726),a=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},710313:(e,t,n)=>{var i=n(513218),a=n(225726),o=n(133498),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=a(e),n=[];for(var l in e)("constructor"!=l||!t&&r.call(e,l))&&n.push(l);return n}},642980:(e,t,n)=>{var i=n(646384),a=n(286556),o=n(228483),r=n(559783),l=n(513218),s=n(481704),d=n(636390);e.exports=function e(t,n,c,u,p){t!==n&&o(n,(function(o,s){if(p||(p=new i),l(o))r(t,n,s,c,e,u,p);else{var m=u?u(d(t,s),o,s+"",t,n,p):void 0;void 0===m&&(m=o),a(t,s,m)}}),s)}},559783:(e,t,n)=>{var i=n(286556),a=n(364626),o=n(477133),r=n(200278),l=n(738517),s=n(135694),d=n(701469),c=n(229246),u=n(644144),p=n(623560),m=n(513218),h=n(968630),_=n(936719),g=n(636390),v=n(959881);e.exports=function(e,t,n,y,f,b,x){var P=g(e,n),S=g(t,n),w=x.get(S);if(w)i(e,n,w);else{var T=b?b(P,S,n+"",e,t,x):void 0,k=void 0===T;if(k){var E=d(S),I=!E&&u(S),A=!E&&!I&&_(S);T=S,E||I||A?d(P)?T=P:c(P)?T=r(P):I?(k=!1,T=a(S,!0)):A?(k=!1,T=o(S,!0)):T=[]:h(S)||s(S)?(T=P,s(P)?T=v(P):m(P)&&!p(P)||(T=l(S))):k=!1}k&&(x.set(S,T),f(T,S,y,b,x),x.delete(S)),i(e,n,T)}}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),o=n(430061);e.exports=function(e,t){return o(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),o=n(406557),r=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=r},422545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},880531:(e,t,n)=>{var i=n(562705),a=n(829932),o=n(701469),r=n(733448),l=i?i.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(r(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},727561:(e,t,n)=>{var i=n(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},307518:e=>{e.exports=function(e){return function(t){return e(t)}}},274757:e=>{e.exports=function(e,t){return e.has(t)}},274318:(e,t,n)=>{var i=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,r=o&&o.exports===a?i.Buffer:void 0,l=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=l?l(n):new e.constructor(n);return e.copy(i),i}},257157:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var i=n(562705),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},477133:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},698363:(e,t,n)=>{var i=n(234865),a=n(789465);e.exports=function(e,t,n,o){var r=!n;n||(n={});for(var l=-1,s=t.length;++l<s;){var d=t[l],c=o?o(n[d],e[d],d,n,e):void 0;void 0===c&&(c=e[d]),r?a(n,d,c):i(n,d,c)}return n}},318805:(e,t,n)=>{var i=n(698363),a=n(799551);e.exports=function(e,t){return i(e,a(e),t)}},201911:(e,t,n)=>{var i=n(698363),a=n(151442);e.exports=function(e,t){return i(e,a(e),t)}},614429:(e,t,n)=>{var i=n(555639)["__core-js_shared__"];e.exports=i},321463:(e,t,n)=>{var i=n(105976),a=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,l&&a(n[0],n[1],l)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var s=n[i];s&&e(t,s,i,r)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,o=Object(t),r=i(t),l=r.length;l--;){var s=r[e?l:++a];if(!1===n(o[s],s,o))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},967114:(e,t,n)=>{var i=n(288668),a=n(282908),o=n(274757);e.exports=function(e,t,n,r,l,s){var d=1&n,c=e.length,u=t.length;if(c!=u&&!(d&&u>c))return!1;var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var h=-1,_=!0,g=2&n?new i:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],y=t[h];if(r)var f=d?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(void 0!==f){if(f)continue;_=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(v===e||l(v,e,n,r,s)))return g.push(t)}))){_=!1;break}}else if(v!==y&&!l(v,y,n,r,s)){_=!1;break}}return s.delete(e),s.delete(t),_}},518351:(e,t,n)=>{var i=n(562705),a=n(611149),o=n(977813),r=n(967114),l=n(668776),s=n(321814),d=i?i.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,n,i,d,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=l;case"[object Set]":var h=1&i;if(m||(m=s),e.size!=t.size&&!h)return!1;var _=p.get(e);if(_)return _==t;i|=2,p.set(e,t);var g=r(m(e),m(t),i,d,u,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},916096:(e,t,n)=>{var i=n(458234),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,r,l){var s=1&n,d=i(e),c=d.length;if(c!=i(t).length&&!s)return!1;for(var u=c;u--;){var p=d[u];if(!(s?p in t:a.call(t,p)))return!1}var m=l.get(e),h=l.get(t);if(m&&h)return m==t&&h==e;var _=!0;l.set(e,t),l.set(t,e);for(var g=s;++u<c;){var v=e[p=d[u]],y=t[p];if(o)var f=s?o(y,v,p,t,e,l):o(v,y,p,e,t,l);if(!(void 0===f?v===y||r(v,y,n,o,l):f)){_=!1;break}g||(g="constructor"==p)}if(_&&!g){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(_=!1)}return l.delete(e),l.delete(t),_}},889464:(e,t,n)=>{var i=n(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},431957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},458234:(e,t,n)=>{var i=n(868866),a=n(799551),o=n(3674);e.exports=function(e){return i(e,o,a)}},946904:(e,t,n)=>{var i=n(868866),a=n(151442),o=n(481704);e.exports=function(e){return i(e,o,a)}},45050:(e,t,n)=>{var i=n(37019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},610852:(e,t,n)=>{var i=n(28458),a=n(647801);e.exports=function(e,t){var n=a(e,t);return i(n)?n:void 0}},385924:(e,t,n)=>{var i=n(205569)(Object.getPrototypeOf,Object);e.exports=i},789607:(e,t,n)=>{var i=n(562705),a=Object.prototype,o=a.hasOwnProperty,r=a.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(s){}var a=r.call(e);return i&&(t?e[l]=n:delete e[l]),a}},799551:(e,t,n)=>{var i=n(234963),a=n(770479),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,l=r?function(e){return null==e?[]:(e=Object(e),i(r(e),(function(t){return o.call(e,t)})))}:a;e.exports=l},151442:(e,t,n)=>{var i=n(862488),a=n(385924),o=n(799551),r=n(770479),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=a(e);return t}:r;e.exports=l},664160:(e,t,n)=>{var i=n(618552),a=n(357071),o=n(853818),r=n(458525),l=n(70577),s=n(644239),d=n(680346),c="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",h="[object DataView]",_=d(i),g=d(a),v=d(o),y=d(r),f=d(l),b=s;(i&&b(new i(new ArrayBuffer(1)))!=h||a&&b(new a)!=c||o&&b(o.resolve())!=u||r&&b(new r)!=p||l&&b(new l)!=m)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,i=n?d(n):"";if(i)switch(i){case _:return h;case g:return c;case v:return u;case y:return p;case f:return m}return t}),e.exports=b},647801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},751789:(e,t,n)=>{var i=n(894536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},780401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},657667:(e,t,n)=>{var i=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},521327:(e,t,n)=>{var i=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}},281866:(e,t,n)=>{var i=n(894536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},529148:(e,t,n)=>{var i=n(274318),a=n(257157),o=n(593147),r=n(540419),l=n(477133);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return o(e);case"[object Set]":return new s;case"[object Symbol]":return r(e)}}},738517:(e,t,n)=>{var i=n(603118),a=n(385924),o=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}},565776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),o=n(565776),r=n(513218);e.exports=function(e,t,n){if(!r(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&o(t,n.length):"string"==l&&t in n)&&i(n[t],e)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},215346:(e,t,n)=>{var i,a=n(614429),o=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},225726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},327040:e=>{e.exports=function(){this.__data__=[],this.size=0}},514125:(e,t,n)=>{var i=n(218470),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},882117:(e,t,n)=>{var i=n(218470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},567518:(e,t,n)=>{var i=n(218470);e.exports=function(e){return i(this.__data__,e)>-1}},654705:(e,t,n)=>{var i=n(218470);e.exports=function(e,t){var n=this.__data__,a=i(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},924785:(e,t,n)=>{var i=n(301989),a=n(738407),o=n(357071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}},611285:(e,t,n)=>{var i=n(45050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},396e3:(e,t,n)=>{var i=n(45050);e.exports=function(e){return i(this,e).get(e)}},349916:(e,t,n)=>{var i=n(45050);e.exports=function(e){return i(this,e).has(e)}},195265:(e,t,n)=>{var i=n(45050);e.exports=function(e,t){var n=i(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},668776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},894536:(e,t,n)=>{var i=n(610852)(Object,"create");e.exports=i},86916:(e,t,n)=>{var i=n(205569)(Object.keys,Object);e.exports=i},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},531167:(e,t,n)=>{e=n.nmd(e);var i=n(431957),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,r=o&&o.exports===a&&i.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||r&&r.binding&&r.binding("util")}catch(t){}}();e.exports=l},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},205569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,l=a(o.length-t,0),s=Array(l);++r<l;)s[r]=o[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=o[r];return d[t]=n(s),i(e,this,d)}}},555639:(e,t,n)=>{var i=n(431957),a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")();e.exports=o},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),o=16-(a-i);if(i=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},737465:(e,t,n)=>{var i=n(738407);e.exports=function(){this.__data__=new i,this.size=0}},963779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},267599:e=>{e.exports=function(e){return this.__data__.get(e)}},744758:e=>{e.exports=function(e){return this.__data__.has(e)}},234309:(e,t,n)=>{var i=n(738407),a=n(357071),o=n(883369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!a||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}},680346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},150361:(e,t,n)=>{var i=n(285990);e.exports=function(e){return i(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var i=n(513218),a=n(707771),o=n(14841),r=Math.max,l=Math.min;e.exports=function(e,t,n){var s,d,c,u,p,m,h=0,_=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,i=d;return s=d=void 0,h=t,u=e.apply(i,n)}function f(e){return h=e,p=setTimeout(x,t),_?y(e):u}function b(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-h>=c}function x(){var e=a();if(b(e))return P(e);p=setTimeout(x,function(e){var n=t-(e-m);return g?l(n,c-(e-h)):n}(e))}function P(e){return p=void 0,v&&s?y(e):(s=d=void 0,u)}function S(){var e=a(),n=b(e);if(s=arguments,d=this,m=e,n){if(void 0===p)return f(m);if(g)return clearTimeout(p),p=setTimeout(x,t),y(m)}return void 0===p&&(p=setTimeout(x,t)),u}return t=o(t)||0,i(n)&&(_=!!n.leading,c=(g="maxWait"in n)?r(o(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=m=d=p=void 0},S.flush=function(){return void 0===p?u:P(a())},S}},977813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},607187:(e,t,n)=>{var i=n(889464),a=n(479833),o=/[&<>"']/g,r=RegExp(o.source);e.exports=function(e){return(e=a(e))&&r.test(e)?e.replace(o,i):e}},406557:e=>{e.exports=function(e){return e}},135694:(e,t,n)=>{var i=n(909454),a=n(637005),o=Object.prototype,r=o.hasOwnProperty,l=o.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(e){return a(e)&&r.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},701469:e=>{var t=Array.isArray;e.exports=t},498612:(e,t,n)=>{var i=n(623560),a=n(541780);e.exports=function(e){return null!=e&&a(e.length)&&!i(e)}},229246:(e,t,n)=>{var i=n(498612),a=n(637005);e.exports=function(e){return a(e)&&i(e)}},644144:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=n(595062),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,l=r&&r.exports===o?i.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;e.exports=s},618446:(e,t,n)=>{var i=n(690939);e.exports=function(e,t){return i(e,t)}},623560:(e,t,n)=>{var i=n(644239),a=n(513218);e.exports=function(e){if(!a(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},541780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},356688:(e,t,n)=>{var i=n(225588),a=n(307518),o=n(531167),r=o&&o.isMap,l=r?a(r):i;e.exports=l},513218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},968630:(e,t,n)=>{var i=n(644239),a=n(385924),o=n(637005),r=Function.prototype,l=Object.prototype,s=r.toString,d=l.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},472928:(e,t,n)=>{var i=n(829221),a=n(307518),o=n(531167),r=o&&o.isSet,l=r?a(r):i;e.exports=l},733448:(e,t,n)=>{var i=n(644239),a=n(637005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==i(e)}},936719:(e,t,n)=>{var i=n(238749),a=n(307518),o=n(531167),r=o&&o.isTypedArray,l=r?a(r):i;e.exports=l},3674:(e,t,n)=>{var i=n(14636),a=n(400280),o=n(498612);e.exports=function(e){return o(e)?i(e):a(e)}},481704:(e,t,n)=>{var i=n(14636),a=n(710313),o=n(498612);e.exports=function(e){return o(e)?i(e,!0):a(e)}},682492:(e,t,n)=>{var i=n(642980),a=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=a},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},770479:e=>{e.exports=function(){return[]}},595062:e=>{e.exports=function(){return!1}},14841:(e,t,n)=>{var i=n(727561),a=n(513218),o=n(733448),r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):r.test(e)?NaN:+e}},959881:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e){return i(e,a(e))}},479833:(e,t,n)=>{var i=n(880531);e.exports=function(e){return null==e?"":i(e)}},782677:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,t,n){return Object.keys(e).reduce((function(t,i){var a=""+i;return t.has(a)?t.set(a,n(t.get(a),e[a])):t}),t)}n.d(t,{Fv:()=>x,fK:()=>b});var d=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var i=n,a=i.idAttribute,r=void 0===a?"id":a,s=i.mergeStrategy,d=void 0===s?function(e,t){return o({},e,t)}:s,c=i.processStrategy,u=void 0===c?function(e){return o({},e)}:c,p=i.fallbackStrategy,m=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof r?r:function(e){return function(t){return l(t)?t.get(e):t[e]}}(r),this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=m,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return o({},t,((i={})[n]=a,i))}),this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,a,o){var r=this,l=this.getId(e,t,n),s=this.key;if(s in o||(o[s]={}),l in o[s]||(o[s][l]=[]),o[s][l].some((function(t){return t===e})))return l;o[s][l].push(e);var d=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var n=r.schema[t],l="function"==typeof n?n(e):n;d[t]=i(d[t],d,t,l,a,o)}})),a(this,d,e,t,n),l},t.denormalize=function(e,t){var n=this;return l(e)?s(this.schema,e,t):(Object.keys(this.schema).forEach((function(i){if(e.hasOwnProperty(i)){var a=n.schema[i];e[i]=t(e[i],a)}})),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var i=this.getSchemaAttribute(e,t,n);return this.schema[i]},t.normalizeValue=function(e,t,n,i,a,o){var r=this.inferSchema(e,t,n);if(!r)return e;var l=i(e,t,n,r,a,o);return this.isSingleSchema||null==l?l:{id:l,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=l(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:l(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,o){return this.normalizeValue(e,t,n,i,a,o)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,r){var l=this;return Object.keys(e).reduce((function(t,n,s){var d,c=e[n];return null!=c?o({},t,((d={})[n]=l.normalizeValue(c,e,n,i,a,r),d)):t}),{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce((function(i,a){var r,l=e[a];return o({},i,((r={})[a]=n.denormalizeValue(l,t),r))}),{})},t}(c),m=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},h=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},_=function(e,t,n,i,a,o,r){return e=m(e),h(t).map((function(t,l){return a(t,n,i,e,o,r)}))},g=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,o){var r=this;return h(e).map((function(e,l){return r.normalizeValue(e,t,n,i,a,o)})).filter((function(e){return null!=e}))},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map((function(e){return n.denormalizeValue(e,t)})):e},t}(c),v=function(e,t,n,i,a,r,l){var s=o({},t);return Object.keys(e).forEach((function(n){var i=e[n],o="function"==typeof i?i(t):i,d=a(t[n],t,n,o,r,l);null==d?delete s[n]:s[n]=d})),s},y=function(e,t,n){if(l(t))return s(e,t,n);var i=o({},t);return Object.keys(e).forEach((function(t){null!=i[t]&&(i[t]=n(i[t],e[t]))})),i},f=function e(t,n,i,a,o,r){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,i,e,o,r):(Array.isArray(a)?_:v)(a,t,n,i,e,o,r):t},b={Array:g,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return o({},t,((i={})[n]=a,i))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},x=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={},i=function(e){return function(t,n,i,a,o){var r=t.key,l=t.getId(i,a,o);r in e||(e[r]={});var s=e[r][l];e[r][l]=s?t.merge(s,n):n}}(n);return{entities:n,result:f(e,e,null,t,i,{})}}},762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,a){n=n||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(n);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var s=e.length;l>0&&s>l&&(s=l);for(var d=0;d<s;++d){var c,u,p,m,h=e[d].replace(r,"%20"),_=h.indexOf(i);_>=0?(c=h.substr(0,_),u=h.substr(_+1)):(c=h,u=""),p=decodeURIComponent(c),m=decodeURIComponent(u),t(o,p)?Array.isArray(o[p])?o[p].push(m):o[p]=[o[p],m]:o[p]=m}return o}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,a){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(t(a))+i;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function a(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,a=null;return function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(a=e.apply(void 0,o)),n=o,a}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function r(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var l=0,s=a.pop(),d=o(a),c=e.apply(void 0,[function(){return l++,s.apply(void 0,arguments)}].concat(i)),u=function(e,t){for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var r=d.map((function(n){return n.apply(void 0,[e,t].concat(a))}));return c.apply(void 0,n(r))};return u.resultFunc=s,u.recomputations=function(){return l},u.resetRecomputations=function(){return l=0},u}}var l=t.P1=r(a)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<o(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,r=a>>>1;i<r;){var l=2*(i+1)-1,s=e[l],d=l+1,c=e[d];if(0>o(s,n))d<a&&0>o(c,s)?(e[i]=c,e[d]=n,i=d):(e[i]=s,e[l]=n,i=l);else{if(!(d<a&&0>o(c,n)))break e;e[i]=c,e[d]=n,i=d}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var d=[],c=[],u=1,p=null,m=3,h=!1,_=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(d,t)}t=i(c)}}function x(e){if(g=!1,b(e),!_)if(null!==i(d))_=!0,D(P);else{var t=i(c);null!==t&&O(x,t.startTime-e)}}function P(e,n){_=!1,g&&(g=!1,y(k),k=-1),h=!0;var o=m;try{for(b(n),p=i(d);null!==p&&(!(p.expirationTime>n)||e&&!A());){var r=p.callback;if("function"==typeof r){p.callback=null,m=p.priorityLevel;var l=r(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===i(d)&&a(d),b(n)}else a(d);p=i(d)}if(null!==p)var s=!0;else{var u=i(c);null!==u&&O(x,u.startTime-n),s=!1}return s}finally{p=null,m=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,w=!1,T=null,k=-1,E=5,I=-1;function A(){return!(t.unstable_now()-I<E)}function C(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(w=!1,T=null)}}else w=!1}if("function"==typeof f)S=function(){f(C)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=C,S=function(){j.postMessage(null)}}else S=function(){v(C,0)};function D(e){T=e,w||(w=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||h||(_=!0,D(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,o){var r=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?r+o:r:o=r,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>r?(e.sortIndex=o,n(c,e),null===i(d)&&e===i(c)&&(g?(y(k),k=-1):g=!0,O(x,o-r))):(e.sortIndex=l,n(d,e),_||h||(_=!0,D(P))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},42238:function(e,t,n){var i;!function(a,o){var r="function",l="undefined",s="object",d="string",c="model",u="name",p="type",m="vendor",h="version",_="architecture",g="console",v="mobile",y="tablet",f="smarttv",b="wearable",x="embedded",P={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return typeof e===d&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===l?e:e.substring(0,255)}},S={rgx:function(e,t){for(var n,i,a,l,d,c,u=0;u<t.length&&!d;){var p=t[u],m=t[u+1];for(n=i=0;n<p.length&&!d;)if(d=p[n++].exec(e))for(a=0;a<m.length;a++)c=d[++i],typeof(l=m[a])===s&&l.length>0?2==l.length?typeof l[1]==r?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3==l.length?typeof l[1]!==r||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):o:this[l[0]]=c?l[1].call(this,c,l[2]):o:4==l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):o):this[l]=c||o;u+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(P.has(t[n][i],e))return"?"===n?o:n}else if(P.has(t[n],e))return"?"===n?o:n;return e}},w={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[u,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[u,h],[/opios[\/\s]+([\w\.]+)/i],[h,[u,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[h,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,h],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[h,[u,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[h,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[u,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[h,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],h],[/focus\/([\w\.]+)/i],[h,[u,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[h,[u,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[h,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[u,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[h,[u,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[u,h],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[u],[/;fbav\/([\w\.]+);/i],[h,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[u,h],[/\bgsa\/([\w\.]+)\s.*safari\//i],[h,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[h,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],h],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[h,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,h],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[h,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[h,S.str,w.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],h],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[h,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,P.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[_,/ower/,"",P.lowerize]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,P.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[c,[m,"Samsung"],[p,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[c,[m,"Samsung"],[p,v]],[/\((ip(?:hone|od)[\s\w]*);/i],[c,[m,"Apple"],[p,v]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[m,"Apple"],[p,y]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[c,[m,"Huawei"],[p,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[c,[m,"Huawei"],[p,v]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[m,"Xiaomi"],[p,v]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[c,/_/g," "],[m,"Xiaomi"],[p,y]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[c,[m,"OPPO"],[p,v]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[c,[m,"Vivo"],[p,v]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[c,[m,"Realme"],[p,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[c,[m,"Motorola"],[p,v]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[m,"Motorola"],[p,y]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[c,[m,"LG"],[p,y]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[c,[m,"LG"],[p,v]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[c,[m,"Lenovo"],[p,y]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[c,/_/g," "],[m,"Nokia"],[p,v]],[/droid.+;\s(pixel\sc)[\s)]/i],[c,[m,"Google"],[p,y]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[c,[m,"Google"],[p,v]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[m,"Sony"],[p,v]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[c,"Xperia Tablet"],[m,"Sony"],[p,y]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[c,[m,"OnePlus"],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[c,[m,"Amazon"],[p,y]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,"Fire Phone"],[m,"Amazon"],[p,v]],[/\((playbook);[\w\s\),;-]+(rim)/i],[c,m,[p,y]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[c,[m,"BlackBerry"],[p,v]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[c,[m,"ASUS"],[p,y]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[c,[m,"ASUS"],[p,v]],[/(nexus\s9)/i],[c,[m,"HTC"],[p,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[m,[c,/_/g," "],[p,v]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[m,"Acer"],[p,y]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[c,[m,"Meizu"],[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[m,c,[p,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[m,c,[p,y]],[/\s(surface\sduo)\s/i],[c,[m,"Microsoft"],[p,y]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[c,[m,"Fairphone"],[p,v]],[/\s(u304aa)\sbuild/i],[c,[m,"AT&T"],[p,v]],[/sie-(\w*)/i],[c,[m,"Siemens"],[p,v]],[/[;\/]\s?(rct\w+)\sbuild/i],[c,[m,"RCA"],[p,y]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[c,[m,"Dell"],[p,y]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[c,[m,"Verizon"],[p,y]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[c,[m,"Barnes & Noble"],[p,y]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[c,[m,"NuVision"],[p,y]],[/;\s(k88)\sbuild/i],[c,[m,"ZTE"],[p,y]],[/;\s(nx\d{3}j)\sbuild/i],[c,[m,"ZTE"],[p,v]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[c,[m,"Swiss"],[p,v]],[/[;\/]\s?(zur\d{3})\sbuild/i],[c,[m,"Swiss"],[p,y]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[c,[m,"Zeki"],[p,y]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[m,"Dragon Touch"],c,[p,y]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[c,[m,"Insignia"],[p,y]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[c,[m,"NextBook"],[p,y]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[m,"Voice"],c,[p,v]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[m,"LvTel"],c,[p,v]],[/;\s(ph-1)\s/i],[c,[m,"Essential"],[p,v]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[c,[m,"Envizen"],[p,y]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[c,[m,"MachSpeed"],[p,y]],[/[;\/]\s?tu_(1491)\sbuild/i],[c,[m,"Rotor"],[p,y]],[/(shield[\w\s]+)\sbuild/i],[c,[m,"Nvidia"],[p,y]],[/(sprint)\s(\w+)/i],[m,c,[p,v]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[m,"Microsoft"],[p,v]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[m,"Zebra"],[p,y]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[m,"Zebra"],[p,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[m,c,[p,g]],[/droid.+;\s(shield)\sbuild/i],[c,[m,"Nvidia"],[p,g]],[/(playstation\s[345portablevi]+)/i],[c,[m,"Sony"],[p,g]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[c,[m,"Microsoft"],[p,g]],[/smart-tv.+(samsung)/i],[m,[p,f]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[m,"Samsung"],[p,f]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[m,"LG"],[p,f]],[/(apple)\s?tv/i],[m,[c,"Apple TV"],[p,f]],[/crkey/i],[[c,"Chromecast"],[m,"Google"],[p,f]],[/droid.+aft([\w])(\sbuild\/|\))/i],[c,[m,"Amazon"],[p,f]],[/\(dtv[\);].+(aquos)/i],[c,[m,"Sharp"],[p,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[m,P.trim],[c,P.trim],[p,f]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[p,f]],[/((pebble))app\/[\d\.]+\s/i],[m,c,[p,b]],[/droid.+;\s(glass)\s\d/i],[c,[m,"Google"],[p,b]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[c,[m,"Zebra"],[p,b]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[m,[p,x]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[p,v]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[p,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,P.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[m,"Generic"]],[/(phone)/i],[[p,v]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[u,[h,S.str,w.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[h,S.str,w.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[u,"Mac OS"],[h,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[u,h],[/\(bb(10);/i],[h,[u,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[h,[u,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[u,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],h],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[u,h],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],h],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,h]]},k=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof k))return new k(e,t).getResult();var n=e||(void 0!==a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),i=t?P.extend(T,t):T;return this.getBrowser=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.browser),e.major=P.major(e.version),e},this.getCPU=function(){var e={architecture:o};return S.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return S.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>255?P.trim(e,255):e,this},this.setUA(n),this};k.VERSION="0.7.28",k.BROWSER={NAME:u,MAJOR:"major",VERSION:h},k.CPU={ARCHITECTURE:_},k.DEVICE={MODEL:c,VENDOR:m,TYPE:p,CONSOLE:g,MOBILE:v,SMARTTV:f,TABLET:y,WEARABLE:b,EMBEDDED:x},k.ENGINE={NAME:u,VERSION:h},k.OS={NAME:u,VERSION:h},typeof t!==l?(e.exports&&(t=e.exports=k),t.UAParser=k):(i=function(){return k}.call(t,n,t,e))===o||(e.exports=i);var E=void 0!==a&&(a.jQuery||a.Zepto);if(E&&!E.ua){var I=new k;E.ua=I.getResult(),E.ua.get=function(){return I.getUA()},E.ua.set=function(e){I.setUA(e);var t=I.getResult();for(var n in t)E.ua[n]=t[n]}}}("object"==typeof window?window:this)},52511:function(e,t,n){var i;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var r,l=2147483647,s=36,d=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,h=String.fromCharCode;function _(e){throw RangeError(p[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function f(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var i=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;i+=s)e=m(e/35);return m(i+36*e/(e+38))}function P(e){var t,n,i,a,o,r,d,c,u,p,h,g=[],v=e.length,y=0,b=128,P=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&_("not-basic"),g.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<v;){for(o=y,r=1,d=s;a>=v&&_("invalid-input"),((c=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:s)>=s||c>m((l-y)/r))&&_("overflow"),y+=c*r,!(c<(u=d<=P?1:d>=P+26?26:d-P));d+=s)r>m(l/(p=s-u))&&_("overflow"),r*=p;P=x(y-o,t=g.length+1,0==o),m(y/t)>l-b&&_("overflow"),b+=m(y/t),y%=t,g.splice(y++,0,b)}return f(g)}function S(e){var t,n,i,a,o,r,d,c,u,p,g,v,f,P,S,w=[];for(v=(e=y(e)).length,t=128,n=0,o=72,r=0;r<v;++r)(g=e[r])<128&&w.push(h(g));for(i=a=w.length,a&&w.push("-");i<v;){for(d=l,r=0;r<v;++r)(g=e[r])>=t&&g<d&&(d=g);for(d-t>m((l-n)/(f=i+1))&&_("overflow"),n+=(d-t)*f,t=d,r=0;r<v;++r)if((g=e[r])<t&&++n>l&&_("overflow"),g==t){for(c=n,u=s;!(c<(p=u<=o?1:u>=o+26?26:u-o));u+=s)S=c-p,P=s-p,w.push(h(b(p+S%P,0))),c=m(S/P);w.push(h(b(c,0))),o=x(n,f,i==a),n=0,++i}++n,++t}return w.join("")}r={version:"1.3.2",ucs2:{decode:y,encode:f},decode:P,encode:S,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return d.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}()},608575:(e,t,n)=>{var i=n(52511),a=n(762502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=f,t.resolve=function(e,t){return f(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?f(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=f(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var r=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(d),u=["%","/","?",";","#"].concat(c),p=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(817673);function f(e,t,n){if(e&&a.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),l=-1!==o&&o<e.indexOf("#")?"?":"#",d=e.split(l);d[0]=d[0].replace(/\\/g,"/");var f=e=d.join(l);if(f=f.trim(),!n&&1===e.split("#").length){var b=s.exec(f);if(b)return this.path=f,this.href=f,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=r.exec(f);if(x){var P=(x=x[0]).toLowerCase();this.protocol=P,f=f.substr(x.length)}if(n||x||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===f.substr(0,2);!S||x&&g[x]||(f=f.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!v[x])){for(var w,T,k=-1,E=0;E<p.length;E++){-1!==(I=f.indexOf(p[E]))&&(-1===k||I<k)&&(k=I)}-1!==(T=-1===k?f.lastIndexOf("@"):f.lastIndexOf("@",k))&&(w=f.slice(0,T),f=f.slice(T+1),this.auth=decodeURIComponent(w)),k=-1;for(E=0;E<u.length;E++){var I;-1!==(I=f.indexOf(u[E]))&&(-1===k||I<k)&&(k=I)}-1===k&&(k=f.length),this.host=f.slice(0,k),f=f.slice(k),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var C=this.hostname.split(/\./),R=(E=0,C.length);E<R;E++){var j=C[E];if(j&&!j.match(m)){for(var D="",O=0,L=j.length;O<L;O++)j.charCodeAt(O)>127?D+="x":D+=j[O];if(!D.match(m)){var N=C.slice(0,E),F=C.slice(E+1),M=j.match(h);M&&(N.push(M[1]),F.unshift(M[2])),F.length&&(f="/"+F.join(".")+f),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==f[0]&&(f="/"+f))}if(!_[P])for(E=0,R=c.length;E<R;E++){var B=c[E];if(-1!==f.indexOf(B)){var Z=encodeURIComponent(B);Z===B&&(Z=escape(B)),f=f.split(B).join(Z)}}var V=f.indexOf("#");-1!==V&&(this.hash=f.substr(V),f=f.slice(0,V));var H=f.indexOf("?");if(-1!==H?(this.search=f.substr(H),this.query=f.substr(H+1),t&&(this.query=y.parse(this.query)),f=f.slice(0,H)):t&&(this.search="",this.query={}),f&&(this.pathname=f),v[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var K=this.search||"";this.path=z+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(r=y.stringify(this.query));var l=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),l&&"?"!==l.charAt(0)&&(l="?"+l),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(l=l.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(f(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),r=0;r<i.length;r++){var l=i[r];n[l]=this[l]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),d=0;d<s.length;d++){var c=s[d];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var m=u[p];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var _=n.pathname||"",y=n.search||"";n.path=_+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var f=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||f||n.host&&e.pathname,P=x,S=n.pathname&&n.pathname.split("/")||[],w=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(w)n.hostname=n.host=S.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===T||".."===T)||""===T,E=0,I=S.length;I>=0;I--)"."===(T=S[I])?S.splice(I,1):".."===T?(S.splice(I,1),E++):E&&(S.splice(I,1),E--);if(!x&&!P)for(;E--;E)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var A,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);w&&(n.hostname=n.host=C?"":S.length?S.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(x=x||n.host&&S.length)&&!C&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},653250:(e,t,n)=>{var i=n(667294);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,r=i.useEffect,l=i.useLayoutEffect,s=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(i){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),a=i[0].inst,c=i[1];return l((function(){a.value=n,a.getSnapshot=t,d(a)&&c({inst:a})}),[e,n,t]),r((function(){return d(a)&&c({inst:a}),e((function(){d(a)&&c({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},950139:(e,t,n)=>{var i=n(667294),a=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useSyncExternalStore,l=i.useRef,s=i.useEffect,d=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!s){if(s=!0,r=e,e=i(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return l=t}return l=e}if(t=l,o(r,e))return t;var n=i(e);return void 0!==a&&a(t,n)?t:(r=e,l=n)}var r,l,s=!1,d=void 0===n?null:n;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]}),[t,n,i,a]);var m=r(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=m}),[m]),c(m),m}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},813653:(e,t,n)=>{var i;n.d(t,{Z:()=>o});var a=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)}},861470:(e,t,n)=>{n.d(t,{Z:()=>l});const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"==typeof e&&i.test(e)};for(var o=[],r=0;r<256;++r)o.push((r+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}},17314:(e,t,n)=>{n.d(t,{Z:()=>d});var i,a,o=n(813653),r=n(861470),l=0,s=0;const d=function(e,t,n){var d=t&&n||0,c=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||o.Z)();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=16383&(m[6]<<8|m[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:s+1,g=h-l+(_-s)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,s=_,a=p;var v=(1e4*(268435455&(h+=122192928e5))+_)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var y=h/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,r.Z)(c)}},172045:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(813653),a=n(861470);const o=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return(0,a.Z)(o)}},262794:e=>{e.exports={LinkClusterLevel:{RAW:0,NORMALIZED:1,PATH:2,L2:3,L1:4,DOMAIN:5,SITE_CHUNK:6,LANDING_DOMAIN:7},SearchVertical:{UNIVERSAL:0,PIN:1,BOARD:2,USER:3,PERSONAL:4,AUTOCOMPLETE:5,PIN_REALTIME:6,PERSONAL_REALTIME:7,PLACE:8,PIN_EXP:9,BOARD_EXP:10,USER_EXP:11,INTERESTS:12,PIN_FRONTIER:13,PERSONAL_TOPIC:14,PERSONAL_TOPIC_BOARD:15,GENERIC:16},SearchIndexType:{UNKNOWN:22,PIN:1,BOARD:2,USER:3,PERSONAL:4,ADQUERY:6,VISUAL:7,AUTOCOMPLETE:8,GENERIC:9,AUTOCOMPLETE_METATRON:10,AUTOCOMPLETE_CONTACTS:11,PEACH:15,QUERY:16,BESTPINDOC:17,HBASE:18,HBASE_SHOPPING_ADS:20,HBASE_SHOPPING_CATALOG:21,AD:5,SHOPPING_ADS:12,SOV_ADS:13,KEYWORD_ADS_DEPRECATED:14,ADS_KEYWORD:19,P2P:23,SHOPPING_ADS_PRODUCT_GROUP:24,ADS_MANAGER:25,ADS_CONVERSION_USER:35,ITEM:26,APIARY:27,INTEREST:28,CREATOR:29,STICKER:30,MUSIC:31,HF_INTEREST_PINS:32,SHUFFLE:33,KNOWLEDGE_GRAPH_NODE:34,ACQUIVATION_UNIFIED:36,PINJOIN_EMBEDDINGS:200,PINJOIN_ADS_EMBEDDINGS:201,PINJOIN_SHOPPINGADS_EMBEDDINGS:202,GRAPHSAGE_EMBEDDINGS:203,PINJOIN_EMBEDDINGS_V5:204,HF_TWO_TOWER_EMBEDDINGS:205,RECSEQ_EMBEDDINGS:206,P2P_TWO_TOWER_EMBEDDINGS:207,HF_WEB_PINS:208,SEARCHSAGE_EMBEDDINGS:209,MOMENT_EMBEDDINGS:210,NOTIFSAGE_EMBEDDINGS:211},SearchServerType:{METATRON:1,MANAS_LEAF:2,MANAS_ROOT:3,MANAS_LEAF_AND_ROOT:4},SearchCorpusType:{UNKNOWN:32,BASE:0,BASE_I18N:49,BASE_REFRESH:51,REALTIME:1,COHOST:112,FRONTIER:2,FRESH:3,BASEPRIME:4,CSR:7,CURATED:16,BEST_TOPIC_PIN:21,GOLDEN:30,EXT_FALLBACK:58,COMMERCE:8,COMMERCE_HYBRID:59,COMMERCE_ITEM_HYBRID:93,COMMERCE_BASE:5,COMMERCE_FRONTIER:6,COMMERCE_ITEM:88,COMMERCE_ITEM_BASE:90,COMMERCE_ITEM_EXP:97,COMMERCE_ITEM_EXP_2:103,COMMERCE_ITEM_EXP_3:104,COMMERCE_ITEM_EXP_4:105,ADS:9,BASEEXP:10,BASEEXP2:28,BASEEXP3:44,BASEEXP4:45,BASEEXP5:46,BASEEXP6:47,BASEEXP7:55,BASEEXP8:56,BASEEXP9:57,BASEEXP_I18N:50,BASEPRIMEEXP:11,BASEPRIMEEXP3:76,BASEPRIMESTAGING:135,COMMERCE_EXP:37,COMMERCE_HYBRID_EXP:60,DARK_READ:48,REALTIMEEXP:99,INTERLEAVING:12,ECLECTIC:13,VIDEO:14,PARTNER_VIDEO:15,STL:23,P2P_REC:17,PRODUCT:18,SHOPPING_ADS:19,SIFTER:20,ADSPIN:22,PERSONALIZE:24,PERSONALIZE_GOLDEN:31,PERSONALIZE_GOLDEN_EXP:38,PERSONALIZE_GEMINI:26,PERSONALIZE_VISUAL:27,BASESTAGING:25,REALTIMESTAGING:75,MODELSTAGING:29,INDEXSTAGING:140,INDEXPRIMESTAGING:146,PLAYGROUND:35,DYNAMIC_INSERTION:33,POLARIS:34,POLARIS_REALTIME:36,POLARIS_EXP:148,VIDEO_REALTIME:39,PINNER_AUTHORITY:40,PINNER_AUTHORITY_EXP:98,PINNER_AUTHORITY_CREATOR:119,CREATORS:41,HF_REALTIME:42,MEDIA_PLANNER:43,RECIPES:52,DIY:53,VIDEO_GRAPHSAGE:54,PIXIE_REALTIME:61,BASEPRIME_INFLUENCER_CONTENT:62,INTEREST_REALTIME:63,HF_BOARDS:64,BASEPRIME_GS:65,BASEPRIME_USER_GS:66,BASEPRIME_SYOP_GS:67,COMMERCE_USER_GS:68,COMMERCE_SYOP_GS:69,BASEPRIME_CONTEXT_GS:85,COMMERCE_CONTEXT_GS:86,COMMERCE_ITEM_USER_GS:91,COMMERCE_ITEM_CONTEXT_GS:94,BASE_FOLLOWING:133,COMMERCE_ITEM_FOLLOWING:134,USER_P2P:136,USER_P2P_REPEATED_QUERY:137,BASEEXP_V2:70,BASEPRIMEEXP_V2:71,GOLDEN_EXP_V2:72,COMMERCE_EXP_V2:73,PERSONALIZE_GOLDEN_EXP_V2:74,NAVBOOST:77,NAVBOOST_EXP:130,STORY_NAVBOOST:102,STORY_NAVBOOST_EXP:107,ENGAGEMENT_IDEA_PINS:118,P2P_ENGAGEMENT_IDEA_PINS:117,BASE_AUTOML:78,BASEPRIME_AUTOML:79,COMMERCE_AUTOML:80,COMMERCE_ITEM_AUTOML:95,COMMERCE_ITEM_AUTOML_EXP:126,COMMERCE_ITEM_AUTOML_EXP_2:127,COMMERCE_ITEM_AUTOML_EXP_3:128,COMMERCE_ITEM_AUTOML_EXP_4:129,FRESH_AUTOML:81,PERSONALIZE_GOLDEN_AUTOML:82,BASE_AUTOML_SMS:120,BASEPRIME_AUTOML_SMS:121,COMMERCE_AUTOML_SMS:122,COMMERCE_ITEM_AUTOML_SMS:123,FRESH_AUTOML_SMS:124,PERSONALIZE_GOLDEN_AUTOML_SMS:125,QUERY:83,REALTIME_BOOTSTRAP:84,ACTIVATION:87,ACTIVATION_ITEM:92,MERCHANT_ACTIVATION_GS:100,MERCHANT_ACTIVATION_GS_ITEM:101,SHOPIFY_GS:109,SHOPIFY_GS_ITEM:110,STORY_PINS_GS:89,FRESH_STORY_PINS_GS:96,NOTIFICATION:106,P2P_IDEA_PINS:108,P2P_IDEA_PINS_EXP:139,FQS:111,BASE_STYLE:113,BASE_STYLE_REWRITE:114,COMMERCE_STYLE:115,COMMERCE_STYLE_REWRITE:116,STORY_BEST_PIN:131,IDEA_PIN_TOKEN:132,HQM_GS_ITEM:138,BASE_GPU:141,BASEPRIME_GPU:142,FRESH_GPU:143,COMMERCE_ITEM_GPU:144,PERSONALIZE_GOLDEN_GPU:145,MOMENT_BASED_PINS:147,NOTIFICATION_CONTENT:149,AUDIENCE_SIZE:150},LocalReason:{NOT_LOCAL:0,LOCAL_LINK:1,LOCAL_DESC:2,LOCAL_LINK_AND_DESC:3,LOCAL_LINK_OR_DESC:4},Country:{AD:5,AE:6,AF:7,AG:8,AI:9,AL:10,AM:11,AO:12,AQ:13,AR:14,AS:15,AT:16,AU:17,AW:18,AX:19,AZ:20,BA:21,BB:22,BD:23,BE:24,BF:25,BG:26,BH:27,BI:28,BJ:29,BL:30,BM:31,BN:32,BO:33,BQ:34,BR:35,BS:36,BT:37,BV:38,BW:39,BY:40,BZ:41,CA:4,CC:42,CD:43,CF:44,CG:45,CH:46,CI:47,CK:48,CL:49,CM:50,CN:51,CO:52,CR:53,CU:54,CV:55,CW:56,CX:57,CY:58,CZ:59,DE:60,DJ:61,DK:62,DM:63,DO:64,DZ:65,EC:66,EE:67,EG:68,EH:69,ER:70,ES:71,ET:72,FI:73,FJ:74,FK:75,FM:76,FO:77,FR:1,GA:78,GB:2,GD:79,GE:80,GF:81,GG:82,GH:83,GI:84,GL:85,GM:86,GN:87,GP:88,GQ:89,GR:90,GS:91,GT:92,GU:93,GW:94,GY:95,HK:96,HM:97,HN:98,HR:99,HT:100,HU:101,ID:102,IE:103,IL:104,IM:105,IN:106,IO:107,IQ:108,IR:109,IS:110,IT:111,JE:112,JM:113,JO:114,JP:3,KE:115,KG:116,KH:117,KI:118,KM:119,KN:120,KP:121,KR:122,KW:123,KY:124,KZ:125,LA:126,LB:127,LC:128,LI:129,LK:130,LR:131,LS:132,LT:133,LU:134,LV:135,LY:136,MA:137,MC:138,MD:139,ME:140,MF:141,MG:142,MH:143,MK:144,ML:145,MM:146,MN:147,MO:148,MP:149,MQ:150,MR:151,MS:152,MT:153,MU:154,MV:155,MW:156,MX:157,MY:158,MZ:159,NA:160,NC:161,NE:162,NF:163,NG:164,NI:165,NL:166,NO:167,NP:168,NR:169,NU:170,NZ:171,OM:172,PA:173,PE:174,PF:175,PG:176,PH:177,PK:178,PL:179,PM:180,PN:181,PR:182,PS:183,PT:184,PW:185,PY:186,QA:187,RE:188,RO:189,RS:190,RU:191,RW:192,SA:193,SB:194,SC:195,SD:196,SE:197,SG:198,SH:199,SI:200,SJ:201,SK:202,SL:203,SM:204,SN:205,SO:206,SR:207,SS:208,ST:209,SV:210,SX:211,SY:212,SZ:213,TC:214,TD:215,TF:216,TG:217,TH:218,TJ:219,TK:220,TL:221,TM:222,TN:223,TO:224,TR:225,TT:226,TV:227,TW:228,TZ:229,UA:230,UG:231,UM:232,US:0,UY:233,UZ:234,VA:235,VC:236,VE:237,VG:238,VI:239,VN:240,VU:241,WF:242,WS:243,YE:244,YT:245,ZA:246,ZM:247,ZW:248},Locale:{en_US:0,en_GB:1,fr_FR:2,ja_JP:3},CategoryDim:{ANIMALS:0,ARCHITECTURE:1,ART:2,CARS_MOTORCYCLES:3,CELEBRITIES:4,DESIGN:5,DIY_CRAFTS:6,EDUCATION:7,FILM_MUSIC_BOOKS:8,FOOD_DRINK:9,GARDENING:10,GEEK:11,HAIR_BEAUTY:12,HEALTH_FITNESS:13,HISTORY:14,HOLIDAYS_EVENTS:15,HOME_DECOR:16,HUMOR:17,ILLUSTRATIONS_POSTERS:18,KIDS:19,MENS_FASHION:20,OUTDOORS:21,PHOTOGRAPHY:22,PRODUCTS:23,QUOTES:24,SCIENCE_NATURE:25,SPORTS:26,TATTOOS:27,TECHNOLOGY:28,TRAVEL:29,WEDDINGS:30,WOMENS_FASHION:31,FOR_DAD:32},PinnerIntentSource:{VERIFIED:0,LOW_HIT:1,CONTACT:2,USERNAME:3,NAME_DETECTION:4,ACTIVE_CREATOR:5},CategoryVectorVersion:{CAT_VEC_V0:0,CAT_VEC_V1:1,CAT_VEC_FAR_DUP:-1,CAT_VEC_SVM_CLASSIFIER:-2},WordEmbeddingVersion:{NET_0:0,WORD2VEC_0:1,WORD2VEC_1:2,WORD2VEC_2:3,WORD2VEC_3:7,WORD2VEC_4:8,WORD2VEC_5:9,WORD2VEC_PT:11,WORD2VEC_ES:12,WORD2VEC_FR:13,WORD2VEC_JA:14,WORD2VEC_DE:15,RNN_0:10,LDA_100:4,LDA_400:5,LDA_800:6,ANNOTATION2VEC_EN:16,ANNOTATION2VEC_EN_LEMM:17,QUERY_GEMINI_NAVBOOST:18,ANNOT_INTEREST_FASTTEXT_L1:19,ANNOT_INTEREST_FASTTEXT_L2:20,ANNOT_INTEREST_FASTTEXT_L3:21,QUERY_GRAPHSAGE:22,CONCEPTNET_LSH_512_BITS:23,CONCEPTNET_HALF:24},GraphSageEmbeddingVersion:{V3:0,V4:1,V5:17,V1_MULTI_BIPARTITE_GS:22,V4_REALTIME_1:2,V4_ITEM_AVG:8,V4_ITEM_TOP:9,V5_ALPHA_ITEM_AVG:12,V5_ALPHA_ITEM_TOP:13,V5_ALPHA_ITEMSAGE:14,V1_ALPHA_ITEMSAGE:15,V1_BETA_ITEMSAGE:16,V1_ITEMSAGE:18,V2_ALPHA_ITEMSAGE:23,V1_MEDIASAGE:19,V2_ALPHA_MEDIASAGE:20,V0_SEARCHSAGE:21,V4_REALTIME_EXP1:3,V4_REALTIME_EXP2:4,V4_REALTIME_EXP3:5,V4_REALTIME_EXP4:6,V4_REALTIME_EXP5:7,V5_ALPHA:10,V5_BETA:11},SearchSageEmbeddingVersion:{V0_GRAPHSAGE_V4_2048:0,V0_GRAPHSAGE_V4_FP16:1,SEARCHSAGE_V3_BETA:2},MediaSageEmbeddingVersion:{V1_ALPHA:0,V1:1,V2_ALPHA:6,V1_EXP1:2,V1_EXP2:3,V1_EXP3:4,V1_EXP4:5},QueryCoverPinEmbeddingVersion:{GRAPHSAGE_V3_4096_AVG:0,GRAPHSAGE_V3_2048_AVG:1,GRAPHSAGE_V4_2048_AVG:2},SmartNavboostQueryEmbeddingVersion:{V1_GRAPHSAGE_V4_2048:0,V1_GRAPHSAGE_V4_FLOAT:1},ProductCfEmbeddingVersion:{V1_CUCT_QUERY:0,V1_CUCT_CANDIDATE:1,V1_CUCV_QUERY:2,V1_CUCV_CANDIDATE:3},ProductLearnedRetrievalEmbeddingVersion:{V1_PDP_QUERY:0,V1_P2P_QUERY:3,V1_PDP_CANDIDATE:1,V1_EXP_PDP_CANDIDATE:2,V1_P2P_CANDIDATE:4,V1_HF_CANDIDATE:5},SkinToneBucket:{UNKNOWN:0,LIGHTEST:1,SECOND_LIGHTEST:2,SECOND_DARKEST:3,DARKEST:4},HairPattern:{UNKNOWN:0,STRAIGHT:1,WAVY:2,CURLY:3,KINKY_COILY:4,PROTECTIVE_STYLES:5,BALD_SHAVED:6},BodySize:{UNKNOWN:0,LOWER_RANGE:1,LOWER_MIDDLE_RANGE:2,UPPER_MIDDLE_RANGE:3,UPPER_RANGE:4},ShoppingStyleSignalCategories:{PRODUCT_SHOT:0,STOCK_PHOTO:1,HOME_DECOR_SCENE:2,FULL_OUTFIT:3,CROPPED_OUTFIT:4},TrendingFestival:{UNKNOWN:0,HALLOWEEN:1,THANKSGIVING:2,CHRISTMAS:3,NEWYEAR:4},EmbeddingValueType:{DOUBLE:0,FLOAT:1,SHORT:2,BINARY:3,FLOAT16:4},Gender:{UNSPECIFIED:0,FEMALE:1,MALE:2,ALL:3},GenderPreference:{MALE_ONLY:5,MALE_PERFERRED:4,NEUTRAL:3,FEMALE_PERFERRED:2,FEMALE_ONLY:1},UserSeqGenderProbVersion:{V1:0},UserSeqInterestPredVersion:{V1:0},SpamReason:{NONE:0,HIDDEN_FROM_PUBLIC:1,DEPRECATED_ROBOTS:2,TOO_MANY_REPINS_FROM_SPAM:3,DEPRECATED_TOO_MANY_MODIFIED_LINKS:4,DEPRECATED_TOO_MANY_BAD_LINKS:5},LinkBlockType:{SAFE:0,SUSPICIOUS:1,BLOCKED:2,PORN:3},HomefeedActionType:{REQUEST_PIN:0,REQUEST_PAGE:1,PIN_REPIN:2,PIN_CLOSEUP:3,PIN_HIDE:4,PIN_UPVOTE:5,PIN_CLICK_THROUGH:6,PIN_GRID_CLICK:12,PFY_PIN_THROUGH_BOARD_HIDE:7,PFY_PIN_THROUGH_PIN_HIDE:11},HomefeedSourceType:{PFY:0,INTEREST:1,FOLLOWING:2,DEPRECATED_RECOMMENDED_INTEREST:3,OTHER:4,EVERYTHING_FEED:5,PROMOTED_PIN:6,UNKNOWN:7,POPULAR_FEED:8},PinClusterLinksStatus:{EMPTY:0,NO_SERVABLE_LINKS:1,HAS_SERVABLE_LINKS:2},TextType:{TITLE:0,DESCRIPTION:1,COMMENT:2,MEDIA_OVERLAY:3,OCR:4},NavboostType:{NAVBOOST_7D:0,NAVBOOST_LONG:1,NAVBOOST_MEN:2,NAVBOOST_SEGMENTED:3,NAVBOOST_RELATED_PIN:4,NAVBOOST_CANONICAL:5,NAVBOOST_YEARLY:6,NAVBOOST_FRESH:7,NAVBOOST_REPIN:8,DYNAMIC_NAVBOOST_LONG:9,DYNAMIC_NAVBOOST_7d:10,NAVBOOST_SEGMENTED_REPIN_90D:11,NAVBOOST_GENDER_REPIN_90D:12,NAVBOOST_CANONICAL_COUNTRY_SEGMENTED:13,NAVBOOST_CANONICAL_GENDER_SEGMENTED:14,NAVBOOST_2_YEAR:15,NAVBOOST_2_YEAR_SEASONAL:16,NAVBOOST_2_YEAR_COUNTRY_SEGMENTED:17,NAVBOOST_2_YEAR_GENDER_SEGMENTED:18,NAVBOOST_2_YEAR_ADS:19,NAVBOOST_2_YEAR_ADS_COUNTRY_SEGMENTED:20,NAVBOOST_2_YEAR_ADS_GENDER_SEGMENTED:21,NAVBOOST_2_YEAR_HIGH_COVERAGE:22,NAVBOOST_2_YEAR_HIGH_COVERAGE_COUNTRY_SEGMENTED:23,NAVBOOST_2_YEAR_HIGH_COVERAGE_GENDER_SEGMENTED:24,NAVBOOST_FRESH_HIGH_COVERAGE:25,NAVBOOST_FRESH_HIGH_COVERAGE_GENDER_SEGMENTED:27,NAVBOOST_FRESH_HIGH_COVERAGE_COUNTRY_SEGMENTED:28,NAVBOOST_VIDEO:26,NAVBOOST_PRODUCT:29,NAVBOOST_PRODUCT_GENDER_SEGMENTED:30,NAVBOOST_PRODUCT_COUNTRY_SEGMENTED:31,NAVBOOST_LONGCLICK_90_DAY:32,NAVBOOST_LONGCLICK_90_DAY_GENDER_SEGMENTED:33,NAVBOOST_LONGCLICK_90_DAY_COUNTRY_SEGMENTED:34,NAVBOOST_PRODUCT_ITEM:35,NAVBOOST_PRODUCT_ITEM_GENDER_SEGMENTED:36,NAVBOOST_PRODUCT_ITEM_COUNTRY_SEGMENTED:37,NAVBOOST_PRODUCT_ITEM_HC:38,NAVBOOST_PRODUCT_ITEM_HC_GENDER_SEGMENTED:39,NAVBOOST_PRODUCT_ITEM_HC_COUNTRY_SEGMENTED:40,NAVBOOST_2YHC_REMOVE_STOP_WORDS:41,NAVBOOST_2YHC_REMOVE_STOP_WORDS_GENDER_SEGMENTED:42,NAVBOOST_2YHC_REMOVE_STOP_WORDS_COUNTRY_SEGMENTED:43,NAVBOOST_2YHC_SORTED_QUERY:44,NAVBOOST_2YHC_SORTED_QUERY_GENDER_SEGMENTED:45,NAVBOOST_2YHC_SORTED_QUERY_COUNTRY_SEGMENTED:46,NAVBOOST_2YHC_STEMMED_QUERY:47,NAVBOOST_2YHC_STEMMED_QUERY_GENDER_SEGMENTED:48,NAVBOOST_2YHC_STEMMED_QUERY_COUNTRY_SEGMENTED:49,NAVBOOST_2YHC_COMBINED_RELAXATION:59,NAVBOOST_2YHC_COMBINED_RELAXATION_GENDER_SEGMENTED:60,NAVBOOST_2YHC_COMBINED_RELAXATION_COUNTRY_SEGMENTED:61,NAVBOOST_FRESH_HC_REMOVE_STOP_WORDS:50,NAVBOOST_FRESH_HC_REMOVE_STOP_WORDS_GENDER_SEGMENTED:51,NAVBOOST_FRESH_HC_REMOVE_STOP_WORDS_COUNTRY_SEGMENTED:52,NAVBOOST_FRESH_HC_SORTED_QUERY:53,NAVBOOST_FRESH_HC_SORTED_QUERY_GENDER_SEGMENTED:54,NAVBOOST_FRESH_HC_SORTED_QUERY_COUNTRY_SEGMENTED:55,NAVBOOST_FRESH_HC_STEMMED_QUERY:56,NAVBOOST_FRESH_HC_STEMMED_QUERY_GENDER_SEGMENTED:57,NAVBOOST_FRESH_HC_STEMMED_QUERY_COUNTRY_SEGMENTED:58,NAVBOOST_FRESH_HC_COMBINED_RELAXATION:62,NAVBOOST_FRESH_HC_COMBINED_RELAXATION_GENDER_SEGMENTED:63,NAVBOOST_FRESH_HC_COMBINED_RELAXATION_COUNTRY_SEGMENTED:64},NavboostScoreType:{NAVBOOST_SCORE_WEIGHTED_RCTR:0,NAVBOOST_SCORE_COEC:1,NAVBOOST_SCORE_CLOSEUP:2,NAVBOOST_SCORE_RELATED_PINS:3,NAVBOOST_SCORE_CANONICAL_SEG:4,NAVBOOST_SCORE_2YEAR_SEG:5},CoOccurType:{FRESH:1,HIGH_COVERAGE_2YEAR_UNSEGMENTED:2,HIGH_COVERAGE_2YEAR_GENDER:3,HIGH_COVERAGE_2YEAR_COUNTRY:4},CoOccurObjectType:{PIN:1,PIN_JOIN:2,QUERY:3},AgeGroup:{AGE_UNDER_18:0,AGE_18_24:1,AGE_25_34:2,AGE_35_44:3,AGE_45_54:4,AGE_55_64:5,AGE_65_PLUS:6,AGE_UNDER_21:7,AGE_21_PLUS:8,AGE_MILLENNIAL:9,AGE_NOT_MILLENNIAL:10,AGE_UNSPECIFIED:11},ImageAestheticsVertical:{TRAVEL:0,FASHION:1},LinkScoreModelEpoch:{V0:0,V1:1,V2:2,V3:3},TrustworthyStatus:{UNKNOWN:0,TRUSTWORTHY:1,UNTRUSTWORTHY:2},ImageSourceCheckStatus:{NOT_CHECKED:0,CHECKED_EXISTED:1,CHECKED_NOT_EXISTED:2},ErrorPageType:{HARD_404:1,SOFT_404:2},CreatorMetaDataVersion:{V1:0},FunctionalType:{FUNCTIONAL:0,LINK_UNFUNCTIONAL:1,DOMAIN_UNFUNCTIONAL:2,IMAGE_UNFUNCTIONAL:3,VIDEO_UNFUNCTIONAL:4,SIG_LINK_UNFUNCTIONAL:5},UserState:{CORE:0,CASUAL:1,MARGINAL:2,DORMANT:3,RESURRECTED:4,NEW:5},NeardupSignalSource:{IMAGE_NEARDUP:0,VIDEO_NEARDUP:1},BodyImageAnalysisMethod:{DETECTED_REGION:1,HEURISTIC:2,EMBEDDING_BASED:3},RacyLabel:{NONE:0,SOFTCORE:1,HARDCORE:2},PornLabel:{NONE:0,HARDCORE:1,SOFTCORE:2},BoardLayout:{DEFAULT:0,PLACES:1},PinImpressionType:{UNKNOWN:0,HOME_FEED:1,CAT_FEED:2,SEARCH:3,CLOSEUP:4},PinQualityScoreVersion:{V0:0,V1:1},LinkQualityType:{PROMOTED:1,SUSPICIOUS:2,NO_IMAGE:5,NO_HTML:6,REPLACE_LISTED:7,GOOD:3,BAD:4,BLACKLISTED:8,DEAD:9},ObjectType:{PIN:1,BOARD:2,USER:3,CSR:4,TOPIC:5,ARTICLE:6,SEARCH_QUERY:7,USER_DID_IT_DATA:8,HASHTAG:9,STORY:10},ItemJoinDataVersion:{V1:1},ColorPaletteDim:{RED:0,ORANGE:1,YELLOW:2,LIME:3,GREEN:4,LIGHT_GREEN:5,TEAL:6,SKY:7,BLUE:8,VIOLET:9,PURPLE:10,PINK:11,MAGENTA:12,BLACK:13,WHITE:14,GRAY:15,GRAYSCALE:1e3,BLACKWHITE:1001},LinkJoinVersion:{LINK_JOIN_V1:0,LINK_JOIN_V2:1},PinJoinIndexSelectionStatus:{ACCEPTED:0,REJECTED_TOO_MANY_FLAGS:1,REJECTED_NO_ELIGIBLE_CANDIDATE:2},VaseLinkType:{BOARD_LINK:1,TOPIC_LINK:2,PROFILE_LINK:3},StlContentSourceType:{CANDIDATE_GENERATION:1,CURALATE:2,CURALATE_SPOTLIGHT:3,CURALATE_SPOTLIGHT_BOX:4,CURATION_BULK_UPLOAD:5,CURATION_BULK_UPLOAD_UNVERIFIED:6,OLAPIC:7,OLAPIC_SPOTLIGHT:8,PINTEREST_CLIENT:9,SHOPSTYLE:10,SHOPSTYLE_SPOTLIGHT:11},StlLiveState:{LIVE:1,DEAD:2},EmbeddingType:{PINJOIN_ANNOTATION_V3:0,PINJOIN_ANNOTATION_V3_EXP:1,PINJOIN_ANNOTATION_V5:2,PLACEHOLDER_3:3,PLACEHOLDER_4:4,PLACEHOLDER_5:5},NoIndexReason:{ZERO_TRAFFIC:0},UserLanguageVecVersion:{REPINED_PIN_LINK_LANG:1,CLICKED_PIN_LINK_LANG:2},UserCountryVecVersion:{REPINED_PIN_LINK_COUNTRY:1,CLICKED_PIN_LINK_COUNTRY:2},UserToIntentVersion:{UNKNOWN:0,PROTOTYPE:1,LIFESTYLE_GRAPH_V1:2},UserEmbeddingVersions:{TIME_DECAYED_GRAPHSAGE_V3_EMBEDDING:0,TIME_DECAYED_GRAPHSAGE_V4_EMBEDDING:1,CLUSTERED_GRAPHSAGE_V4_EMBEDDING:2,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID:5,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_TD_MEDOID:6,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_LOW_TD_MEDOID:7,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_RNN_CENTROID:8,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_RNN_MEDOID:9,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID_WITH_CLOSEUPS:10,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_LOW_TD_MEDOID_WITH_CLOSEUPS:11,GRU_V1_GRAPHSAGE_V4_EMBEDDING:3,SHOPPING_CLUSTERED_GRAPHSAGE_V4_EMBEDDING:4,MATCHED_TOPICS_GRAPHSAGE_V4_EMBEDDING:12,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING:13,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_HIGH_DIM:14,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID_LT1:15,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID_LT2:16,CLUSTERED_GRAPHSAGE_V4_WARD_COSINE_75:17,CLUSTERED_GRAPHSAGE_V4_WARD_COSINE_85:18,CLUSTERED_GRAPHSAGE_V4_WARD_COSINE_90:19,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_CONDITION_ON_1:20,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_CONDITION_ON_2:21,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_CONDITION_ON_WEIGHTED_SUM:22,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_HIGH_DIM_CONDITION_ON_1:23,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_HIGH_DIM_CONDITION_ON_2:24,MULTI_USE_CASE_GRAPHSAGE_V4_EMBEDDING_HIGH_DIM_CONDITION_ON_WEIGHTED_SUM:25,SYOP_CLUSTERED_GRAPHSAGE_V4_EMBEDDING:26,CONTEXT_GRAPHSAGE_V4_EMBEDDING:27,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_NATIVE_PIN_FOCUSED:28,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID_LT1_WITH_PC:29,CLUSTERED_GRAPHSAGE_V4_EMBEDDING_MEDOID_LT_STORYPIN_FSV10S:30,PS_V3_USER_REPR:31,PS_V3_ALPHA_USER_REPR:32,PS_V3_BIGGER_USER_REPR:33,CLUSTERED_GRAPHSAGE_V5_EMBEDDING:34},ProductCategoryVersion:{UNKNOWN:0,P2PC_V2_HIGH_PRECISION:1,P2PC_V2_HIGH_RECALL:2,P2PC_V2_HIGH_PRECISION_ORGANIC:3,P2PC_V2_HIGH_RECALL_ORGANIC:4},InterestRecommendationReason:{DEFAULT:0,ACTIVITY:1,BOARD:2,FOLLOW:3,SEARCH:4,SEASONAL:5,P2P:6,P2P_DELTA:7,POPULAR:8,RANDOM_POPULAR:9,PINNERSAGE:10},InterestRelatedSources:{DEFAULT:0,RELATED_SEARCH:1,RELATED_BOARD:2,REALTED_FOLLOW:3,RELATED_ACTIVITY:4,RELATED_P2P:5,RELATED_P2P_DELTA:6,RELATED_HISTORY:7,RELATED_EMAIL_CLICK:8,RELATED_PUSH_OPEN:9,RELATED_PINNERSAGE:10},NotifInterestModelVersion:{UNKNOWN:0,DNN_V1:1,DNN_V2:2,PINNERSAGE_V3:3,DNN_V3:4,DNN_V3_A2I:5},ScoringDetailsKeys:{RAW_STRING:0,BOARD_QUALITY:1,CAT_MATCH_SCORE:2,RAW_SCORE:3,FINAL_SCORE:4,FLOW_PENALTY:5,ANNOTATION_MATCH:6,ANNOTATION_SCORE:7,CO_OCCURRENCE_SCORE:8,TOPIC_MATCH:9,COMBINED_BOARD_PERF_SCORE:51,AGG_BOARD_PERF_SCORE:52,AVG_BOARD_PERF_SCORE:53,GENDER_PROB:54,PIN_QUALITY:10,P2P_CAT_MATCH:11,P2P_TEXT_MATCH:12,P2P_HASHTAG_MATCH:13,P2P_URL_MATCH:14,P2P_ANNOTATION_MATCH:15,P2P_TEXT_CONFIDENCE:16,P2P_RELEVANCE_SCORE:59,P2P_RETRIEVAL_SCORE:60,INTBRD_RELEVANCE:20,INTBRD_BOARD_QUALITY:21,INTBRD_BOARD_INDYRANK:22,INTBRD_BOARD_CATVEC_ENT:23,INTBRD_NUM_PINS_MATCHED:24,INTBRD_RAW_RELEVANCE:25,BOARD_RELEVANCE:30,BOARD_WEIGHT:31,PIN_IMPRESSIONS:40,PIN_REPINS:41,PIN_CLICKTHROUGHS:42,PIN_LONG_CLICKS:43,PIN_POPULARITY_SCORE:44,CO_OCCURRENCE_NUM_SAMPLES:45,CO_OCCURRENCE_COSINE_SIM:46,P2P_CLICK_COUNT:47,P2P_EXPECTED_CLICKS:48,P2P_COEC:49,PIN_ZSCORE:50,PIXIE_VISIT_COUNT:55,SOURCE_ACTION_TYPE:56,SOURCE_RECENCY:57,SOURCE_THROUGH_REWARD:58},ThroughObjectSource:{PIN_REPIN:0,PIN_CLICKTHROUGH:1,PIN_CLOSEUP:2,PIN_REPIN_EXPANSION:3,PIN_CLICKTHROUGH_EXPANSION:4,PIN_CLOSEUP_EXPANSION:5,PIN_CREATE:6,PIN_REACT:7,PIN_LIKE:8,PIN_SCREENSHOT:9,PIN_SAVE_TO_DEVICE:10},RecommendationSource:{B2B:0,USER_ACTIVITY:1,COOKIE:2,REALTIME_P2B:3,REALTIME_P2B_CLOSEUP:9,FALLBACK:4,U2RELATED_INTEREST:5,FBLIKE_TO_INTERESTS:6,CLICKTHROUGH:7,BOARD_FOLLOW:12,USER_FOLLOW:13,TOPIC_FOLLOW:14,LOCAL_B2B:8,LOCAL_CLICKTHROUGH:10,LOCAL_USER_ACTIVITY:11,SEARCH:15,RECBOOST_P2B:16,RECBOOST_CLICKTHROUGH:17,RECBOOST_USER_ACTIVITY:18,RECBOOST_CREATOR_BOARDS:22,RECOMMENDED_BOARDS:19,RECOMMENDED_CREATOR_BOARDS:20,ANNOTATION_REC_CREATOR_BOARDS:21,RECOMMENDED_ANNOTATION_BOARDS:23,RECOMMENDED_GRAPHSAGE_BOARDS:24,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:25,P2P_BOARD_OLDP2P:101,P2P_BOARD_CAND:102,P2P_NAVBOOST_CAND:103,P2P_PINPIN_REALTIME:104,P2P_VISUAL_LIVE:105,P2P_PROMOTED_INSERTION:106,P2P_COMMERCE_INSERTION:107,P2P_BOARD_LOCAL:108,P2P_SEARCH_CAND:109,P2P_SEARCHSAGE_CAND:164,P2P_RANDOMWALK_CAND:110,P2P_PIN2VEC_CAND:116,PIN_TO_PINS_NEARDUP_REC:111,P2P_FROM_SEARCH:112,P2P_VIDEO_INSERTION:113,P2P_FRESH_INSERTION:114,P2P_COMMERCE_SEARCH:115,P2P_P2B2P_FRESH:117,P2P_GEMINI_MUSE_CAND:118,P2P_GRAPHSAGE_CAND:119,P2P_RANDOMWALK_PRODUCT_CAND:120,P2P_GRAPHSAGE_PRODUCT_CAND:121,P2P_ITEMSAGE_PRODUCT_CAND:154,P2P_ITEMSAGE_HQM_PRODUCT_CAND:163,P2P_COLLABORATIVE_FILTERING_PRODUCT_CAND:157,P2P_LEARNED_RETRIEVAL_PRODUCT_CAND:160,P2P_NAVBOOST_PRODUCT_CAND:122,P2P_STL_SCENE_TO_STL_SCENE_INSERTION:123,P2P_ANNS_BASED_CAND:124,P2P_GRAPHSAGE_CREATORS_CAND:125,P2P_GRAPHSAGE_RECIPES_CAND:126,P2P_VISUAL_PRODUCT_CAND:127,P2P_GRAPHSAGE_STORY_PINS_CAND:128,P2P_MEDIASAGE_STORY_PINS_CAND:150,P2P_GRAPHSAGE_VIDEO_CAND:129,P2P_MEDIASAGE_VIDEO_CAND:151,P2P_SEARCH_NAVBOOST_CAND:130,P2P_COUNTRY_NAVBOOST_CAND:131,P2P_GEMINI_V5_VIDEO_CAND:132,P2P_GRAPHSAGE_DIY_CAND:133,P2P_VIDEO_NAVBOOST_CAND:134,P2P_SEARCH_PRODUCT_CAND:135,P2P_SMARTFEED_CAND:136,P2P_GRAPHSAGE_SHOPPABLE_INSPIRATION_CAND:137,P2P_GRAPHSAGE_FRESH_PRODUCT_CAND:138,P2P_GRAPHSAGE_VMP_PRODUCT_CAND:139,P2P_REVERSE_STELA:140,P2P_SEARCH_INTEREST_CAND:141,P2P_GRAPHSERVICE_VIDEO_CAND:142,P2P_GRAPHSAGE_MERCHANT_ACTIVATION_CAND:143,P2P_INTEREST_BASED_SPARK_CAND:144,P2P_STORY_NAVBOOST_CAND:145,P2P_EXPANDED_STORY_NAVBOOST_SEARCH_COENGAGEMENT_CAND:156,P2P_EXPANDED_STORY_NAVBOOST_CF_CAND:161,P2P_CREATOR_VIDEO:146,P2P_GRAPHSAGE_SHOPIFY_PRODUCT_CAND:147,P2P_TWO_TOWER_EMBEDDING_CAND:148,P2P_TWO_TOWER_EMBEDDING_WITH_USER_FEATURE_CAND:149,P2P_TWO_TOWER_PRODUCT_EMBEDDING_CAND:165,P2P_INTEREST_TRANSITION_CAND:152,P2P_CREATOR_CONTENT_UNIFIED_STORY_PIN_MANAS_CAND:153,P2P_NATIVE_CHECKOUT_PRODUCT_CAND:155,P2P_PRODUCT_XPIXIE:158,P2P_FOLLOWING_IDEA_PINS_CAND:159,P2P_UNKNOWN:162},RecommendationAlgo:{P2P_NAVBOOST_NO_MATCH:10,P2P_NAVBOOST_MATCH:11,P2P_NAVBOOST_FEATURE:12,P2P_RERANK_NONE:20,P2P_RERANK_OLDP2P:21,P2P_RERANK_OFFLINE:22,P2P_RERANK_REALPIN:23,P2P_RERANK_SHUFFLED:24,P2P_RERANK_RANDOM:25,P2P_RERANK_SHUFFLED_LOCAL:26,P2P_RERANK_SCORPION:27,P2P_HIGH_QUALITY_PIN_SWAP:30,P2P_LOCAL_BOOST:31,P2P_PRODUCT_FLOOR_BLENDER:32,P2P_RANDOM_PIN_SELECTION:33,P2P_RERANK_PROD_LOGGING:34,P2P_DEMOTE:35,P2P_SLOT_BLEND:36,P2P_DEMOTE_HARD_404:37,P2P_DEMOTE_SOFT_404:38,P2P_DEMOTE_OOS:39,P2P_DEMOTE_GIRAFFE:40,P2P_DEMOTE_IAB_404:41,P2P_DEMOTE_REPIN:42,P2P_DEMOTE_IMPRESSION:43,P2P_DEMOTE_INACCESSIBLE_LINK:44,P2P_DEMOTE_FLAGGED:45,P2P_DEMOTE_HIDDEN:46,P2P_DEMOTE_LOW_PIN_COHESION:47,P2P_DEMOTE_SLOW_LOADING_DOMAIN:48,P2P_DEMOTE_NON_FUNCTIONAL_META_DATA:49,P2P_DEMOTE_LOW_RELEVANCE:50,P2P_DEMOTE_TRANSITORY_NONTRUSTWORTHY_PRODUCT:51,P2P_DEMOTE_PERMANENT_NONTRUSTWORTHY_PRODUCT:52,P2P_DEMOTE_DOMAIN_QUALITY:53,P2P_DEMOTE_BING_BOOSTED:54,P2P_FLOOR_BLENDER:55,P2P_ROUND_ROBIN:56,P2P_SPACING_RULE:57,P2P_NO_RELEVANCE_SCORE_FROM_RELEVANCE_MODEL:58,P2P_NO_RELEVANCE_SCORE_FROM_RANKING_MODEL:59},RelatedModule:{RELATED_PINS:1,PRODUCTS:2,DOMAIN:3,RECIPES:4,DIY:5,CREATOR_CONTENT:6,REVERSE_STELA:7,HOMEFEED:8,VIRTUAL_TRY_ON:9,USE_CASES:10,PRICE_LIMIT:11,BROAD_INTEREST:12,PERSONALIZED_PRODUCTS_BOARD:13,MOST_CONSIDERED:14,STORIES:15,PRODUCT_COLLABORATIVE_FILTERING_CLICK:16,PRODUCT_COLLABORATIVE_FILTERING_PURCHASE:18,PRODUCT_COLLABORATIVE_FILTERING_FREQUENTLY_BOUGHT_TOGETHER:21,SIMILAR_MERCHANT:17,PERSONAL_BOUTIQUE:19,COMPLEMENTARY:20,PIVOT_STORIES:22,INTERESTS:23,CREATOR_CONTENT_PORTAL:24,SHUFFLE_PIN_CUTOUT_MATCH:25,SHUFFLE_COLLAGE:26,NONE:100},STORY_TYPE:{RELATED_DOMAIN_CAROUSEL:0,RELATED_MOST_CONSIDERED_CAROUSEL:1,RELATED_PRODUCTS_FEED_HEADER:3,RELATED_CF_CLICK_CAROUSEL:4,RELATED_PRICE_CAROUSEL:6,RELATED_SIMILAR_MERCHANT_CAROUSEL:13,RELATED_CF_PURCHASE_CAROUSEL:14,RELATED_PRICE_UPSELL:15,RELATED_MOST_CONSIDERED_UPSELL:16,RELATED_DOMAIN_UPSELL:17,RELATED_CF_CLICK_GRID_SECTION:18,RELATED_CF_CLICK_UPSELL:19,RELATED_CF_PURCHASE_UPSELL:20,RELATED_SIMILAR_MERCHANT_UPSELL:21,RELATED_PRODUCTS_GRID_SECTION:22,RELATED_PRODUCTS_UPSELL:23,RELATED_CF_PURCHASE_GRID_SECTION:24,RELATED_CF_FREQUENTLY_BOUGHT_TOGETHER_CAROUSEL:25,RELATED_CF_FREQUENTLY_BOUGHT_TOGETHER_GRID_SECTION:26,RELATED_CF_FREQUENTLY_BOUGHT_TOGETHER_UPSELL:27,RELATED_PRICE_GRID_SECTION:28,RELATED_MOST_CONSIDERED_GRID_SECTION:29,RELATED_DOMAIN_GRID_SECTION:30},GramType:{UNIGRAM:0,BIGRAM:1,TRIGRAM:2},LinkLocaleSource:{ATLAS:0,TLD:1,PATH:2,L2:3,L1:4,DOMAIN:5,COOKIE:6,CLUSTER_COOKIE:7,DERIVED_FROM_LANGUAGE:8,IP_GEO:9,PIN_CREATE:10,DOMAIN_WHITELIST:11,CLICK_THROUGH:12,WHOIS:13,DIALECT:14},LinkJoinSource:{COOKIE_LINK_PERF:0,LINK_PERF:1,RICH_PIN_DATA:2,RICH_PIN_URL:3,PIN_JOIN:4,CSR_ONLY_PIN_JOIN:5,CSR_DATA:6,ANCHOR_ANNOTATION:7,TEXT_CATEGORY:8,CSR_STATS:9,INSTARANK:10,IN_APP_BROWSER_DATA:11,CONTENT_KEYWORDS:12},ClickThroughAction:{ALLOW:0,BLOCK:1},PinQualityState:{UNKNOWN:0,AUTHORIZED:1,NORMAL:2,QUESTIONABLE:3,BLOCK:4},LinkType:{ORGANIC:0,PRODUCT:1,WHITELISTED:2,RECIPE:3,DIY:4,TRAVEL:5},LinkPriority:{HIGH:0,ORGANIC:1,LOW:2,SKIP:3},CrawlFilterReason:{NOT_FILTERED:0,FILTERED_FEED_INGESTION_DOMAIN:1,FILTERED_BLACKLISTED_DOMAIN:2,FILTERED_MEDIA_EXTENSIONS_URL:3,FILTERED_INVALID_URL:4},SapphireSearch:{NONE:0,DEBUG:1,V1_WHITELISTED:2,V2_WHITELISTED:3,V3_WHITELISTED:4},SensitiveTermCateogry:{CONDITIONAL:0,EATING_DISORDER:1,PORN:2,CHILD_SAFETY:3,EMOTIONAL_DISDRESS_OR_SUICIDE:4,BUY_OR_SELL_WEAPON_ILLEGALLY:5,REPORTED_PINS:6,HATE_SPEECH:7,EATING_DISORDER_FUNDING:8},SensitiveTermCategory:{CONDITIONAL:0,EATING_DISORDER:1,PORN:2,CHILD_SAFETY:3,EMOTIONAL_DISTRESS_OR_SUICIDE:4,BUY_OR_SELL_WEAPON_ILLEGALLY:5,REPORTED_PINS:6,HATE_SPEECH:7,EATING_DISORDER_FUNDING:8,BLOCKED_COMMUNITY_GUIDELINES:9,DRUGS:10,MEDICAL_MISINFORMATION:11,SELF_HARM:12,DEPRESSION:13,SUICIDE:14,BODY_IMAGE:15,WILDLIFE_EXPLOITATION:16,US_CENSUS_2020:17,VOTING_US_ELECTION_2020:18,COVID_VACCINE:19,FR_2022_ELECTION:20,PH_2022_ELECTION:21,AU_2022_ELECTION:22,BR_2022_ELECTION:23,SMOKING_CESSATION:24,US_ELECTION:25},SeverityLevels:{ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2,CUSTOM_ENFORCEMENT:3},AdvisoryLevels:{CONDITIONAL:0,EATING_DISORDER:1,PORN:2,CHILD_SAFETY:3,EMOTIONAL_DISDRESS_OR_SUICIDE:4,BUY_OR_SELL_WEAPON_ILLEGALLY:5},FreshPinAge:{LESS_THAN_ONE_WEEK:0,LESS_THAN_ONE_MONTH:1,LESS_THAN_SIX_MONTHS:2,LESS_THAN_ONE_YEAR:3},IndexEventType:{PIN_JOINER:1},IndexDataEventType:{INSTANT_PIN_JOIN:1},TermVectorSource:{QUERY_TOKENS:1,IMAGE_TOKENS:2},CoterieReleaseVersion:{UNKNOWN:0,COTERIES_RC13:14,COTERIES_RC14:15,COTERIES_RC15:16,COTERIES_RC16:17,COTERIES_RC17:18,COTERIES_RC18:19,COTERIES_RC18B:20,COTERIES_RC19:21,COTERIES_RC19B:22,COTERIES_RC15_SURVEY:23,COTERIES_RC20:24,COTERIES_RC21:25,COTERIES_RC22:26,COTERIES_RC23:27,COTERIES_RC2:1,COTERIES_RC4:3,COTERIES_RC3:2,COTERIES_RC5:4,COTERIES_RC5A:5,COTERIES_RC5B:6,COTERIES_RC6:7,COTERIES_RC8:9,COTERIES_RC7:8,COTERIES_RC9:10,COTERIES_RC10:11,COTERIES_RC11:12,COTERIES_RC12:13},UniversalBlendingFeature:{MAIN_PINS_RELEVANCE_AVG:0,MAIN_PINS_RELEVANCE_MIN:1,MAIN_PINS_RELEVANCE_MAX:2,VIDEO_RELEVANCE_AVG:100,VIDEO_RELEVANCE_MIN:101,VIDEO_RELEVANCE_MAX:102,VIDEO_NUM:103,PRODUCT_RELEVANCE_AVG:200,PRODUCT_RELEVANCE_MIN:201,PRODUCT_RELEVANCE_MAX:202,PRODUCT_NUM:203,CONTEXTUAL_PINS_RELEVANCE_AVG:300,CONTEXTUAL_PINS_RELEVANCE_MIN:301,CONTEXTUAL_PINS_RELEVANCE_MAX:302,CONTEXTUAL_PINS_UNCAPPED_SIZE:303,PINNER_AUTHORITY_NUM_FOLLOWERS:304,PINNER_AUTHORITY_IS_PRIMARY_COUNTRY_MATCH:305,PINNER_AUTHORITY_IS_PRIMARY_LANGUAGE_MATCH:306,VIDEO_INTENT:400,PRODUCT_INTENT:401,PINNER_AUTHORITY_INTENT:402},UniversalBlenderFeature:{MAIN_PINS_RELEVANCE_AVG:0,MAIN_PINS_RELEVANCE_MIN:1,MAIN_PINS_RELEVANCE_MAX:2,VIDEO_RELEVANCE_AVG:3,VIDEO_RELEVANCE_MIN:4,VIDEO_RELEVANCE_MAX:5,VIDEO_NUM:6,PRODUCT_RELEVANCE_AVG:7,PRODUCT_RELEVANCE_MIN:8,PRODUCT_RELEVANCE_MAX:9,PRODUCT_NUM:10,CONTEXTUAL_PINS_RELEVANCE_AVG:11,CONTEXTUAL_PINS_RELEVANCE_MIN:12,CONTEXTUAL_PINS_RELEVANCE_MAX:13,CONTEXTUAL_PINS_UNCAPPED_SIZE:14,PINNER_AUTHORITY_NUM_FOLLOWERS:15,PINNER_AUTHORITY_IS_PRIMARY_COUNTRY_MATCH:16,PINNER_AUTHORITY_IS_PRIMARY_LANGUAGE_MATCH:17,VIDEO_INTENT:18,VIDEO_INTENT_V2:21,PRODUCT_INTENT:19,PRODUCT_INTENT_QUERY:24,PRODUCT_INTENT_USER:25,PINNER_AUTHORITY_INTENT:20,QUERY_INTEREST:22,HAS_HIGH_VIDEO_INTENT_INTEREST:23},CommerceRankingOption:{DEFAULT:0,PRODUCT:1,PRICE_HIGH_TO_LOW:2,PRICE_LOW_TO_HIGH:3,ARRIVAL_MOST_RECENT:4,ARRIVAL_LEAST_RECENT:5},MerchantType:{DEFAULT:0,VERIFIED:1,QUEEN_MAKER:2,SUPPLEMENTARY:3},PinSearchRetrievalSource:{TEXT_RETRIEVAL:0,GRAPHSAGE_EMBEDDING_RETRIEVAL:1,UNKNOWN:2},SearchOneBarModuleAnimation:{NONE:0,MODE:1,QUERY:2,RESULTS:3},SearchOneBarModuleType:{FILTER:0,SHOP_MODE:1,PROFILE_MODE:2,GUIDE:3,PERSONALIZATION:4,SKIN_TONE:5,HAIR_TYPE:6},SearchOneBarModuleIcon:{NONE:0,SHOP_BAG:1,SHOP_TAB:2,FILTER:3,EYES:4,LIPS:5,PROFILE:6},UserToKeywordVersion:{UNKNOWN:0,PROTOTYPE:1,LOGISTIC_V1:2}}},686180:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(983722),a=n(635240),o=n(427014),r=n(172071),l=n(550858),s=n(762752),d=n(735422);const c=1,u=3;const p=new class{constructor(){this.versionState=c,this.preparingNewVersion=!1}checkVersion(e,t){const n=(0,a.Z)(),c=(0,i.Z)(),{isAuthenticated:p,userAgent:{isMobile:m,isTablet:h}}=null!=c?c:{},_=p&&!m&&!h;if(e!==n){var g,v;if(this.versionState!==u)(0,o.Z)({appType:null==c?void 0:c.appTypeDetailed,currVersion:(0,a.Z)(),deviceType:_?"desktop":"mobile",eventType:"signal",eventName:"new_version_required",isBot:null!==(g=null==c?void 0:c.isBot)&&void 0!==g&&g,nextVersion:e,originHost:t,stage:null!==(v=null==c?void 0:c.stage)&&void 0!==v?v:"unknown"}),this.versionState=u;e===this.nextVersion||this.preparingNewVersion||(this.preparingNewVersion=!0,_?(0,s.N)().catch((()=>(0,s.D)("checkVersion"))).finally((()=>{this.preparingNewVersion=!1})):((0,d.Ng)().catch((()=>(r.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,d.Dm)()))).finally((()=>{r.Z.increment("mweb.new_version.refresh",1),this.preparingNewVersion=!1})),(0,l.Qi)()),this.nextVersion=e)}}isNewVersionRequired(){return this.versionState===u}}},214494:(e,t,n)=>{n.d(t,{Z:()=>k,N:()=>E});var i=n(686180),a=n(387246),o=n(813171),r=n(718368);var l=n(56641),s=n(124237);var d=n(323716),c=n(643913),u=n(204088),p=n(432300),m=n(172071),h=n(422722),_=n(170815),g=n(584595),v=n(826067),y=n(7789),f=n(966113),b=n(801645),x=n(735422),P=n(176532);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let w=!0;window.addEventListener("focus",(()=>w=!0)),window.addEventListener("blur",(()=>w=!1));const T=["ActiveUserResource","ActivateExperimentResource","ContextLogResource","UserRegisterTrackActionResource"];class k{constructor(e,t){if(S(this,"abortCallback",null),S(this,"isBackgroundSyncEnabled",!1),this.name=e,this.options=t?{...t}:{},this.isBackgroundSyncEnabled=((e,t)=>(0,x._P)()&&T.includes(e)&&!!t.id)(e,k.initialUser),window)try{window.onunhandledrejection=()=>{}}catch(n){}}static create(e,t){return new k(e,t||{})}_isUrlShortEnoughForHttpGet(e,t){return(e+"?"+(0,c.Z)(t)).length<=2e3}_isAuthDesktop(){const{isAuthenticated:e,userAgent:{isTablet:t,isMobile:n}}=k.requestContext;return e&&(!t&&!n)}abort(){this.abortCallback&&(this.abortCallback(),this.abortCallback=null)}isCalling(){return!!this.abortCallback}callGet(e,t={}){y.DQ&&(t["X-B3-Flags"]="1");const{logNetworkTimer:n,loggerComponentName:i}=this.options,a=n?new _.Z:null;return a&&a.start(),this.call("get",e,t).then((e=>(a&&(a.end(),h.default.logToServer(h.default.SERVER_LOG_TYPE.NETWORK_LOAD,h.default.HTTP_METHOD.POST,{timing:a.getCompletedTime(),component:i||this.name})),e)))}callCreate(e,t){return this.call("create",e,t)}callUpdate(e,t){return this.call("update",e,t)}callDelete(e,t){return this.call("delete",e,t)}async call(e,t,n){navigator.onLine||this.isBackgroundSyncEnabled||m.Z.increment("resource_factory_not_online",1,{resourceName:this.name});const i=!t||void 0===t.async||t.async,a=t&&t.timeout||null,o=this._call(e,i,a,n);try{const e=await o;this.onResponseSuccess(e)}catch(r){if(r&&19===r.api_error_code&&k.initialUser.is_write_banned)console.error("User is write banned");else if(t&&t.showError){const e=void 0;s.Z.showError(r.message,null,e)}}return o}getAjaxParams({async:e,headers:t,method:n,timeoutSeconds:i}){const a={options:this.options,context:{}},o=`/resource/${this.name}/${n}/`,r={source_url:(0,v.JJ)(),data:JSON.stringify(a)},l="get"===n&&this._isUrlShortEnoughForHttpGet(o,r);!l&&this.isBackgroundSyncEnabled&&m.Z.increment("background_sync_request_header",1,{resourceName:this.name});return[{cache:!1,url:o,async:e,data:r,headers:{...(0,u.Z)({experimentHash:k.requestContext.experimentsClient.latestExperimentHashFromServer||"",windowIsInFocus:w}),...t},timeout:i||0,type:l?"GET":"POST"},a]}_ajax(e,t){const{promise:n,abort:i}=(0,P.Z)(t);this.abortCallback=i;const l=!!(e&&e.options&&e.options.disable_auth_failure_redirect);return new Promise(((e,i)=>{n.then((e=>e.json().then((e=>({success:!0,data:e}))).catch((e=>({success:!1,error:e}))).then((t=>({res:e,parsed:t}))))).then((({res:n,parsed:s})=>{if(this.abortCallback=null,!s.success)return i({message:s.error.message,httpStatus:n.status}),void(this.shouldRedirectToLoginPage(n.status,l,t.url,void 0,this.getLoginState())&&this.redirectToLoginPage());const d=function(e){var t;const n=e.resource,i=e.resource_response.error;return{auxData:(0,a.Z)(e.resource_response),bookmarks:(null==n||null===(t=n.options)||void 0===t?void 0:t.bookmarks)||[r.q],client_context:e.client_context,request_identifier:e.request_identifier,resource_response:{data:e.resource_response.data,error:i?o.Z.fromPlainObject(i,e.resource_response.data):null}}}(s.data);d.originHost=n.headers.get("pinterest-generated-by")||void 0;const{error:c,data:u}=d.resource_response;if(c)if(this.shouldRedirectToLoginPage(c.http_status,l,t.url,c.api_error_code,this.getLoginState()))this.redirectToLoginPage();else if(401!==c.http_status||this.getLoginState()!==p.Z.LIMITED||"UserSessionResource"===this.name||"CreateExternalInviteResource"===this.name||l){if(401===c.http_status&&2===c.api_error_code&&"/resource/UserSessionResource/delete/"===t.url)return void e(d)}else this.showLimitedLoginPrompt(t.url,c.api_error_code);if(n.ok){if(!c){if(u&&u.redirect_url){var m,h,_;let e=u.redirect_url;const n=String((null===(m=t.data)||void 0===m?void 0:m.source_url)||"");return n.match(/pin\/.+\/activity\/tried\/.+/)&&(e=n.replace(/\/pin\/.+\/(?=activity\/tried)/,e)),void i({message:null!==(h=null===(_=k.i18n)||void 0===_?void 0:_._("Redirect"," - "," -- "))&&void 0!==h?h:"Redirect",httpStatus:301,redirectUrl:e})}e(d)}}else if(c){const{message:e,message_detail:t,data:n,extra_data:a,http_status:o,api_error_code:r}=c;i({message:e,message_detail:t,data:n,extraData:a,httpStatus:o,api_error_code:r})}else i({message:n.statusText,httpStatus:n.status})})).catch((e=>{this.abortCallback=null,i(e)}))}))}_call(e,t,n,i={}){this.abort();const[a,o]=this.getAjaxParams({async:t,headers:i,method:e,timeoutSeconds:n});return this._ajax(o,a)}onResponseSuccess(e){const t=this._isAuthDesktop(),n=e.client_context;if(n){const{active_experiments:o,app_version:r,triggerable_experiments:l,experiment_hash:s}=n;var a;if(i.Z.checkVersion(r,e.originHost),k.requestContext.experimentsClient.latestExperimentHashFromServer!==s&&o&&l)m.Z.increment("webapp.experiments.updateExperimentCache",1,{appVersion:r,isAuthenticated:null===(a=e.client_context)||void 0===a?void 0:a.is_authenticated,target:t?"authDesktop":"duplo"}),k.requestContext.experimentsClient&&(k.requestContext.experimentsClient.latestExperimentHashFromServer=s)}if(e.bookmarks&&(this.options.bookmarks=e.bookmarks),k.contextLogger&&e.client_context&&!this.options.disable_event_log_info){const{event_log_info:t}=e.client_context;t&&"event_type"in t&&k.contextLogger.logContextEvent({...t,..."aux_data"in t?{aux_data:{...t.aux_data}}:null})}}getLoginState(){return k.initialUser.login_state}redirectToLoginPage(){(0,l.Z)(f.ZE,!1)}async logoutUser(e){const{userAgent:{isTablet:t,isMobile:i}}=k.requestContext,a=!t&&!i,{default:o}=await n.e(88454).then(n.bind(n,88454));o({logoutOnAbort:!0,reason:"authentication_failed",source:e,redirectUrl:a?f.ZE:null},(()=>{}),a)}showLimitedLoginPrompt(e,t){const n=this._isAuthDesktop();var i,a;(0,b.sh)({resourceUrl:e,currentPageUrl:(0,d.Z)(),subHeaderText:n?null:(i=k.i18n,null!==(a=null==i?void 0:i.bt("You'll need to log in to do that", "You'll need to log in to do that", "limitedLogin.modalHeader.completeAction", undefined, false))&&void 0!==a?a:"You'll need to log in to do that")}),m.Z.increment(n?"mweb.showLimitedLoginModal":"pure_react_resource.promptLoginForMoreOnResourceAuthError",1,{resource:this.name,resourceUrl:e,api_error_code:t})}shouldRedirectToLoginPage(e,t,n,i,a){return!(0,v.JJ)().startsWith("/login")&&((403!==e||2831!==i)&&(403===e&&a!==p.Z.DEFAULT||(401===e&&1001===i&&!t||(401!==e||i!==g.hE||"/resource/SentExternalInviteCallbackResource/create/"!==n)&&(401===e&&i===g.hE&&"/resource/UserSessionResource/delete/"!==n&&(this.logoutUser(n),!1)))))}}function E({initialUser:e,requestContext:t}){k.initialUser=e,k.requestContext=t}S(k,"i18n",null)},479218:(e,t,n)=>{n.d(t,{H:()=>c,Z:()=>d});var i=n(983722),a=n(914671),o=n(204088),r=n(214494);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t=5e3){l(this,"_flushTimer",null),l(this,"_listeningForWindowClose",!1),l(this,"_queue",[]),l(this,"flush",(()=>{if(this._flushTimer&&(clearTimeout(this._flushTimer),this._flushTimer=null),0!==this._queue.length)try{this._send(),this._queue=[]}catch(e){}})),this._queueMapper=e,this._flushTimeoutDelay=t}_send(){}enqueue(e){if(this._queue=[...this._queue,e],!this._flushTimer)try{this._flushTimer=setTimeout(this.flush,this._flushTimeoutDelay)}catch(t){this.flush()}this._listeningForWindowClose||(window.addEventListener("beforeunload",this.flush),this._listeningForWindowClose=!0)}}class d extends s{constructor(e,t,n=5e3){super(t,n),this._resourceName=e}_send(){r.Z.create(this._resourceName,this._queueMapper(this._queue)).callCreate()}}class c extends s{constructor(e,t,n,i=5e3){super(n,i),l(this,"_failedKeepAlive",!1),l(this,"_stickyFallback",!0),this._url=e,this._resourceName=t}_shouldFallback(){return this._failedKeepAlive&&this._stickyFallback}fetch(e){var t;const{getCsrfToken:l}=n(628551),s=null===(t=(0,i.Z)())||void 0===t?void 0:t.experimentsClient,d=(0,o.Z)({experimentHash:(null==s?void 0:s.latestExperimentHashFromServer)||"",windowIsInFocus:a.Z.windowIsInFocus});window.fetch(this._url,{method:"POST",mode:"same-origin",keepalive:!0,headers:{...d,"Content-Type":"application/json",Accept:"application/json","X-CSRFToken":l(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({data:{options:e}})}).catch((()=>{this._failedKeepAlive=!0,e.keepAlive="failed";r.Z.create(this._resourceName,e).callCreate()}))}_send(){if(this._shouldFallback()){const e=this._queueMapper(this._queue);e.keepAlive="fallback";r.Z.create(this._resourceName,e).callCreate()}else{const e=this._queueMapper(this._queue);e.keepAlive=!0,this.fetch(e)}}}},983722:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(608832);function a(){return(0,i.l)()}},172071:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(441143),a=n.n(i),o=n(479218);let r=null;const l=[];let s=null;function d(){l.length&&l.forEach((e=>e.flush()))}function c(e,t,n,i,s){a()(i>=0&&i<=1,`sampleRate must be between 0 and 1. Found ${String(i)}`);const d=[e,t,n,i,s];r||(r=new o.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),5e3),l.push(r)),r.enqueue(d)}const u={increment(e,t=.1,n={}){c(e,1,"c",t,n)},count(e,t,n=.1,i={}){c(e,t,"c",n,i)},timing(e,t,n=.1,i={}){c(e,t,"ms",n,i)},gauge(e,t,n=.1,i={}){c(e,t,"g",n,i)},incrementNow(e,t=.1,n={}){c(e,1,"c",t,n),d()},countNow(e,t,n=.1,i={}){c(e,t,"c",n,i),d()},timingNow(e,t,n=.1,i={}){c(e,t,"ms",n,i),d()},initServer(e){s=e},__test_only_get_queue:()=>r?r._queue:[],__test_only_clear(){r=null}}},964569:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(214494),o=n(422946),r=n(956800),l=n(274415),s=n(600147),d=n(139405),c=n(664569);const u={[c.o.aggregatedComment]:"AggregatedCommentReplyResource",[c.o.pin]:"AggregatedCommentResource",[c.o.didIt]:"DidItCommentsResource"};function p(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,d.nf)();return async({force:i=!0,fromUnifiedComment:d,objectId:c,objectType:p,orbacSubjectId:m,pinId:h,replyToCommentId:_,tags:g,text:v})=>{const y=u[p],f={force:i,objectId:c,pinId:h,tags:g,text:v,replyToCommentId:_,...m?{orbacSubjectId:m}:{}};let b=o.DV.AGGREGATED_COMMENTS;d&&(b="pin"===p?o.DV.UNIFIED_COMMENTS:o.DV.AGGREGATED_COMMENT_REPLIES);const x=await a.Z.create(y,f).callCreate({showError:!1}),P=x.resource_response.data;return t(c,P),e((0,r.vX)({feedType:b,feedId:c,itemIds:[P.id],itemType:P.type})),"pin"===p&&h?e((0,l.R)(h,1)):"aggregatedComment"===p?n(c,1):e((0,s.L8)(c,1)),P.id||x}}},28754:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(702664),a=n(214494),o=n(541776),r=n(422946),l=n(956800),s=n(274415),d=n(600147),c=n(139405);function u(){const e=(0,i.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:n}=(0,c.nf)();return async({aggregatedCommentId:i,aggregatedPinId:c,feedType:u,orbacSubjectId:p,parentId:m,type:h,updateParentCommentCount:_})=>{await a.Z.create("AggregatedCommentResource",{commentId:i,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),m&&(e((0,l.EX)({feedId:c||m,feedType:u||r.DV.AGGREGATED_COMMENTS,itemIds:[i],itemType:"aggregatedcomment"})),t(m,i),_&&(h||0===h)&&(h===o.Rv.TOP?e((0,s.R)(m,-1)):h===o.Rv.REPLY_TO_AGGREGATED?n(m,-1):e((0,d.L8)(m,-1))))}}},397066:(e,t,n)=>{n.d(t,{b:()=>c,h:()=>u});var i=n(983722),a=n(768559),o=n(43760),r=n(170168),l=n(619937),s=n(48714),d=n(366284);const c=({href:e,pinId:t,pin:n,location:o,auxData:c},u)=>{if(n&&n.is_promoted){var p,m,h,_;const P=(0,a.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:o,pinId:n.id,pinnerUserName:null===(m=n.pinner)||void 0===m?void 0:m.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),S=(0,s.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:P,auxData:c}),w=(0,i.Z)();if((0,d.G6)(null!==(h=null==w?void 0:w.userAgent.browserName)&&void 0!==h?h:"")){var g,v;const{group:i}=null!==(g=null==w?void 0:w.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{},a=null!=w&&null!==(v=w.userAgent)&&void 0!==v&&v.browserVersion?w.userAgent.browserVersion:"0.0",o=parseFloat(a.split(".")[0]+"."+a.split(".")[1]);if(void 0!==n.campaign_id&&o>=14.1&&["enabled_safari"].includes(i)){var y;const i=n.attribution_source_id?((e,t,n)=>{const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(l.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(l.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(l.$N.ATTRIBUTE_ON,n),i.click(),e})(n.attribution_source_id,S,e):((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block";const a=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return i.setAttribute(l.$N.ATTRIBUTION_SOURCE_ID,a),i.setAttribute(l.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(l.$N.ATTRIBUTE_ON,n),i.click(),a})(null!==(y=n.pin_promotion_id)&&void 0!==y?y:0,S,e);return u({event_type:101,clientTrackingParams:P,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:i,page_url:e}}),!0}}else if((0,d.i7)(null!==(_=null==w?void 0:w.userAgent.browserName)&&void 0!==_?_:"")){var f,b;const{group:i}=null!==(f=null==w?void 0:w.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==f?f:{},a=null!=w&&null!==(b=w.userAgent)&&void 0!==b&&b.browserVersion?parseInt(w.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&a>=101&&["enabled"].includes(i)){var x;const i=((e,t,n)=>{const i=new URL(`${r.C0}/attribution_source/`);i.searchParams.set(l.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),i.searchParams.set(l.NR.ATTRIBUTION_DESTINATION,n),i.searchParams.set(l.NR.ATTRIBUTION_EXPIRY,""+l.uV);const a=document.createElement("a");return a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(l.NR.ATTRIBUTION_SOURCE,i.toString()),a.click(),e})(null!==(x=n.attribution_source_id)&&void 0!==x?x:"0",S,e);return u({event_type:101,clientTrackingParams:P,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:i,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:i,auxData:r},l)=>{if("undefined"!=typeof window&&window.Windows)(0,o.Z)({url:e,pinId:t,pin:n,location:i,auxData:r});else{var d,u;if(c({href:e,pinId:t,pin:n,location:i,auxData:r},l))return;(0,s.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,a.Z)({boardUrl:null==n||null===(d=n.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:i,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:r})}}},565212:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(898781),o=n(288889),r=n(883119),l=n(785893);function s({children:e}){const t=(0,i.useRef)(null),[n,s]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),d=(0,a.ZP)(),{isFirstLoad:c,isTruncated:u}=n;return(0,i.useEffect)((()=>{var e;c&&t.current&&((e=t.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&s({isFirstLoad:!1,isTruncated:!0})}),[c,u]),(0,l.jsxs)(r.xu,{position:"relative","data-test-id":"truncated-description",flex:"grow",children:[(0,l.jsx)(r.xv,{size:o.n,ref:t,lineClamp:c||u?3:0,children:e}),u&&(0,l.jsx)(r.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,l.jsxs)(r.kC,{flex:"grow",children:[(0,l.jsx)(r.xu,{display:"inlineBlock",flex:"grow",height:"18px"}),(0,l.jsx)(r.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},marginEnd:1,children:(0,l.jsx)(r.iP,{fullWidth:!1,onTap:()=>s({...n,isTruncated:!1}),children:(0,l.jsx)(r.xv,{size:o.n,weight:"bold",children:d.bt("   ", " more ", "closeup.TruncatedDescription.moreLabel", undefined, true)})})})]})})]})}},485710:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(898781),o=n(883119),r=n(785893);function l({children:e,heading:t}){const[n,l]=(0,i.useState)(!1),s=(0,a.ZP)();return(0,r.jsxs)(o.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,r.jsxs)(o.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,r.jsx)(o.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,r.jsx)(o.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,r.jsx)(o.hU,{accessibilityLabel:s.bt("   ", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:n?"arrow-forward":"arrow-down",onClick:()=>{l(!n)},size:"md"})})]}),!n&&(0,r.jsx)(i.Fragment,{children:e})]})}},288889:(e,t,n)=>{n.d(t,{n:()=>i});const i="300"},319530:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(898781),o=n(883119),r=n(785893);function l({children:e,maxLines:t=10}){const n=(0,i.useRef)(null),[l,s]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),d=(0,a.ZP)(),{isFirstLoad:c,isTruncated:u}=l;return(0,i.useEffect)((()=>{var e;c&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&s({isFirstLoad:!1,isTruncated:!0})}),[c,u]),(0,r.jsxs)(o.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,r.jsx)(o.xv,{ref:n,lineClamp:c||u?t:0,inline:!0,children:e}),u&&(0,r.jsx)(o.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,r.jsxs)(o.kC,{flex:"grow",children:[(0,r.jsx)(o.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,r.jsx)(o.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,r.jsx)(o.iP,{fullWidth:!1,onTap:()=>s({...l,isTruncated:!1}),children:(0,r.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:d.bt("   ", "  more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"grow",height:"14px",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},509278:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o(e,t="200"){return e.split(new RegExp(/(#\S*)/)).map(((e,n)=>{const o=`${n}-${e}`;return e.includes("#")?(0,a.jsx)(i.xv,{size:t,color:"link",inline:!0,children:(0,a.jsx)(i.rU,{underline:"none",display:"inline",href:`/search/pins/?q=${encodeURIComponent(e.replace("#",""))}`,children:e})},o):(0,a.jsx)("span",{children:e},o)}))}},807592:(e,t,n)=>{function i(e){const{max_price:t,min_price:n,price:i}=e;return t&&n?`${n}-${t}`:i}n.d(t,{Z:()=>i})},155582:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),a=n(214494);var o=n(512465),r=n(898781),l=n(19121),s=n(349700),d=n(129274),c=n(966113),u=n(883119),p=n(785893);const m=c.K_+"?source=block_dialogue";function h(e){return e.map((({full_name:e})=>e))}const _=function({users:e,onClose:t,onSubmit:n}){const i=(0,r.ZP)(),a=(0,p.jsx)("strong",{children:(0,o.Z)(h(e),i)},"userlist");return(0,p.jsxs)("form",{method:"post",children:[(0,p.jsxs)(u.xu,{padding:8,children:[(0,p.jsx)(u.xv,{children:(0,s.nk)(i.bt("{{ users }}           .", "If you block {{ users }}, you wont be able to follow each other or interact with each others Pins.", "description of blocking users", undefined, true),{users:a})}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(u.xv,{children:(0,p.jsx)(u.rU,{display:"inlineBlock",href:m,underline:"hover",children:i.bt(" ", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,p.jsx)(u.zx,{fullWidth:!0,onClick:t,text:i.bt("", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{n()},text:i.bt("", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})};var g=n(174798);const v=({flagReason:e,flagType:t,onClose:n,selectedReason:m,status:v,users:y,blockContext:f})=>{const b=(0,r.ZP)(),[x,P]=(0,i.useState)({}),{setModalTitle:S,setStatus:w}=(0,d.d)(),T=(0,l.Z)(),{id:k}=T.isAuth?T:{},E=y.filter((({id:e})=>x[e])),I=E.length>0;(0,i.useEffect)((()=>{(()=>{let e;[g.qb.SUBMITTED,g.qb.PROCESSING].includes(v)?e=b.nbt(["  ?"], E.length, "BlockAndUnfollow", true):t===g.Vm.CONVERSATION&&(e=v===g.qb.COMPLETED?(0,s.nk)(b.bt("{{usernames}} .", "Youve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,o.Z)(h(E),b).join("")}).join(""):b.bt("  .", "Thanks for your report", "BlockAndUnfollow", undefined, true)),S(e)})()}),[v]),(0,i.useEffect)((()=>{w(I?g.qb.SELECTED:g.qb.STARTED)}),[x]);const A=y.filter((({id:e})=>e!==k)),C=[g.qb.STARTED,g.qb.COMPLETED].includes(v);return(0,p.jsx)("form",{method:"post",children:[g.qb.SUBMITTED,g.qb.PROCESSING].includes(v)?(0,p.jsx)(_,{onClose:()=>{w(g.qb.SELECTED)},onSubmit:()=>(w(g.qb.PROCESSING),Promise.all(Object.keys(x).filter((e=>x[e])).map((e=>function({userId:e,blockSource:t,blockContext:n}){return a.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:n}).callCreate().then((()=>{}),(()=>{}))}({userId:e,blockSource:"message",blockContext:f})))).finally((()=>{w(g.qb.COMPLETED)}))),users:E}):(0,p.jsxs)(u.xu,{padding:8,children:[(0,p.jsx)(u.xu,{children:v!==g.qb.COMPLETED?(()=>{let t;"harassingOther"===m?t=(0,s.nk)(b.bt("        .         . Pinterest {{ communityGuidelines }}   ", "We remove content that identifies and attacks private people because we consider it to be bullying. We also dont allow content that reveal someones personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,p.jsx)(u.rU,{display:"inlineBlock",href:c.Ms,underline:"hover",children:b.bt(" ", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===m?t=b.bt("Pinterest        .", "Please note that we wont necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===m?t=b.bt("          .    Pinterest  .", "Before we can review this Pin, we need to hear from the person whos being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(e)&&(t=b.bt("    Pinterest    .", "Well take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));const n=b.nbt(["    ."], A.length, "description to block people", true);return(0,p.jsxs)(i.Fragment,{children:[t&&(0,p.jsx)(u.xu,{marginBottom:8,children:(0,p.jsx)(u.xv,{children:t})}),(0,p.jsx)(u.xu,{marginBottom:8,children:(0,p.jsx)(u.xv,{children:n})}),(0,p.jsx)(u.xu,{marginBottom:8,children:A.map((({id:e,full_name:t})=>(0,p.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(x[e]),label:(0,s.nk)(b.bt("{{ pinnerName }} ", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:t}).join(""),onChange:({checked:t})=>{P({...x,[e]:t})},helperText:b.bt("        .", "You wont be able to send each other messages or interact with each others Pins.", "BlockAndUnfollow", undefined, true)},e)))})]})})():I&&(0,p.jsx)(u.xu,{marginBottom:8,children:(0,p.jsx)(u.xv,{children:b.bt("       .", "You wont be able to follow each other or interact with each others pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,p.jsxs)(u.xu,{children:[v!==g.qb.COMPLETED&&(0,p.jsx)(u.xu,{marginBottom:8,children:(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(b.bt("{{ linkToTopic }}   ", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{display:"inlineBlock",href:c.K_,underline:"hover",children:b.bt("", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,p.jsx)(u.xu,{children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:C?n:()=>{P(x),w(g.qb.SUBMITTED)},text:C?b.bt("", "Done", "Block.Complete", undefined, true):b.bt("", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function y({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:a,showPrimaryAction:o,submitButton:l}){const s=(0,r.ZP)();if(t===g.Zw.REPORT){var d;if(g.qb.PROCESSING===status||null!==(d=e.getFlagOption(a))&&void 0!==d&&d.isTerminalReason)return l;if(o)return(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===a,onClick:i,text:s.bt("", "Next", "go to the next view in the report flow", undefined, true)})}else if(t===g.Zw.END)return(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:n,text:s.bt("", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}var f=n(121151);function b({flow:e,flagReason:t}){const n=(0,r.ZP)();if(e===g.Zw.REPORT){if("attacks"===t)return(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(n.bt("Pinterest {{ linkToTopic }}   ", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{target:"blank",href:c.Ms,children:(0,p.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:n.bt(" ", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===t)return(0,p.jsxs)("p",{children:[(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(n.bt("{{ linkToTopic }}  ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{target:"blank",href:c.Ms+"#sub-section-adult-content",children:(0,p.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:n.bt("  Pinterest ", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(n.bt("{{ linkToTopic }}  ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{target:"blank",href:c.Ms+"#sub-section-dangerous-goods-and-activities",children:(0,p.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:n.bt("   Pinterest ", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(n.bt("{{ linkToTopic }}  ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{target:"blank",href:c.Ms+"#sub-section-violence",children:(0,p.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:n.bt("   Pinterest ", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,p.jsx)(u.xv,{size:"100",children:(0,s.nk)(n.bt("{{ linkToTopic }}  ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(u.rU,{target:"blank",href:c.Ms,children:(0,p.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?n.bt("Pinterest  ", "our spam policies", "name of footer link to policy", undefined, true):n.bt("Pinterest ", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function x({arrayOfData:e,handleSelectReason:t,selectedReason:n}){const i=(0,r.ZP)();return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(u.FX,{id:"flag-option-radio-group",legend:i.bt("  ", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:e.map(((e,i)=>{const{condition:a}=e;return void 0===a||a?function(e,t,n,i){const{text:a,value:o,category:r}=e;return(0,p.jsx)(u.xu,{paddingY:2,children:(0,p.jsx)(u.FX.RadioButton,{checked:n===o,id:o,onChange:({checked:e})=>t(e,o,r),name:"flagReason",value:o,label:a})},i)}(e,t,n,i):null}))})})}class P{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const n in e)e[n].forEach((e=>{const i=e.value;if(Object.prototype.hasOwnProperty.call(t,i))throw new Error("Duplicate key in FlagOptions config: "+i);t[i]={...e,parentOption:n}}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:n,selectedReason:i}=e;return(0,p.jsx)(x,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:i})}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),S(this,"flagOptions",new P(this.props.flagOptionsConfig)),S(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===g.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===g.Zw.END?(0,p.jsx)(u.xv,{children:this.props.i18n.bt("Pinterest            Pinterest  .", "Well use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case g.Zw.REPORT:n&&n();break;case g.Zw.BLOCK:i&&i()}}render(){const{accessibilityModalLabel:e,flagType:t,flow:n,status:i,modalTitle:a,onClose:o,selectedReason:r,submitButton:l,flagReason:s,showPrimaryAction:d,users:c,blockContext:m}=this.props;return(0,p.jsx)(f.ZP,{accessibilityModalLabel:e,heading:a,onDismiss:o,size:"md",footer:n!==g.Zw.BLOCK?(0,p.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(b,{flagReason:s,flow:n})}),(0,p.jsx)(u.xu,{padding:1,children:n===g.Zw.REPORT?(0,p.jsx)(u.zx,{fullWidth:!0,onClick:void 0===s?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===s?this.props.i18n.bt("", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("", "Back", "previous step in a form", undefined, true)}):null}),(0,p.jsx)(u.xu,{padding:1,children:(0,p.jsx)(y,{flagOptions:this.flagOptions,flow:n,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:r,showPrimaryAction:!!d,submitButton:l})})]}):void 0,children:(0,p.jsx)(u.xu,{children:n===g.Zw.BLOCK?(0,p.jsx)(v,{flagReason:s,flagType:t,onClose:o,selectedReason:r,status:i,users:c,blockContext:m}):this.renderContent()})})}}function T(e){const t=(0,r.ZP)();return(0,p.jsx)(w,{...e,i18n:t})}},129274:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>s});var i=n(667294),a=n(425288),o=n(174798),r=n(785893);const{Provider:l,useHook:s}=(0,a.Z)("Flag"),d=({children:e})=>{const[t,n]=(0,i.useState)(),[a,s]=(0,i.useState)(o.Zw.REPORT),[d,c]=(0,i.useState)(o.qb.STARTED),[u,p]=(0,i.useState)(),[m,h]=(0,i.useState)(),_=(0,i.useMemo)((()=>({flagReason:m,flow:a,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:s,setModalTitle:n,setStatus:c,setSelectedReason:p})),[t,a,d,u,m]);return(0,r.jsx)(l,{value:_,children:e})}},428837:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(702664),o=n(794230),r=n(155582),l=n(898781),s=n(966113),d=n(600147),c=n(129274),u=n(883119),p=n(174798),m=n(785893);const h="policies";function _({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:_,username:g,users:v}){const y=(0,l.ZP)(),[f,b]=(0,i.useState)([]),[x,P]=(0,i.useState)(),[S,w]=(0,i.useState)(),T=(0,a.useDispatch)(),{flow:k,modalTitle:E,selectedReason:I,setFlow:A,setModalTitle:C,setSelectedReason:R,setStatus:j,status:D}=(0,c.d)();(0,i.useEffect)((()=>{C((()=>{if(k===p.Zw.REPORT)switch(S){case"attacks":return y.bt("  ?", "What's going on?", "title for report content flow", undefined, true);case h:return y.bt("    ?", "What's wrong with this Try?", "title for report content flow", undefined, true);case"IP":return y.bt(" ", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return y.bt("    ?", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(k===p.Zw.END&&f.includes("notUseful"))return y.bt(" !", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""})())}),[f,k,S]);const O=(0,m.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(j(p.qb.PROCESSING),"ignoreThisPin"===I)A(p.Zw.BLOCK),j(p.qb.STARTED);else{const n=[...f,I];b(n),((e,t,n,i,a)=>{T((0,d.Th)(e,t,n,i,a))})(e,n,t,x,g),f.includes("notUseful")?(A(p.Zw.END),j(p.qb.STARTED)):(A(p.Zw.BLOCK),j(p.qb.STARTED))}},text:y.bt(" ", "Report content", "button to report content", undefined, true)});return(0,m.jsx)(r.Z,{accessibilityModalLabel:y.bt(" ", "Report conversation", "Pin.DidIt.Report", undefined, true),content:"IP"===S?(0,m.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,m.jsxs)(u.xu,{mdColumn:9,children:[(0,m.jsx)(u.xu,{padding:2,marginStart:2,children:(0,m.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:y.bt("           .", "If youve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,m.jsx)(u.xu,{padding:2,children:(0,m.jsx)(u.zx,{role:"link",href:(0,o.Z)(s.GE,{pin_id:_,user_did_it_id:t}),color:"red",text:y.bt(" ", "File a report", "link to DMCA form", undefined, true),target:"blank"})})]})}):null,flagType:p.Vm.DID_IT,flow:k,modalTitle:E,onClose:n(!0),onNext:()=>{w(I),b([...f,I]),R()},onRevert:()=>{const e=f[f.length-1],t=f.slice(0,-1);R(e),w(t[t.length-1]),b(t),P(),j(void 0===e?p.qb.STARTED:p.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(R(t),j(p.qb.SELECTED),P(n))},showPrimaryAction:"IP"!==S,submitButton:O,status:D,selectedReason:I,flagReason:S,users:v,blockContext:null!=e?e:"",flagOptionsConfig:{__default:[{text:y.bt("    ", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:y.bt("Pinterest    ", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:h,isTerminalReason:!1},{text:y.bt("", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:y.bt("  ", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:y.bt("", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:y.bt("  ", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:y.bt(" ", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:y.bt("    ", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:y.bt("  ", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:y.bt("     ", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:y.bt("        ", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:y.bt("", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},174798:(e,t,n)=>{n.d(t,{Vm:()=>o,Zw:()=>i,qb:()=>a});const i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},o={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},157796:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);function r({color:e="red",duration:t,finalProgress:n,shape:r="pill"}){const[l,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===r;return(0,o.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${l?"-5px":"-100%"})`:`scaleX(${l?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},273260:(e,t,n)=>{n.d(t,{M:()=>s});const i=/^(?:adminapp|images|js|css|favicon\.png|client|reporter|webapp)/,a=/(\.mp4|\.mov|\.m3u8)$/,o={mediaUrls:{http:"http://i.pinimg.com/",https:"https://i.pinimg.com/"},assetUrls:{http:"http://s.pinimg.com/",https:"https://s.pinimg.com/"},videoUrls:{http:"http://v.pinimg.com/",https:"https://v.pinimg.com/"}};let r;class l{constructor(){this.config=o}getAssetHost(e){return this.config.assetUrls[e]}getMediaHost(e){return this.config.mediaUrls[e]}}function s(e){const t="https";if(!e)return e;if(e.startsWith("http"))return e;if(e.startsWith("//"))return`https:${e}`;e.startsWith("/")&&(e=e.substring(1));const n=(r||(r=new l),r);if(-1!==e.substring(0,11).search(i))return n.getAssetHost(t)+e;if(-1!==e.search(a))throw new Error("Video Host not implemented in CdnUtils.js");return n.getMediaHost(t)+e}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},628551:(e,t,n)=>{n.r(t),n.d(t,{cleanUpCookie:()=>l,getCsrfToken:()=>s,needsCsrfToken:()=>d});var i=n(231486),a=n(226198),o=n(826067),r=n(29538);const l=()=>{const e=a.fS.name,t=document.cookie.match(new RegExp(e+"=.+?($|;)","g"));var n;t&&t.length>1&&(n=r.c,document.cookie=a.fS.name+"=bad; domain=."+n+"; expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/")},s=()=>"undefined"!=typeof window?`${String(i.U2(a.fS))}`:"",d=(e,t)=>!(e=>/^(GET|HEAD|OPTIONS|TRACE)$/.test(e))(e)&&(0,o.Qg)(t)},558068:(e,t,n)=>{n.d(t,{Hv:()=>s,aX:()=>u,nK:()=>p});var i=n(667294),a=n(425288),o=n(276775),r=n(785893);const{Provider:l,useHook:s}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=s();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,o.useHistory)(),n=(0,o.useLocation)(),a=(0,o.useRouteMatch)(),s={forward:[],current:{action:t.action,location:n,match:a},previous:[]},[d,u]=(0,i.useReducer)(c,s);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:a})}),[n]),(0,r.jsx)(l,{value:d,children:e})}},391254:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,r=String(t||"")||n||"";return!!r?(0,i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},422722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var i=n(176532),a=n(635240),o=n(395164);const r={};r.BASE_URL_PATH="/_/_/report/",r.BASE_URL_PATH_TRACE="/_/_/trace/",r.SERVER_LOG_TYPE=Object.freeze({PAGE_LOAD_METRIC:"page_load_metric",BROWSER_EXTENSION:"browser_extension",RENDER_TIME:"render_time",NETWORK_LOAD:"network_load",SIGNUP_LOAD:"signup_load",TRACE:"trace",STRING_USAGE:"string_usage",HF_REFRESH:"hf_refresh"}),r.HTTP_METHOD=Object.freeze({GET:"GET",POST:"POST"});const l=function(e,t){if(!/password/i.test(e))return t};r._assembleXhrData=function(e,t){let n;try{n=JSON.stringify(t,l)}catch(i){n=JSON.stringify({messages:[i.toString()]})}return{report_context:JSON.stringify(e,l),report_data:n}},r.logToServer=function(e,t,n,l=0,s,d){var c;let u=null!=l?l:0;const p=null!=s?s:1;d=null!==(c=d)&&void 0!==c?c:s,function(e,t,n,o){let l;l="trace"===e?r.BASE_URL_PATH_TRACE+e+"/":r.BASE_URL_PATH+e+"/",o&&(n.timeElapsed=Date.now()-o),e&&(n.logType=e);let s="";try{s=window.location.href}catch(u){}const d={app_version:(0,a.Z)(),current_url:s},c=r._assembleXhrData(d,n);return(0,i.Z)({url:l,type:t,data:c}).promise.then((({ok:e,status:t,statusText:n})=>e?Promise.resolve():Promise.reject({type:"error",message:n,httpStatus:t})))}(e,t,n,d).catch((i=>{if(u){u-=1;const i=Math.min(18e5,1.23*p);setTimeout((()=>{r.logToServer(e,t,n,u,i,d)}),s)}else u-=1,(0,o.T)({name:i.name,message:`LogToServer failed: ${i.message}`})}))},r.logPerfDataToServer=r.logToServer,r.logToServer=function(e,t){let n=0;return function(...i){if(!(n>=t))return n+=1,e.apply(this,i)}}(r.logToServer,10);const s=r},241244:(e,t,n)=>{n.d(t,{N:()=>r,Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(o,{children:e}):e}},310227:(e,t,n)=>{n.d(t,{Dv:()=>o,Ml:()=>r,Oc:()=>i,mv:()=>a});const i=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},50823:(e,t,n)=>{n.d(t,{U3:()=>y,f5:()=>g,lP:()=>v,ol:()=>f});var i=n(273260),a=n(992750),o=(n(784641),n(826067)),r=n(170168);let l,s=e=>e;const d=(0,i.M)("/images/default_open_graph_1200.png"),c="noindex,noimageindex",u=r.Vi;function p(e,t){return["alternate",`https://www.pinterest.com/oembed.json?url=${e}&ref=oembed-discovery`,{title:t.bt("  Pinterest   !", "Find inspiration on Pinterest today!", " - ", undefined, true),type:"application/json+oembed"}]}function m(e){if(!e)return"";try{return new Date(e).toISOString()}catch(t){return""}}function h({relativePath:e,origin:t=r.C0}){return`${t}${e}`}const _=["link","tracked_link","seo_title","seo_description","seo_url","seo_noindex_reason","created_at","repin_count","pin_join","images","category","board","pinner"],g=e=>!_.find((t=>!Object.prototype.hasOwnProperty.call(e,t)));function v({data:e,origin:t,i18n:n}){var i,o,r;const{id:l,board:s,created_at:_,link:g,pinner:v,pin_join:y,repin_count:f,seo_description:b,seo_title:x,seo_noindex_reason:P,tracked_link:S,seo_url:w,images:T}=e,k=null==v?void 0:v.username,E=!P&&y?y.seo_canonical_domain:u,I=!P&&y?y.seo_canonical_url:(0,a.bN)({pinId:l,seoUrl:w}),A=h({origin:E?`https://${E}`:t,relativePath:I}),C=[p(A,n)],R=null!=T&&null!==(i=T["736x"])&&void 0!==i&&i.url?T["736x"].url:d,j={"og:image":R,"og:image:height":(null!=T&&null!==(o=T["736x"])&&void 0!==o&&o.height?T["736x"].height:200).toString(),"og:image:width":(null!=T&&null!==(r=T["736x"])&&void 0!==r&&r.width?T["736x"].width:200).toString(),"og:type":"pinterestapp:pin","og:updated_time":m(_),"og:url":A,"twitter:image:src":R,"pinterestapp:repins":f?f.toString():"0"};return x&&(j.title=x,j["twitter:title"]=x,j["og:title"]=x),b&&(j.description=b,j["og:description"]=b,j["twitter:description"]=b),(S||g)&&(j["og:see_also"]=S||g,j["pinterestapp:source"]=S||g),j.robots=P?c:"max-image-preview:large",null!=s&&s.url&&(j["pinterestapp:pinboard"]=h({relativePath:s.url,origin:t})),k&&(j["pinterestapp:pinner"]=h({relativePath:`/${k}/`,origin:t})),{links:C,canonical_domain:E,canonical_url:I,full_canonical_url:A,no_index_reason:P,metatags:j}}function y({data:e,origin:t,i18n:n}){const{board_order_modified_at:i,category:a,cover_images:o,name:r,owner:l,pin_count:s,seo_canonical_domain:u,seo_description:_,seo_noindex_reason:g,seo_title:v,url:y}=e,f=(null==l?void 0:l.username)||"",b=o&&o["200x150"]&&o["200x150"].url||d,x=y&&h({origin:u?`https://${u}`:t,relativePath:y}),P=x?[p(x,n)]:[],S={"og:image":b,"og:type":"pinterestapp:pinboard","og:updated_time":m(i),"pinterestapp:pinner":h({relativePath:`/${f}/`,origin:t}),"pinterestapp:pins":(s||0).toString(),"twitter:image:src":b};return v&&(S.title=v,S["og:title"]=v),_&&(S.description=_,S["og:description"]=_,S["twitter:description"]=_),a&&(S["pinterestapp:category"]=a),r&&(S["twitter:title"]=r),x&&(S["og:url"]=x),g&&(S.robots=c),{links:P,no_index_reason:g,metatags:S,full_canonical_url:x,...u?{canonical_domain:u}:null}}function f({data:e,origin:t,i18n:n}){const{about:i,board_count:a,follower_count:r,following_count:d,image_xlarge_url:u,pin_count:m,seo_canonical_domain:_,seo_description:g,seo_noindex_reason:v,seo_title:y,username:f}=e,b=h({origin:_?`https://${_}`:t,relativePath:(0,o.tV)(l||(l=s`/${0}/`),f)}),x=[p(b,n)],P={"og:type":"profile","og:url":b,"pinterestapp:about":i||"","pinterestapp:boards":(a||0).toString(),"pinterestapp:followers":(r||0).toString(),"pinterestapp:following":(d||0).toString(),"pinterestapp:pins":(m||0).toString()};return u&&(P["og:image"]=u,P["twitter:image:src"]=u),g&&(P.description=g,P["og:description"]=g,P["twitter:description"]=g),y&&(P.title=y,P["og:title"]=y,P["twitter:title"]=y),v&&(P.robots=c),{links:x,no_index_reason:v,metatags:P,full_canonical_url:b,..._?{canonical_domain:_}:null}}},941646:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,a.jsx)(i.xu,{"data-test-id":o,display:n,children:t})}},170815:(e,t,n)=>{n.d(t,{Z:()=>o});const i=!("undefined"==typeof window||!window.performance||!window.performance.now);function a(){return i?window.performance.now():Date.now()}class o{constructor(){var e,t,n;n=null,(t="startTime")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}start(){this.startTime=a()}end(){this.elapsedTime=Math.round(a()-(this.startTime||Date.now())),this.startTime=i?Math.round(this.startTime||Date.now()):null}getCompletedTime(){return this.elapsedTime}}},792606:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(941646),o=n(898781),r=n(52022),l=n(349700),s=n(867820),d=n(130460),c=n(350118),u=n(883119),p=n(167912),m=n(785893);const h=void 0!==i?i:i=n(33184);function _({boardName:e,boardUrl:t,onClose:n,pinDescription:i,pinnerFullName:d,zIndex:c}){const p=(0,o.ZP)(),h=(0,r.Z)(),_=t&&e?{boardName:e,boardUrl:t,username:t.split("/")[1]}:null;return(0,m.jsx)("div",{"data-test-id":"more-information-modal",style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:c||2},onClick:()=>{h({action:"click",item:"close-more-information-modal"}),n()},children:(0,m.jsxs)(u.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,m.jsxs)(u.xu,{display:"flex",height:60,justifyContent:"end",dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},children:[(0,m.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,m.jsx)(a.Z,{id:"close-more-information-modal",children:(0,m.jsx)(u.JO,{accessibilityLabel:p.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",inline:!0,size:18})})}),(0,m.jsx)(u.xu,{marginTop:5,position:"absolute",dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},children:p.bt(" ", "More information", "more information label", undefined, true)})]}),(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!i&&(0,m.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:i}),!!_&&(0,m.jsx)(u.xu,{marginTop:3,children:(0,m.jsx)(u.xv,{children:(0,l.nk)(p.bt("{{ profile_link }} {{ board_link }}      .", "Find this Pin and more on {{ board_link }} by {{ profile_link }}.", "Link to pin's board and board's owner", undefined, true),{board_link:(0,m.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(u.rU,{display:"inlineBlock",href:_.boardUrl,onClick:()=>(0,s.NC)("click_vase_modal_board",!0),underline:"hover",children:_.boardName},"board-link")}),profile_link:(0,m.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(u.rU,{display:"inlineBlock",href:`/${_.username}/`,onClick:()=>(0,s.NC)("click_vase_modal_profile",!0),underline:"hover",children:d||_.username},"profile-link")})})})})]})]})})}const g=({graphqlRef:e,onClose:t,zIndex:n})=>{const i=(0,p.useFragment)(h,e),{board:a,description:o,pinner:r}=i;return(0,m.jsx)(_,{boardName:null==a?void 0:a.name,boardUrl:"protected"===(null==a?void 0:a.privacy)?null:null==a?void 0:a.url,onClose:t,pinDescription:o,pinnerFullName:null==r?void 0:r.fullName,zIndex:n})},v=({pinId:e,onClose:t,zIndex:n})=>{const i=(0,c.S6)()(e),{board:a,description:o,pinner:r}=null!=i?i:Object.freeze({}),l=(0,d.gC)()(a);return(0,m.jsx)(_,{boardName:null==l?void 0:l.name,boardUrl:"protected"===(null==l?void 0:l.privacy)?null:null==l?void 0:l.url,onClose:t,pinDescription:o,pinnerFullName:null==r?void 0:r.full_name,zIndex:n})};function y({graphqlRef:e,pinId:t,onClose:n,zIndex:i}){return e?(0,m.jsx)(g,{graphqlRef:e,onClose:n,zIndex:i}):(0,m.jsx)(v,{onClose:n,pinId:t,zIndex:i})}},512176:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(898781),o=n(112690),r=n(967181),l=n(883119),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,a.ZP)(),[h,_]=(0,i.useState)(!1),{dangerousInlineStyle:g,iconColor:v}=(0,r.W)(!!e),y=(0,o.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m.bt("   ", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):m.bt(" ", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:v,inline:!0,size:d[t]}),n&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:m.bt(" ", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!c)&&(0,s.jsx)(r.Z,{showModal:h,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(121151),o=n(898781),r=n(112690),l=n(966113),s=n(752403),d=n(883119),c=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const m=(0,o.ZP)(),[h,_]=(0,i.useState)(!0),{dangerousInlineStyle:g,iconColor:v}=u(!0),y=(0,r.Z)();return(0,i.useEffect)((()=>{n&&h&&(_(!1),y({event_type:13,component:13534}))}),[n]),(0,c.jsx)(a.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:m.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsxs)(d.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,c.jsx)(d.JO,{accessibilityLabel:m.bt("   ", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:v,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:g,children:m.bt(" ", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:m.bt("  Pinterest   ", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,s.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(d.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:m.bt(" ", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:l.vB,text:m.bt(" ", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},594881:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(172071),a=n(214494),o=n(202139);var r=n(983722),l=n(635240);var s=n(385740),d=n(30287),c=n(172045);const u=function(){const e=(0,r.Z)();if(null!=e&&e.isAuthenticated&&!function(){const e=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"),t=window.location.pathname.startsWith("/pin/create/"),n="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),i=t||n,{userAgent:a}=(0,r.Z)()||{userAgent:{isMobile:!1,isTablet:!1}};return!(a.isMobile||a.isTablet)&&i||e}()){var t,n;const{viewType:r,viewParameter:u}=null!==(t=(0,s.BE)())&&void 0!==t?t:{},p=(0,d.FB)(window);!function(e,t){const n=a.Z.create("ActiveUserResource",e);let r=3e4;n.callCreate().catch((a=>{let l=a.message;if(l&&"object"==typeof l){l._t_message&&delete l._t_message;try{l=JSON.stringify(l)}catch(s){l="Unable to serialize error message"}}i.Z.increment("webapp.metrics.dau.errors",1,{message:l,browser:e.data.browser,error_code:a.api_error_code,is_auth:t}),setTimeout((()=>{r>o.UK||(r*=2,n.callCreate())}),r)}))}({data:{appVersion:(0,l.Z)(),auxData:{pwa_type:p&&"unknown"!==p?p:void 0,stage:null!==(n=e.stage)&&void 0!==n?n:"unknown"},browser:e.userAgent.browserType,clientUUID:(0,c.Z)(),event_type:7137,time:1e6*Date.now(),unauth_id:e.unauthId,view_type:r,view_parameter:u}},e.isAuthenticated)}}},619937:(e,t,n)=>{n.d(t,{$N:()=>p,GY:()=>s,MZ:()=>r,NR:()=>c,Vn:()=>d,fm:()=>i,kM:()=>o,q6:()=>a,qp:()=>l,uV:()=>u});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce"},l={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_MANAGER:"CONVERSIONS_API_MANAGER",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},s={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},d={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},c={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},283698:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>o,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},176532:(e,t,n)=>{function i({async:e,data:t,headers:n,timeout:i,type:a,updateProgress:o,url:r}){let l=!1;return{promise:new Promise(((o,s)=>{const d=i?setTimeout((()=>{l="timeout",s({type:"timeout"})}),i):void 0;fetch(r,{method:a,credentials:"include",mode:"same-origin",keepalive:!e,headers:n,...t?{body:t}:{}}).then((e=>{d&&clearTimeout(d),l?"timeout"!==l&&s({type:"abort"}):o({status:e.status,statusText:e.statusText,ok:e.status>=200&&e.status<300||304===e.status,headers:{get:t=>e.headers.get(t),_logString:()=>{const t=[];for(const[n,i]of e.headers.entries())t.push(`${n}: ${i}\r\n`);return t.join("")}},json:()=>e.json().then((e=>e instanceof Object?e:Promise.reject(new Error("JSON.parse did not return an object"))))})})).catch((()=>Promise.reject({type:"timeout"})))})),abort:()=>{l="manual"}}}n.d(t,{Z:()=>p});var a=n(635240);const o=(...e)=>{};function r({async:e,data:t,headers:n,timeout:i,type:a,updateProgress:r,url:l}){const s=new XMLHttpRequest;return{promise:new Promise(((d,c)=>{const u=i?setTimeout((()=>{s.onreadystatechange=o,s.abort(),c({type:"timeout"})}),i):void 0;s.onreadystatechange=()=>{if(4===s.readyState){s.onreadystatechange=o,clearTimeout(u);const e=s.status,t=s.statusText,n=s.responseText;if(!e)return void c({type:"abort"});d({status:e,statusText:t,ok:e>=200&&e<300||304===e,headers:{get:e=>s.getResponseHeader(e),_logString:()=>s.getAllResponseHeaders()},json:()=>new Promise(((e,t)=>{try{const i=JSON.parse(n);i instanceof Object?e(i):t(new Error("JSON.parse did not return an object"))}catch(i){t(i)}})),responseText:n})}},r&&s.upload.addEventListener("progress",(e=>{let t=null;e.lengthComputable&&(t=e.loaded/e.total*100),r(t)})),s.open(a,l,e),Object.keys(n).forEach((e=>{s.setRequestHeader(e,n[e])})),s.send(t||null)})),abort:()=>{s&&s.abort()}}}var l=n(42238),s=n.n(l);const d=e=>{if((e=>{const t=e.match(/\s+chrome\/(\d+)\./i);return!!t&&parseInt(t[1],10)>=79})(e))return!0;const{name:t="",version:n=""}=s()(e).browser,i=parseInt(n.replace(/\..*/,""),10)||0;return"chrome"===t.toLowerCase()&&i>=79};var c=n(826067),u=n(628551);function p(e){const t={async:!0,cache:!1,data:void 0,headers:{},query:{},timeout:0,type:"GET",...e};let{url:n,data:o}=t;const l=t.type;o&&"object"==typeof o&&("GET"===l?(n=(0,c.ru)(n,o),o=void 0):o instanceof FormData||(o=(0,c.XP)(o))),!1===t.cache&&"GET"===l&&(n=(0,c.ru)(n,{_:Date.now()}));const s=(0,u.needsCsrfToken)(l,n);if(s&&!(0,u.getCsrfToken)())return{promise:Promise.reject({type:"csrferror",message:"No csrf token found"}),abort:()=>{}};return(!t.async&&"keepalive"in new Request("")&&d(window.navigator.userAgent||"")?i:r)({...t,url:n,data:o,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*, q=0.01","X-APP-VERSION":(0,a.Z)(),..."GET"===l||!o||o instanceof FormData?{}:{"Content-Type":"application/x-www-form-urlencoded"},...s?{"X-CSRFToken":(0,u.getCsrfToken)()||""}:{},...t.headers}})}},561067:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(898781),o=n(52022),r=n(867820),l=n(350118),s=n(883119),d=n(167912),c=n(785893);const u=void 0!==i?i:i=n(736675),p=()=>{const e=(0,a.ZP)();return(0,c.jsx)(s.xv,{size:"300",children:e.bt("Pinterest  ", "Featured in Pinterest's article", "Title of suggesting articles module in the pin.", undefined, true)})};function m({articleId:e,imageUrl:t,title:n,url:i,isDesktop:l}){const d=(0,a.ZP)(),u=(0,o.Z)();if(!(e||t||n||i))return null;const m=()=>{(0,r.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:e}),u({action:"click",item:"pin-featured-in-article"})};return(0,c.jsxs)(s.xu,{marginTop:10,children:[(0,c.jsx)(s.iz,{}),!l&&(0,c.jsx)(s.xu,{marginTop:4,marginBottom:-2,children:(0,c.jsx)(p,{})}),(0,c.jsxs)(s.xu,{display:"flex",direction:"row",marginBottom:4,marginTop:4,children:[(0,c.jsx)(s.xu,{alignSelf:"center",children:(0,c.jsx)(s.zd,{width:48,height:48,rounding:3,children:t&&(0,c.jsx)(s.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})}),(0,c.jsxs)(s.xu,{marginStart:2,marginEnd:2,alignSelf:"center",children:[l&&(0,c.jsx)(p,{}),(0,c.jsx)(s.rU,{href:i||"",underline:"none",tapStyle:"compress",onClick:()=>m(),children:(0,c.jsx)(s.xv,{size:"300",weight:"bold",overflow:"normal",children:n})})]}),(0,c.jsx)(s.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,c.jsx)(s.zx,{fullWidth:!0,href:i||"",size:"lg",role:"link",text:d.bt("", "View", "Button that takes the user from a pin to the article the pin is featured on", undefined, true),onClick:()=>m()})})]})]})}const h=({graphqlRef:e,isDesktop:t})=>{const n=(0,d.useFragment)(u,e),{relatedArticle:i}=n;return(0,c.jsx)(m,{articleId:null==i?void 0:i.id,imageUrl:null==i?void 0:i.mainImageUrl,title:null==i?void 0:i.title,url:null==i?void 0:i.urlPath,isDesktop:t})},_=({isDesktop:e,pinId:t})=>{const n=(0,l.S6)()(t),{related_article:i}=null!=n?n:Object.freeze({});return(0,c.jsx)(m,{articleId:null==i?void 0:i.id,imageUrl:null==i?void 0:i.main_image_url,title:null==i?void 0:i.title,url:null==i?void 0:i.url_path,isDesktop:e})};function g({graphqlRef:e,isDesktop:t,pinId:n}){return e?(0,c.jsx)(h,{isDesktop:t,graphqlRef:e}):(0,c.jsx)(_,{isDesktop:t,pinId:n})}},613316:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>a,y:()=>i})},427014:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071);function a({appType:e,currVersion:t,deviceType:n,eventType:a,eventName:o,stage:r,nextVersion:l,isBot:s,originHost:d}){const c="desktop"===n?5:6;i.Z.increment(`web.client_refresh.${a}.${n}`,1,{stage:r,currVersion:t,nextVersion:l,isBot:s,siteType:e||c,appType:e||c,event:o,originHost:d||"unknown"})}},366284:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>r,oi:()=>i,u$:()=>a,un:()=>s,vU:()=>l});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}};function o(e){return a(e)===i.SAFARI}function r(e){return a(e)===i.CHROME}function l(e){return a(e)===i.FIREFOX}function s(e){return a(e)===i.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831),a=n(867820);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,a.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,n)=>{function i(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:()=>i})},436851:(e,t,n)=>{n.d(t,{$:()=>a,d:()=>i});const i=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},792182:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(23279),o=n.n(a);function r(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=o()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},752403:(e,t,n)=>{n.d(t,{Bu:()=>h,Dm:()=>l,I:()=>v,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>_,hm:()=>g,yQ:()=>s,ym:()=>f});var i=n(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,o=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&a&&o)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function y(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,a,o]=t;return(0,i.DW)(n,a,o)<=i.I?"white":"black"}function f(e){const t=e||c[0];return{backgroundColor:t,color:y(t)}}},834911:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(835209),a=n(341732);function o({carouselData:e,images:t,richMetadata:n,richSummary:o,shouldUnifyImageSizes:r,additionalImages:l}){const s=(0,i.Z)({richPinData:n||o});return s&&l&&l.length>0?(0,a.Z)(null,l,e&&e.index,r,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,a.Z)(t,s.additional_images,e&&e.index,r,s.id):e||void 0}},737022:(e,t,n)=>{function i(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}n.d(t,{Z:()=>i})},341732:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function o(e,t,n,i,o){const r=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],l=e?[{images:e},...r]:r;return{carousel_slots:i?a(l):l,index:n||0,id:o}}},768559:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(826067);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=/\/discover\/article\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,l=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:l,pinnerUserName:s,query:d,search:c,storyPinDataId:u})=>{var p,m;if(!n)return"";let h="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case s&&`/${s}/pins/`:return"UserPinsResource";case s&&`/${s}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case s&&`/${s}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:h="/pin/";const _=r(n,h);if(l!==_)return t?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(n)&&n:if(c){return`SearchResource_${((0,i.mB)(c,{shouldDecode:!1}).q||"").toLowerCase()}`}if(d)return`SearchResource_${encodeURIComponent(d.q||"").toLowerCase()}`;break;case o.test(n)&&n:return`ExploreArticleResource_${(null===(p=n.match(o))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:h="/discover/article/";return`ExploreArticleResource_${r(n,h)}`;case/\/categories\//.test(n)&&n:h="/categories/";return`CategoryFeedResource_${r(n,h)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:h="/news_hub/";return`NewsHubDetailsResource_${r(n,h)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:h="/topics/";return`TopicFeedResource_${r(n,h)}`;case s&&`/${s}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:h="/source/";return`DomainFeedResource_${r(n,h)}`;case/\/explore\//.test(n)&&n:h="/explore/";return`SearchResource_${r(n,h)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case a.test(n)&&n:return`TodayArticleFeedResource_${(null===(m=n.match(a))||void 0===m?void 0:m[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(c){const{feed_type:e,request_params:t}=(0,i.mB)(c);return`StoryFeedResource_${e}_${t}`}}return""},s=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:i,pinnerUserName:a,previousHistory:o,storyPinDataId:r,trackingParams:s,trackingParamsMap:d={}})=>{if(!i||!s||!n)return;if(!d)return`${s}~0`;const{pathname:c,search:u,query:p}=n,m=l({boardUrl:e,callToCreateSourcePinId:t,path:c,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:s,trackingParamsMap:d}),h=Object.keys(d);let _;if((c||"").startsWith("/pin/")){const e=h.find((e=>"PinResource"!==e));_=e?d[e]:d.PinResource}else _=d[m];let g;if(!_&&o&&o.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);g=l({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:s,trackingParamsMap:d}),_=d[g]}return _||(_=`${s||""}~0`),_}},642345:(e,t,n)=>{n.d(t,{DW:()=>l,I:()=>r,oo:()=>o,vq:()=>a});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},a=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},852782:(e,t,n)=>{n.d(t,{Z:()=>se});var i=n(667294),a=n(702664),o=n(737849),r=n(116303),l=n(898781),s=n(883119),d=n(785893);const c=({isQuestion:e,name:t,size:n,src:i})=>{const a=(0,l.ZP)();return(0,d.jsxs)(s.xu,{position:"relative",children:[(0,d.jsx)(r.Z,{size:n,src:i,name:t}),e&&(0,d.jsxs)(s.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(s.xu,{position:"absolute",children:(0,d.jsx)(s.JO,{icon:"speech",color:"dark",accessibilityLabel:a.bt("Q&A ", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})}),(0,d.jsx)(s.xu,{position:"absolute",children:(0,d.jsx)(s.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:a.bt("Q&A ", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})})]})]})},u=({color:e,isMarkedHelpful:t})=>{const n=(0,l.ZP)();return(0,d.jsx)(s.JO,{color:t?"brandPrimary":e,accessibilityLabel:n.bt("", "Helpful", "comment.button.helpful", undefined, true),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})};var p=n(223815),m=n(499128),h=n(28754),_=n(717615),g=n(845772),v=n(19121),y=n(541776),f=n(550393),b=n(600147),x=n(422946),P=n(139405),S=n(407043),w=n(773285),T=n(116674),k=n(343341),E=n(231947);const I=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:n,comment:o,dismiss:r,isOpen:c,isReply:u,onEdit:I,onReportTry:A,onShowBlockUserModal:C,parentId:R,pinnerId:j,pinId:D})=>{const O=(0,l.ZP)(),L=(0,a.useDispatch)(),{logContextEvent:N}=(0,S.v)(),{showToast:F}=(0,k.F9)(),{anyEnabled:M}=(0,w.F)().checkExperiment("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:z}=(0,P.nf)(),U=(0,h.Z)(),[B,Z]=(0,i.useState)(!1);(0,i.useEffect)((()=>{Z(c)}),[c,Z]);const V=(0,v.Z)(),H=(0,_.Z)(),K=(0,g.Z)(),{reportComment:G}=(0,T.f)(),W=null!=n?n:"",$=o.user.id,q=V.isAuth&&W===V.id,Y=(0,E.q6)(V,null!=j?j:"",M?H:{}),X=(0,E.D3)(V,$,M?H:{}),J=(0,E.D3)(V,W,M?H:{}),Q=V.isAuth&&(o.tagged_users||[]).filter((({id:e})=>e===V.id)).length>0,ee=e=>()=>{(async e=>{try{await z({aggregatedCommentId:o.id,pinId:D,isHighlighted:e}),N({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:$}}),F((({hideToast:t})=>(0,d.jsx)(m.ZP,{primaryAction:{accessibilityLabel:O.bt("       ", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:O.bt(" ", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:()=>{z({aggregatedCommentId:o.id,pinId:D,isHighlighted:!e})}},onHide:t,text:e?O.bt("  ", "Highlight removed", "unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast", undefined, true):O.bt("   ", "Comment highlighted", "unifiedComment.unifiedCommentContainer.commentHighlightToast", undefined, true)})))}catch(t){t.message&&F((({hideToast:e})=>(0,d.jsx)(m.ZP,{onHide:e,text:t.message,variant:"error"})))}})(e)},te=e=>()=>{e(),r()};if(!c)return null;const ne={highlight:O.bt(" ", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:O.bt("  ", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:O.bt("", "Edit", "Edit a community post or comment", undefined, true),delete:O.bt("", "Delete", "Delete a community post or comment", undefined, true),reportContent:O.bt("  ", "Report this content", "Report a community post or comment", undefined, true),removeMention:O.bt(" ", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),blockUser:O.bt(" ", "Block user", "closeup.activityItem.blockUser", undefined, true)},ie=new s.Ry(1);return(0,d.jsx)(i.Fragment,{children:B&&(0,d.jsx)(p.Z,{children:(0,d.jsxs)(s.Lt,{id:"comment-overflow-popover",anchor:t,idealDirection:"down",onDismiss:r,isWithinFixedContainer:!1,zIndex:ie,children:[!u&&q&&!o.highlighted_by_pin_owner&&(0,d.jsx)(s.Lt.Item,{onSelect:te(ee(!1)),option:{label:ne.highlight,value:ne.highlight},dataTestId:"dropdown-item-highlight"}),!u&&q&&o.highlighted_by_pin_owner&&(0,d.jsx)(s.Lt.Item,{onSelect:te(ee(!0)),option:{label:ne.removeHighlight,value:ne.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),X&&(0,d.jsx)(s.Lt.Item,{onSelect:te(I),option:{label:ne.edit,value:ne.edit},dataTestId:"dropdown-item-edit"}),(X||J)&&(0,d.jsx)(s.Lt.Item,{onSelect:te((()=>{"aggregatedcomment"===o.type?U({aggregatedCommentId:o.id,aggregatedPinId:null!=e?e:"",feedType:u?"aggregatedComments":x.DV.UNIFIED_COMMENTS,orbacSubjectId:K,parentId:R,type:u?y.Rv.REPLY_TO_AGGREGATED:y.Rv.TOP,updateParentCommentCount:!0}):L((0,b.lg)({aggregatedPinDataId:null!=e?e:"",feedType:x.DV.UNIFIED_COMMENTS,id:o.id,isOwnedByMe:!0,pinId:null!=D?D:"",username:o.user.username,updateParentDidItCount:!0}))})),option:{label:ne.delete,value:ne.delete},dataTestId:"dropdown-item-delete"}),!X&&!Y&&(0,d.jsx)(s.Lt.Item,{onSelect:te((()=>{"aggregatedcomment"===o.type?G(o.id,null,null):"userdiditdata"===o.type&&A()})),option:{label:ne.reportContent,value:ne.reportContent},dataTestId:"dropdown-item-report"}),Q&&(0,d.jsx)(s.Lt.Item,{onSelect:te((()=>{L((0,f.Q)(o.id)),F((({hideToast:e})=>(0,d.jsx)(m.ZP,{onHide:e,text:O.bt(" !", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)})))})),option:{label:ne.removeMention,value:ne.removeMention},dataTestId:"dropdown-item-remove-mention"}),!X&&(0,d.jsx)(s.Lt.Item,{onSelect:te((()=>{Z(!1),C()})),option:{label:ne.blockUser,value:ne.blockUser},dataTestId:"dropdown-item-block-user"})]})})})};var A=n(852544),C=n.n(A),R=n(240291),j=n.n(R);const D={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${C()})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${j()})`}},O=({setHelpful:e,setLoved:t})=>{const n=(0,l.ZP)(),[a,o]=(0,i.useState)(!1),[r,c]=(0,i.useState)(!1),u=e=>()=>{o(e)},p=e=>()=>{c(e)};return(0,d.jsxs)(s.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:D.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,d.jsx)(s.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:p(!0),onMouseLeave:p(!1),children:(0,d.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:r?3:1,position:"absolute",width:18,children:r&&(0,d.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:D.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,d.jsx)(s.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n.bt("", "Love", "comment.button.loved", undefined, true)})})})}),(0,d.jsx)(s.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:u(!0),onMouseLeave:u(!1),children:(0,d.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:a?3:1,position:"absolute",width:18,children:a&&(0,d.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:D.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,d.jsx)(s.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:n.bt("", "Helpful", "comment.button.helpful", undefined, true)})})})})]})};var L=n(347702),N=n.n(L),F=n(430467),M=n.n(F);const z={helpfulStyle:{backgroundImage:`url(${N()})`},lovedStyle:{backgroundImage:`url(${M()})`}},U=({response:e})=>{const t=14===e.reaction_type,n=1===e.reaction_type;return(0,d.jsxs)(s.kC,{alignItems:"center",children:[(0,d.jsx)(s.iP,{role:"link",href:`/${e.user.username}/`,children:(0,d.jsxs)(s.kC,{alignItems:"center",children:[(0,d.jsx)(s.xu,{maxWidth:40,children:(0,d.jsx)(r.Z,{outline:!0,accessibilityLabel:"",name:e.user.full_name,size:"sm",src:e.user.image_medium_url})}),(0,d.jsx)(s.xu,{marginStart:2,maxWidth:80,children:(0,d.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:e.user.full_name})})]})}),(0,d.jsxs)(s.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:z.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:z.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var B=n(784590);const Z=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.full_name","user.id","user.image_medium_url","user.username"],V=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n})=>{var a,o;const r=(0,v.Z)(),l=(0,B.Z)({name:"ApiResource",options:{url:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:Z}});let c=null===(a=l.data)||void 0===a?void 0:a.filter((e=>e.user.id!==r.id));if((n||t)&&c){c=[{id:e,reaction_type:n?1:14,user:{full_name:r.isAuth?r.fullName:"",id:r.isAuth?r.id:"",image_medium_url:r.isAuth?r.imageMediumUrl:"",username:r.isAuth?r.username:""}},...c]}const u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const{current:e}=u,t=()=>{l.isFetching||(l.isAtEnd?null==e||e.removeEventListener("scroll",t):l.fetchMore())};return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[l]),(0,d.jsx)(s.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:u,rounding:2,width:180,children:null===(o=c)||void 0===o?void 0:o.map((e=>(0,d.jsx)(s.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,d.jsx)(U,{response:e})},e.id)))})};var H=n(941646);const K=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:a,isLovedByMe:o,isReactionListOpen:r,lovedCount:c,onReactionCountHover:u,onToggleHelpful:p,onToggleLove:m})=>{const h=(0,l.ZP)(),_=(0,i.useRef)(),[g,v]=(0,i.useState)(!1);let y=!1,f=(c||0)+(n||0);a&&o&&(f-=1);const b=e=>()=>{v(e)},x=()=>{y=!0,u()},P=()=>{y=!1,setTimeout((()=>{y||t()}),1e3)},S=(0,d.jsx)(H.Z,{id:"comment-reaction-container-entry-point",children:g?(0,d.jsx)(s.iP,{onMouseLeave:b(!1),onMouseDown:b(!1),children:(0,d.jsx)(O,{setHelpful:p(!0),setLoved:m(!0)})}):(0,d.jsx)(s.iP,{onMouseEnter:b(!0),children:(0,d.jsx)(s.JO,{accessibilityLabel:h.bt("", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,d.jsxs)(s.kC,{alignItems:"center",gap:{row:1,column:0},children:[a||o?(0,d.jsx)(s.iP,{onMouseDown:()=>{p(!1)(),m(!1)()},children:(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${o?M():N()})`}},"data-test-id":o?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):S,f>0&&(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(s.iP,{onMouseEnter:x,onMouseLeave:P,children:(0,d.jsx)(s.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:_,children:(0,d.jsx)(s.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:f})})}),r&&(0,d.jsx)(s.mh,{children:(0,d.jsx)(s.J2,{anchor:_.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,d.jsx)(s.iP,{onMouseEnter:x,onMouseLeave:P,children:(0,d.jsx)(V,{commentId:e,isMarkedHelpfulByMe:a,isLovedByMe:o})})})})]})]})};var G=n(428837),W=n(486553),$=n(349700);function q(e){const{featuredCommentId:t,parentId:n,parentType:o,isDesktop:r,isLoading:c,isReadOnly:u,openOverflowMenu:p,replyingToCommentId:m,toggleHelpful:h,toggleLike:_,toggleReplyComposer:g,isORBACProfileManager:v,isVideo:y,storyPinDataId:f,pinId:b,closeupAttributionId:S,aggregatedPinDataId:w,closeupAttributionUsername:T,pinnerId:k,reactionListCommentId:E,showReactionListForComment:I}=e,A=(0,l.ZP)(),C=(0,P.lV)(),R=(0,a.useSelector)((({feeds:e})=>(e[`${x.DV.AGGREGATED_COMMENT_REPLIES}:${n}`]||[]).reduce(((e,{id:t})=>{const n=C[t];return n&&e.push(n),e}),[]))),[j,D]=(0,i.useState)(1),O=j===R.length;return(0,d.jsxs)(i.Fragment,{children:[R.length>1&&(0,d.jsx)(s.iP,{onTap:()=>{D(O?0:R.length)},children:(0,d.jsxs)(s.xu,{marginBottom:4,children:[(0,d.jsx)(s.xu,{display:"inlineBlock",marginEnd:2,children:(0,d.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,d.jsx)(s.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:O?A.bt(" ", "Hide replies", "comment.button.hideReplies", undefined, true):(0,$.nk)(A.nbt([" {{ commentCount }} "], R.length, "comment.button.showReplies", true),{commentCount:R.length})})]})}),(0,d.jsx)(se,{comments:R.slice(0,j),featuredCommentId:t,gapSize:2,isDesktop:r,isLoading:c,isReadOnly:u,openOverflowMenu:p,toggleReplyComposer:g,parentId:n,parentType:o,replyingToCommentId:m,toggleHelpful:h,toggleLike:_,userAvatarSize:"sm",isORBACProfileManager:v,isVideo:y,storyPinDataId:f,pinId:b,closeupAttributionId:S,aggregatedPinDataId:w,closeupAttributionUsername:T,pinnerId:k,showReactionListForComment:I,reactionListCommentId:E})]})}const Y=({tags:e,taggedUsers:t,text:n})=>{const i=(e,t)=>(0,d.jsx)(s.xv,{inline:!0,overflow:"normal",children:e},t);return(0,d.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!e.length||!t||e.length!==t.length)return i(n,"1");let a=0,o=[];return e.forEach(((e,r)=>{const l=n.substring(a,e.offset);a=e.offset+e.length;const c=n.substring(e.offset,a);o=o.concat(i(l,`${r}a`)).concat(((e,n,i,a)=>(0,d.jsx)(s.xv,{color:e,inline:!0,weight:"bold",overflow:"normal",children:(0,d.jsx)(s.rU,{href:`/${t[i].username}`,display:"inlineBlock",underline:"hover",children:n})},a))(e.color,c,r,`${r}b`))})),o=o.concat(i(n.substring(a),"2")),(0,d.jsx)(s.xv,{inline:!0,overflow:"normal",children:o})})()})};var X=n(964569),J=n(90326),Q=n(664569),ee=n(129274),te=n(248327),ne=n(473727),ie=n(94089),ae=n(162379),oe=n(584595);function re(e){var t,n,r,p;const{aggregatedPinDataId:h,closeupAttributionId:g,closeupAttributionUsername:y,comment:f,featuredCommentId:b,isDesktop:x,isReadOnly:T,isVideo:A,openOverflowMenu:C,toggleReplyComposer:R,parentId:j,parentType:D=Q.o.pin,pinId:O,storyPinDataId:L,replyingToCommentId:N,showReactionListForComment:F,toggleHelpful:M,toggleLike:z,userAvatarSize:U,isORBACProfileManager:B,pinnerId:Z,reactionListCommentId:V}=e,{user:{id:H,first_name:re,id:le,image_medium_url:se,username:de},id:ce,comment_count:ue,helpful_count:pe,tags:me}=f;let he=!1,_e=0,ge=!1;const ve=!!f.marked_helpful_by_me;let ye;const fe=!T,be=[f.user];let xe="",Pe=0;"aggregatedcomment"===f.type?(he=f.highlighted_by_pin_owner,_e=f.reaction_counts[1],ge=f.reaction_by_me>0,be.push(...f.tagged_users),xe=`${de} ${f.text}`,Pe=new Date-new Date(f.created_at)):(ye=(f.images[0]||{})["150x150"],xe=`${de} ${f.details}`,Pe=new Date-new Date(f.done_at));const Se=(0,l.ZP)(),{logContextEvent:we}=(0,S.v)(),{checkExperiment:Te}=(0,w.F)(),{showToast:ke}=(0,k.F9)(),Ee=(0,a.useDispatch)(),Ie=(0,i.useRef)(),{anyEnabled:Ae}=Te("web_m10n_business_access_orbac_ga"),Ce=1===f.comment_tag,Re=(0,v.Z)(),je=(0,_.Z)(),De=Ae?(0,E.lJ)(Re,je):"",{nativeEngagementsHiddenForUser:Oe}=(0,ie.G)(),{aggregatedCommentsHiddenForUser:Le,updateAggregatedComment:Ne}=(0,P.nf)(),Fe=(0,X.Z)(),Me="userdiditdata"===f.type,ze=[{offset:0,length:de.length,color:"darkGray"},...me.map((e=>({...e,offset:(e.offset||0)+de.length+1,color:"blue"})))],[Ue,Be]=(0,i.useState)(!1),[Ze,Ve]=(0,i.useState)(!1),[He,Ke]=(0,i.useState)(!1),[Ge,We]=(0,i.useState)(!1),[$e,qe]=(0,i.useState)(!1),[Ye,Xe]=(0,i.useState)(!1),[Je,Qe]=(0,i.useState)(ae.A.NONE),et=e=>()=>{Ve(e)};(0,i.useEffect)((()=>{ue>0&&Ee((0,te.U)("aggregatedcomment"===f.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:ce,redux_normalize_feed:!0}}))}),[f.type,ce]);const tt=D.toLowerCase()===Q.o.aggregatedComment.toLowerCase(),nt=e=>()=>{Be(e),Xe(e)},it=e=>()=>{qe(!e)},at=()=>{Qe(ae.A.NONE)};return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(s.$j,{show:He,accessibilityLabel:"Loading comment"}),!Ze&&!He&&(0,d.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(ne.rU,{to:`/${de}/`,children:(0,d.jsx)(c,{isQuestion:Ce,name:re||de||"",size:U,src:null!=se?se:""})})}),(0,d.jsxs)(s.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,d.jsxs)(s.kC,{justifyContent:"between",children:[(0,d.jsx)(s.kC.Item,{minWidth:0,children:(0,d.jsxs)(s.kC,{direction:"column",children:[ye&&(0,d.jsx)(s.xu,{marginTop:1,marginBottom:4,children:(0,d.jsx)(s.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,d.jsx)(s.Ee,{alt:null!==(t=ye.url)&&void 0!==t?t:"",src:null!==(n=ye.url)&&void 0!==n?n:"",color:"#efefef",naturalWidth:null!==(r=ye.width)&&void 0!==r?r:1,naturalHeight:null!==(p=ye.height)&&void 0!==p?p:1},ye.url)})}),(0,d.jsx)(Y,{taggedUsers:be,tags:ze,text:xe})]})}),b===ce&&(0,d.jsx)(s.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),he&&(0,d.jsx)(s.xu,{marginTop:4,marginBottom:3,children:(0,d.jsx)(s.xv,{size:"100",children:(0,$.nk)(Se.bt("@{{ closeupAttributionUsername }}  ", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:y})})}),fe&&(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,d.jsxs)(s.kC,{alignItems:"center",gap:{row:5,column:0},children:[(0,d.jsx)(s.xv,{color:"subtle",size:"200",children:(0,W.Z)(Pe)}),!Me&&(!B||Ae)&&(0,d.jsx)(s.iP,{onTap:()=>{R(f,j,D)},children:(0,d.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:Se.bt("", "Reply", "comment.button.reply", undefined, true)})}),!Me&&!B&&(x?(0,d.jsx)(K,{commentId:ce,dismissReactionList:()=>{F(void 0)},helpfulCount:pe,isMarkedHelpfulByMe:ve,isLovedByMe:ge,lovedCount:_e,onReactionCountHover:()=>{F(ce)},onToggleHelpful:e=>()=>{ve!==e&&M(ce,!e)()},onToggleLove:e=>()=>{ge!==e&&z(ce,!e)()},isReactionListOpen:V===ce}):(0,d.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,d.jsx)(s.hU,{accessibilityLabel:Se.bt("", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:ge?"red":"gray",size:"xs",onClick:z(ce,ge)}),_e>0&&(0,d.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:_e})]})),!(Re.id===le&&Ce)&&(!B||Ae)&&(0,d.jsx)(s.xu,{ref:Ie,children:(0,d.jsx)(s.hU,{accessibilityLabel:Se.bt(" ", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:()=>{x?Be(!Ue):C&&C(f)}})})]}),!Me&&!B&&!x&&(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.iP,{fullWidth:!1,onTap:M(ce,ve),children:(0,d.jsxs)(s.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},children:[(0,d.jsx)(u,{color:"subtle",isMarkedHelpful:ve}),(0,d.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:Se.bt("", "Helpful", "comment.button.helpful", undefined, true)}),pe>0&&(0,d.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:pe})]})})})]})]})]}),x&&(0,d.jsxs)(i.Fragment,{children:[Ze&&(0,d.jsx)(s.xu,{marginTop:3,children:(0,d.jsx)(ae.Z,{commentWarningModalState:Je,dismissCommentWarningModal:at,initialText:"aggregatedcomment"===f.type?f.text:f.details,initialTags:f.tags,onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{Ke(!0);try{await Ne({commentId:f.id,force:t,orbacSubjectId:De,tags:n,text:e})}catch(i){if([oe.ky,oe.LJ].includes(i.code)&&x)return Qe(i.code===oe.ky?ae.A.WARNING:ae.A.BLOCK),Ke(!1),!1}return Ve(!1),Ke(!1),!0},onCancelItem:et(!1),objectType:Q.o.aggregatedComment,statusType:"textInFlightNested"})}),N===ce&&(0,d.jsx)(s.xu,{marginTop:3,marginStart:tt?0:12,children:(0,d.jsx)(ae.Z,{commentWarningModalState:Je,dismissCommentWarningModal:at,initialText:tt?`@${f.user.username} `:"",initialTags:tt?[{offset:0,object_id:H,length:f.user.username.length+1,tag_type:1}]:[],onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{let i;We(!0);let a=f.id;if(tt&&(a=j,i=f.id),a)try{await Fe({force:t,fromUnifiedComment:!0,objectType:Q.o.aggregatedComment,objectId:a,orbacSubjectId:De,tags:n,text:e,replyToCommentId:i})}catch(o){if([oe.ky,oe.LJ].includes(o.code)&&x)return Qe(o.code===oe.ky?ae.A.WARNING:ae.A.BLOCK),We(!1),!1}return R(void 0),We(!1),!0},onCancelItem:()=>{R()},objectType:Q.o.aggregatedComment,statusType:"textInFlightNested"})})]}),(ue>0||Ge)&&(0,d.jsx)(s.xu,{marginStart:12,marginTop:4,children:(0,d.jsx)(q,{featuredCommentId:b,isDesktop:x,isLoading:Ge,isReadOnly:T,parentId:ce,parentType:f.type,replyingToCommentId:N,toggleReplyComposer:R,openOverflowMenu:C,toggleHelpful:M,toggleLike:z,isORBACProfileManager:B,pinId:O,closeupAttributionId:g,isVideo:A,storyPinDataId:L,aggregatedPinDataId:h,closeupAttributionUsername:y,pinnerId:Z,showReactionListForComment:F,reactionListCommentId:V})}),x&&!T&&(0,d.jsx)(I,{anchor:Ie.current,comment:f,dismiss:()=>{Be(!1)},isOpen:Ue,isReply:tt,onEdit:et(!0),onReportTry:it(!1),onShowBlockUserModal:nt(!0),parentId:j,closeupAttributionId:g,pinnerId:Z,pinId:O,aggregatedPinDataId:h}),$e&&(0,d.jsx)(ee.N,{children:(0,d.jsx)(G.Z,{aggregatedPinDataId:h,didItDataId:ce,onClose:it,pinId:null!=O?O:"",username:de,users:[f.user]})}),Ye&&(0,d.jsx)(o.Z,{firstName:null!=re?re:"",onBlockUser:()=>{Ee((0,J.Ge)({id:H,orbacSubjectId:De,blockSource:"comment",blockContext:ce})),Le(H),Oe(H),we({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:Re.isAuth?Re.id:null}}),Xe(!1),ke((({hideToast:e})=>(0,d.jsx)(m.ZP,{onHide:e,text:(0,$.nk)(Se.bt("{{ username }}  .", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:de}).join("")})))},onClearModal:nt(!1)})]})}var le=n(366428);function se(e){const{aggregatedPinDataId:t,comments:n,featuredCommentId:i,gapSize:a=6,isDesktop:o,isLoaded:r=!1,isLoading:c=!1,isReadOnly:u,openOverflowMenu:p,toggleReplyComposer:m,parentId:h,parentType:_,replyingToCommentId:g,toggleHelpful:y,toggleLike:f,userAvatarSize:b,isORBACProfileManager:x,isVideo:P,storyPinDataId:S,pinId:T,closeupAttributionId:k,closeupAttributionUsername:E,pinnerId:I,showReactionListForComment:A,reactionListCommentId:C}=e,R=(0,l.ZP)(),{isAuth:j}=(0,v.Z)(),{checkExperiment:D}=(0,w.F)();let O;return O=S?"story":P?"video":"pin",n.length>0?(0,d.jsxs)(s.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:a},children:[n.map(((e,n)=>(0,d.jsx)(le.F,{impressionAuxFields:{commentId:e.id,pinId:T,pinOwnerUserId:k,pinType:O,parentId:h,parentType:_,commentType:"aggregatedComment"},componentType:"pin"===_?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:n,viewType:3,children:({impressionTrackerRef:n})=>(0,d.jsx)(s.xu,{ref:n,"data-test-id":"commentThread-comment",children:(0,d.jsx)(re,{comment:e,isDesktop:o,featuredCommentId:i,isReadOnly:u,parentId:h,parentType:_,openOverflowMenu:p,replyingToCommentId:g,toggleReplyComposer:m,toggleHelpful:y,toggleLike:f,userAvatarSize:b,isORBACProfileManager:x,aggregatedPinDataId:t,closeupAttributionUsername:E,closeupAttributionId:k,pinId:T,storyPinDataId:S,isVideo:P,pinnerId:I,showReactionListForComment:A,reactionListCommentId:C})})},e.id))),(0,d.jsx)(s.$j,{accessibilityLabel:R.bt("  ", "Comments loading", " - ", undefined, true),show:c})]}):o&&r&&(j||D("web_lop_comment_composer_upsell").anyEnabled)&&(0,d.jsx)(s.xv,{color:"subtle",children:R.bt("  !    .", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true)})}},735397:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(121151),a=n(50286),o=n(898781),r=n(349700),l=n(966113),s=n(883119),d=n(785893);const c=({isBlock:e,isOpen:t,onDismiss:n,onIgnore:c})=>{const u=(0,o.ZP)(),p="desktop"===(0,a.ZP)();return(0,d.jsx)(i.ZP,{accessibilityModalLabel:u.bt("  ", "Comment warning modal", "commentCreate.warningModal.accessibilityLabel", undefined, true),isOpen:t,onDismiss:n,children:(0,d.jsxs)(s.xu,{direction:"column",display:"flex",paddingX:4,paddingY:8,children:[(0,d.jsx)(s.X6,{align:"center",size:"500",children:u.bt("  .", "Keep things positive", "commentCreate.warningModal.heading", undefined, true)}),(0,d.jsx)(s.xu,{marginTop:p?4:2,marginBottom:8,children:(0,d.jsx)(s.xv,{align:"center",children:(0,r.nk)(e?u.bt("  {{communityGuidelinesLink}}()   .      .", "It looks like your comment violates the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.", "commentCreate.warningModal.description", undefined, true):u.bt("  {{communityGuidelinesLink}}()   .      .", "It looks like your comment might violate the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.", "commentCreate.blockModal.description", undefined, true),{communityGuidelinesLink:(0,d.jsx)(s.rU,{href:l.Ms,display:"inlineBlock",children:u.bt(" ", "Community Guidelines", "commentCreate.warningBlockModal.link.communityGuidelines", undefined, true)})})})}),(0,d.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[!e&&(0,d.jsx)(s.zx,{onClick:c,text:u.bt(" ", "Post anyway", "commentCreate.warningModal.button.postAnyway", undefined, true)}),(0,d.jsx)(s.zx,{color:"red",onClick:n,text:u.bt(" ", "Edit comment", "commentCreate.warningModal.button.editComment", undefined, true)})]})]})})}},162379:(e,t,n)=>{n.d(t,{A:()=>P,Z:()=>w});var i=n(667294),a=n(116303),o=n(121151),r=n(941646),l=n(883119),s=n(785893);const d=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:n,detail:i,heading:a,onConfirm:d,onDismiss:c})=>(0,s.jsx)(o.ZP,{accessibilityModalLabel:e,heading:a,onDismiss:c,size:"md",children:(0,s.jsxs)(l.xu,{children:[(0,s.jsx)(l.xu,{padding:4,children:(0,s.jsx)(l.xv,{children:i})}),(0,s.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,s.jsx)(l.xu,{margin:2,children:(0,s.jsx)(r.Z,{id:"confirm-modal-cancel",children:(0,s.jsx)(l.zx,{fullWidth:!0,onClick:c,text:t})})}),(0,s.jsx)(l.xu,{margin:2,children:(0,s.jsx)(r.Z,{id:"confirm-modal-confirm",children:(0,s.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:()=>{d(),c()},text:n})})})]})]})});var c=n(735397),u=n(857752),p=n(898781),m=n(717615),h=n(19121),_=n(664569),g=n(235872),v=n(407043),y=n(773285),f=n(50286),b=n(947729),x=n(231947);const P={NONE:"none",WARNING:"warning",BLOCK:"block"},S=({dismissCommentWarningModal:e,initialTags:t,initialText:n,objectType:o,onAddItem:r,onCancelItem:S,onEnter:w,privatePin:T,commentWarningModalState:k,statusType:E})=>{var I;const A=(0,p.ZP)(),C=(0,f.HG)(),R=(0,h.Z)(),j=(0,m.Z)(),{checkExperiment:D}=(0,y.F)(),{anyEnabled:O}=D("web_m10n_business_access_orbac_ga"),L=O?(0,x.lJ)(R,j):"",{logContextEvent:N}=(0,v.v)(),[F,M]=(0,i.useState)(!1),[z,U]=(0,i.useState)(!1),[B,Z]=(0,i.useState)(t||[]),[V,H]=(0,i.useState)(n),[K,G]=(0,i.useState)(!1),W=R.isAuth?{image_medium_url:L?null===(I=j.user)||void 0===I?void 0:I.imgUrl:R.imageMediumUrl,username:L?(0,x.Ms)(R,j):R.username}:{},$=B.length>g.b7,q=V!==n,Y=[_.o.pin,_.o.didIt].includes(o),X="textStaticDisplay"===E,J="textInFlightNested"===E;let Q=A.bt(" ", "Reply", "Adding text to a community comment", undefined, true);Y&&(Q=T?A.bt("  ", "Add a public comment", "Add a comment", undefined, true):A.bt(" ", "Add a comment", "Prompt to add a comment", undefined, true));const ee=Y?A.bt("", "Done", "Post a top level comment on a pin or tried it", undefined, true):A.bt("", "Reply", "Posting a reply to a post or comment", undefined, true);let te=K?"darkWash":"secondary";X||(te="default");const ne=()=>{M(!1),U(!1),H("")},ie=async e=>{const t={contentMarkdown:V,force:e,imageSignatures:"",objectIds:[],tags:JSON.stringify(B)};return r&&await r(t)?(ne(),!0):(U(!1),!1)},ae=()=>$?Promise.resolve(!1):(U(!0),ie(!1)),oe=()=>{ne(),S&&S()},re=()=>{M(!F)},le=R.isAuth&&C&&!J;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:le?{__style:{borderTop:"1px solid #EFEFEF",borderBottomRightRadius:32,borderBottomLeftRadius:32}}:void 0,color:"default",paddingX:le?8:void 0,paddingY:le?6:0,width:"100%",children:[(0,s.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[R.isAuth&&!J&&(0,s.jsx)(l.xu,{alignItems:"end",display:"flex",marginEnd:2,children:(0,s.jsx)(a.Z,{src:W.image_medium_url,name:W.username,size:"md"})}),(0,s.jsx)(l.xu,{borderStyle:X&&C?void 0:"sm",color:X&&C?te:void 0,flex:"grow",paddingY:J?3:0,rounding:J?4:6,children:(0,s.jsx)(l.iP,{onMouseEnter:()=>{G(!0)},onMouseLeave:()=>{G(!1)},fullHeight:!0,children:(0,s.jsx)(l.kC,{height:"100%",justifyContent:"center",children:(0,s.jsx)(u.Z,{cursor:X?"pointer":"text",focusOnMount:J,hasEmojiEntryPoint:C,initialMentions:t,initialText:n,isUiUpdated:le,onAddMention:()=>{N({event_type:8905,aux_data:{tag_type:1}})},onChange:({text:e,mentions:t})=>{t.length<B.length&&N({event_type:8906,aux_data:{tag_type:1}}),H(e),Z(t)},onBlur:le?S:void 0,onFocus:()=>{w()},onPost:ae,onSearchMentionCancel:()=>{N({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{N({event_type:8907,aux_data:{tag_type:1}})},placeholder:Q,statusType:E})})})})]}),$&&(0,s.jsx)(l.xv,{color:"error",size:"100",align:"end",children:(0,b.bl)(!1,A)}),J&&(0,s.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,s.jsx)(l.zx,{color:"gray",onClick:q?re:oe,text:A.bt("", "Cancel", "Cancel making post or comment", undefined, true)}),(0,s.jsx)(l.xu,{marginStart:2,"data-test-id":"activity-item-create-submit",children:(0,s.jsx)(l.zx,{color:"red",disabled:!q||z||!V.length,onClick:()=>{ae()},text:J?A.bt("", "Save", "comment save button", undefined, true):ee})})]})]}),F&&(0,s.jsx)(d,{accessibilityModalLabel:A.bt("  ", "Confirm discard composer", "Confirm discarding a post or comment", undefined, true),heading:A.bt(" ?", "Are you sure?", "Confirm discarding a post or comment", undefined, true),cancelButtonText:A.bt("", "Cancel", "Cancel discarding a post or comment", undefined, true),confirmButtonText:J?A.bt("  ", "Discard changes", "Clear edits", undefined, true):A.bt("", "Delete", "delete draft of a post or comment", undefined, true),detail:J?A.bt("  .", "Your changes will be discarded", "Confirmation dialog before discarding changes", undefined, true):A.bt("          ", "Once you delete a draft, you cant undo it", "Confirmation before discarding changes", undefined, true),onConfirm:oe,onDismiss:re}),k!==P.NONE&&(0,s.jsx)(c.Z,{isBlock:k===P.BLOCK,onDismiss:e,onIgnore:()=>{ie(!0),e(),S&&S()}})]})};S.defaultProps={initialText:"",onEnter:()=>{}};const w=S},541776:(e,t,n)=>{n.d(t,{LH:()=>a,Rv:()=>o,TJ:()=>r,iB:()=>i,pW:()=>l});const i=48,a=i+8,o=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",l="did_it_featured_ids"},512465:(e,t,n)=>{n.d(t,{Z:()=>c,w:()=>u});var i=n(349700);const a=e=>e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true),o=e=>e.bt("{{ first }}  {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true),r=e=>e.bt("{{ first }}, {{ second }}  {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true),l=e=>e.bt("{{ first }}, {{ second }}, {{ third }}  {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true),s=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}  {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}  {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true);function c(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(o(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(l(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)((e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}  {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true))(t),n)}}function u(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(o(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(l(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)((e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }}, {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true))(t),n);default:return(0,i.nk)((e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} {{ remaining }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true))(t),n)}}},81636:(e,t,n)=>{n.d(t,{Q:()=>d,Z:()=>c});var i=n(667294),a=n(682492),o=n.n(a),r=n(112690),l=n(780280),s=n(385740);function d(e,t){const{setViewContextData:n}=(0,s.sV)(),{requestIdentifier:a}=(0,l.B)(),d=(0,r.Z)(),{viewData:c}=(0,s.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(c,e.view_data):o()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))}),[t])}function c(e){const{children:t,log:n}=e;return d(n),t||null}},407043:(e,t,n)=>{n.d(t,{B:()=>s,v:()=>l});var i=n(385740),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,o.jsx)(r,{value:t,children:e})}},745760:(e,t,n)=>{n.d(t,{Ch:()=>p,nc:()=>x,a:()=>P,ZP:()=>S,cA:()=>f,li:()=>b,h1:()=>c});var i=n(682492),a=n.n(i),o=n(214494),r=n(594881),l=n(706922);var s=n(385740),d=n(172045);const c=()=>1e6*Date.now(),u=[6945,170],p={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},m=[4700,4701,4702,4703,7042,7043],h=e=>function(e){let t=e.length;for(let n=e.length-1;n>=0;n-=1){const i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}(JSON.stringify(e)),_=e=>u.includes(e);let g;function v(){const e=new Date;g?g&&g.getUTCDate()!==e.getUTCDate()&&(g=e,(0,r.Z)()):g=e}function y(e){return e.reduce(((e,t)=>{const n=e.find((i=t,e=>e.view_type===i.viewType&&e.view_parameter===i.viewParameter&&e.event_type===i.eventType&&e.object_id_str===i.objectIdStr&&(0,l.Z)(e.view_data,i.viewData)));var i;if(n&&!_(t.eventType))t.impressionType in n.event_data?n.event_data[t.impressionType].push(t.eventData):n.event_data[t.impressionType]=[t.eventData];else{const n={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:c(),component:t.component,clientUUID:(0,d.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:_(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(n)}return e}),[])}const f=e=>{const t=e.event_type,n=m.includes(t),i=(0,s.BE)();return!(!n&&13!==t&&!i)},b=(e,t)=>{const n=e.event_type,i=m.includes(n),o=(0,s.BE)();return i?e:13===n&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=o&&o.viewData?a()(o.viewData,e.view_data):a()({},e.view_data)}),e):!o||e.view_type&&e.view_parameter?e:{...e,view_type:o.viewType,view_parameter:o.viewParameter,view_data:e.view_data?a()(e.view_data,o.viewData):a()({},o.viewData)}},x=(e,t)=>{var n,i;const a=e.component,o=e.object_id_str,r=e.view_type,l=e.event_type,s=e.appState;return null!==(n=((null===(i=e.event_data)||void 0===i?void 0:i[t])||[]).map((n=>({auxData:e.aux_data,...a?{component:a}:{},eventData:n,...l?{eventType:l}:{},...r?{viewType:r}:{},viewData:e.view_data,viewParameter:e.view_parameter,...o?{objectIdStr:o}:null,impressionType:t,appState:s}))))&&void 0!==n?n:[]},P=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function S(){let e=[],t=[],n=0;function i(){return[...e,...y(t)]}function a(){e=[],t=[],n=0}function r(e=!1){const t=i();t.length&&(o.Z.create("ContextLogResource",{events:t,report_time:c()}).callCreate({async:!e,showError:!1}),a(),v())}return{flushContextEvents:r,getContextEvents:i,logContextEvent:function({object_id_str:t,...i}){const a={aux_data:{},event_data:{},view_data:{},...i,time:c(),clientUUID:(0,d.Z)(),...t?{object_id_str:t}:null};a.aux_data=function(e){if(!e)return e;const{element:t,eventData:n,component:i,objectId:a,view:o,viewParameter:r,viewData:l,durationNs:s,pairId:d,clientTrackingParams:c,...u}=e;return u}(a.aux_data),n+h(a)>20480&&r(!1),e.push(a),v()},logImpression:function(e){n+h(e)>20480&&r(!1),t.push(e)},resetEventsBuffer:a}}},112690:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(407043);const a=()=>(0,i.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>l});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("View");let s;function d(){return s}function c({children:e,initialState:t={}}){const[n,a]=(0,i.useState)(t),l=(0,i.useCallback)((()=>{s={},a({})}),[]),d=(0,i.useCallback)((e=>{s={...s,...e},a((t=>({...t,...e})))}),[]),c=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:l,setViewContextData:d})),[n,d,l]);return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(r,{value:c,children:e})})}function u(){const{viewContextData:e}=l();return e}},911691:(e,t,n)=>{n.d(t,{Z:()=>i});const i=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"]},798748:(e,t,n)=>{n.d(t,{sw:()=>d,tb:()=>p,jD:()=>u});var i=n(911691),a=n(226198);const o=[a.EI,a.SJ,a.KU,a.Ek,a.wV,a.ZQ,a.pI,a.pp,a.fs,a.GY,a.hx,a.tv,a.jh,a.x_,a.Ck,a.L9,a.fS,a.rc,a.e7,a.x2,a.nE,a.qN,a.ZO,a.B_,a.Mq,a.Z_,a.$E,a.Q1,a.x3,a.sy,a.It,a.IV,a.eB,a.Gl,a.oj,a.ls,a.hq,a.oC,/^offsite_\d+$/,/^SSESS[a-z0-9]+/],r={marketing:[a.WL,a.k5,a.BN,a.cb,a.We,a._E],analytic:[a.MO,a.tg,a.JD,a.Mw,a.uq,a.o7,a.su,a.eG,a.th,a.VL,a.aq,/^ajs_$/,/^pinAlert.*$/],personalization:[a.T7,a.t0]};function l(e,t){return t.some((t=>t instanceof RegExp?t.test(e):t.name===e))}function s(e,t,n=!1){return l(e,t)||n&&"unknown"===function(e){const t=["marketing","analytic","personalization"];for(const n of t)if(l(e,r[n]))return n;return l(e,o)?"essential":"unknown"}(e)}const d=new Set(i.Z);let c=()=>[];function u(e,t){c=()=>{const n=e(),i=t(),a=n.isAuth?n.country:"";if(!(d.has(a)||d.has(i.countryFromIp||"")||d.has(i.countryFromHostName||"")))return[];return["allow_marketing_cookies","allow_analytic_cookies","allow_personalization_cookies"].filter((e=>n.isAuth&&!0!==n[e])).map((e=>{switch(e){case"allow_marketing_cookies":return"marketing";case"allow_analytic_cookies":return"analytic";case"allow_personalization_cookies":return"personalization";default:throw new Error("Unexpected cookie category to block")}}))}}function p(e){return s(e,function(e=[]){return e.reduce(((e,t)=>e.concat(r[t])),[])}(c()))}},231486:(e,t,n)=>{n.d(t,{U2:()=>r,kZ:()=>l,t8:()=>c,zN:()=>u});var i=n(172071),a=n(798748);function o(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("\\b"+e+"=.+?($|;)","g"));return t&&t[0]&&unescape(t[0].substring(e.length+1,t[0].length).replace(";",""))||null}function r(e){return o(e.name)}function l(e){const t=1/60;switch(e.duration){case"session":return;case"30s":return.008333333333333333;case"1m":return 1*t;case"5m":return 5*t;case"12h":return 12;case"1d":return 24;case"30d":return 720;case"180d":return 4320;case"1y":return 8760;case"sessionCookie":throw new Error("Cannot set duration to sessionCookie in client");default:throw new Error(`Invalid cookie duration ${String(e.duration)}`)}}const s=e=>String(e).replace(/[^0-9a-zA-Z_-]+/g,"_");function d(e,t,n){if((0,a.tb)(e)){let t=!1;if(o(e)){const n=[`${e}=`,"path=/",`expires=${new Date(0).toUTCString()}`].join(";");document.cookie=n,t=!o(e)}return i.Z.increment("webapp.cookies.blocked.client",.01,{cookieName:s(e),deleted:t}),document.cookie}const r=[e+"="+escape(t),"path=/"],l=function(e){if(isNaN(parseInt(e,10)))return"";{const t=new Date;return t.setTime(Date.now()+60*parseInt(e,10)*60*1e3),t.toUTCString()}}(n);return l&&r.push("expires="+l),r.push("secure"),document.cookie=r.join("; "),i.Z.increment("webapp.cookies.set.client",1e-4,{cookieName:s(e)}),document.cookie}function c(e,t,n){return d(e.name,t,n)}const u=e=>{o(e)&&d(e,"",-100)}},226198:(e,t,n)=>{n.d(t,{$E:()=>I,BN:()=>V,B_:()=>T,Ck:()=>g,EI:()=>i,Ek:()=>j,GS:()=>le,GY:()=>u,Gl:()=>M,IV:()=>N,It:()=>L,JD:()=>C,KU:()=>o,L9:()=>v,MO:()=>G,Mq:()=>k,Mw:()=>W,Q1:()=>A,SJ:()=>a,T7:()=>ne,VL:()=>ee,WL:()=>B,We:()=>K,Xh:()=>ae,ZO:()=>w,ZQ:()=>l,Z_:()=>E,_E:()=>de,aq:()=>te,cb:()=>H,e7:()=>$,eB:()=>F,eF:()=>re,eG:()=>J,fS:()=>y,fs:()=>c,hq:()=>D,hx:()=>p,jh:()=>h,k5:()=>Z,lq:()=>oe,ls:()=>U,nE:()=>P,o7:()=>Y,oC:()=>se,oj:()=>z,pI:()=>s,pp:()=>d,qN:()=>S,rc:()=>f,su:()=>X,sy:()=>O,t0:()=>ie,tg:()=>R,th:()=>Q,tv:()=>m,uq:()=>q,wV:()=>r,x2:()=>x,x3:()=>b,x_:()=>_});const i={name:"_auth",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},a={name:"_b",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},o={name:"_pinterest_access_token",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},r={name:"_routing_id",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},l={name:"_ss_al",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},s={name:"_ss_at",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},d={name:"_ss_auth",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},c={name:"_ss_country_code",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},u={name:"_ss_la",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},p={name:"_ss_li",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},m={name:"_ss_lo",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},h={name:"_ss_na",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},_={name:"_ss_u",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},g={name:"AUTHSSL",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},v={name:"cm_sub",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},y={name:"csrftoken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},f={name:"daa",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},b={name:"logged_out",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},x={name:"fbalae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},P={name:"force_default_pinner_experience",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},S={name:"forced_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},w={name:"forced_no_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},T={name:"G_ENABLED_IDPS",purpose:"essential",httpOnly:!1,provenance:"3p",duration:"session"},k={name:"galae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},E={name:"hasBeenShownLoginModalInOpen",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},I={name:"is_in_integration_tests",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},A={name:"languageIsDetected",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},C={name:"_pinterest_referral_source",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},R={name:"_pinterest_referrer",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},j={name:"_pinterest_sess",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},D={name:"_pinterest_sos",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"1d"},O={name:"ls",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},L={name:"r_r",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"180d"},N={name:"SimpleSAMLAuthToken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},F={name:"SimpleSAMLSessionID",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},M={name:"ss",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},z={name:"tr_rdrct",purpose:"essential",httpOnly:!1,provenance:"unknown",duration:"1y"},U={name:"unauthLocale",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},B={name:"_derived_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},Z={name:"_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},V={name:"_pinterest_ct",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},H={name:"_pinterest_ct_rt",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},K={name:"_pinterest_ct_ua",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},G={name:"_pinterest_cm",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},W={name:"_sd_redirect",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"30s"},$={name:"fba",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"30d"},q={name:"ajs_anonymous_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},Y={name:"ajs_group_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},X={name:"ajs_user_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},J={name:"amp-access",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},Q={name:"amp-experiment",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ee={name:"sessionFunnelEventLogged",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"12h"},te={name:"session_internal",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ne={name:"attemptToClaimWebsite",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"1d"},ie={name:"bxn",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"session"},ae={name:"ujr",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"},oe={name:"BearerToken",purpose:"unknown",httpOnly:!1,provenance:"unknown",duration:"session"},re={name:"sterling_save_preferences",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"};function le(e){return{name:`offsite_${e}`,purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"}}const se={name:"__Secure-s_a",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},de={name:"l_o",purpose:"marketing",httpOnly:!0,provenance:"1p",duration:"1y"}},643010:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var i=n(667294),a=n(867820),o=n(844974);const r="theme",l="dark"===(0,o.qn)(r),s=()=>l;function d(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(s())}),[t]),e}const c=()=>{(0,o.Nh)(r,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,o.L_)(r),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},202139:(e,t,n)=>{n.d(t,{DH:()=>i,F4:()=>r,FS:()=>a,N1:()=>c,N9:()=>s,UK:()=>o,VL:()=>l,v6:()=>d});const i=1e3,a=60*i,o=60*a,r=24*o,l=7*r,s=30*r,d=31*r,c=365*r},486553:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(202139);function a(e){return e<i.FS?`${Math.floor(e/i.DH)}s`:e<i.UK?`${Math.floor(e/i.FS)}m`:e<i.F4?`${Math.floor(e/i.UK)}h`:e<i.VL?`${Math.floor(e/i.F4)}d`:e<i.v6?`${Math.floor(e/i.VL)}w`:e<i.N1?`${Math.floor(e/i.v6)}mo`:e>=i.N1?`${Math.floor(e/i.N1)}y`:""}},81226:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},816068:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,n)=>{function i(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)}}n.d(t,{Z:()=>i})},966476:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const l=r},780679:(e,t,n)=>{n.d(t,{g:()=>r,t:()=>o});var i=n(667294);const a=(0,i.createContext)(null),o=a.Provider,r=()=>(0,i.useContext)(a)},526915:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(704115),o=n(276775),r=n(780679);const l=e=>{const t=(0,o.useLocation)(),n=(0,r.g)();(0,i.useEffect)((()=>{if(n){const{showDesktopSignupModal:i,pinLinkClickHandler:o}=n,{mt:r,l,showsignup:s}=(0,a.Z)(t.search);r?i({signupFlow:"login"===r?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):s?i({signupFlow:{type:"signup"},attributionLabel:"navigation_1",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):l&&o&&o()}}),[e,t,!!n])}},903095:(e,t,n)=>{n.d(t,{Mi:()=>a,lO:()=>o});var i=n(425288);const{Provider:a,useMaybeHook:o}=(0,i.Z)("pageContext")},375571:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(172071),o=n(395164);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const t=this.props.name,i=this.props.type||"secondary";(0,o.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(375571).Z},124237:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(607187),a=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=a()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)};const r=o},121093:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),o=n(332611),r=n(242923),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:o,targeting:r}=this.props,l=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:s}=i||{},d=o||2===l;(1===l||d)&&e&&s&&(a?n(i,d):r?t(e,s,d,r):t(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:o}=this.props,{placement_id:r,experience_id:l}=n||{};n&&!this.state.hasDismissed.includes(l)&&(i?t(n):o?e(r,l,!!a,o):e(r,l,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(r))return!0;if(a&&a===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function c(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,l.jsx)(d,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,o.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,o.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,i)=>n((0,o.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,r.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),a=n(121093),o=n(570470),r=n(883119),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),s(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,a=n.slice(-3);return(0,l.jsx)(r.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map((e=>(0,l.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,l.jsx)(r.zd,{rounding:2,height:60,children:(0,l.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,i.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:s,flyoutSize:c,fontSize:u,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:h,noClickToDismiss:_,onClickComplete:g,onClickDismiss:v,placementId:y,positionRelativeToAnchor:f,shouldTimeoutDismiss:b,showCaret:x,textAlign:P,textOverflow:S,textOverrideFn:w,textWeight:T,customizedComplete:k,pulsarZIndex:E,advertiserId:I}=this.props,A=t||(({children:e})=>h?(0,l.jsx)(r.mh,{children:e}):e),C="blue";return(0,l.jsx)(a.Z,{eligibleIds:n,placementId:y,eligibleTypes:[8],targeting:I?{advertiserId:parseInt(I,10)}:null,children:({complete:t,dismiss:n,experience:a})=>{const{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:I=0,...R}}=a,j=y&&e,D=()=>{O(),setTimeout(n,1e3*I)},O=()=>{j&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{O(),t()};if(j&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(R),!R.has_pulsar&&!R.has_tooltip)return L(),null;b&&R.disappearTime&&R.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),R.disappearTime));const N=501041===a.experience_id||505086===a.experience_id;return R.has_tooltip&&!R.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,l.jsxs)(i.Fragment,{children:[R.has_pulsar&&(0,l.jsx)(o.Z,{anchor:e,leftOverride:N?342:void 0,onTouch:()=>this.handlePulsarClick(R.has_tooltip,L),paused:this.state.paused,topOverride:N?-5:void 0,zIndex:E&&E.index()}),R.has_tooltip&&(!R.has_pulsar||this.state.paused)&&(R.thumbnail_urls?(0,l.jsx)(d,{anchor:e,dismiss:D,idealDirection:m||"down",text:R.text,thumbnails:R.thumbnail_urls}):(0,l.jsx)(A,{children:(0,l.jsx)(r.J2,{anchor:e,color:C,idealDirection:m||"down",onDismiss:_?()=>{}:D,positionRelativeToAnchor:!h&&f,shouldFocus:!1,showCaret:x,size:c,children:(0,l.jsxs)(r.xu,{column:12,padding:3,children:[(0,l.jsxs)(r.xv,{align:"right"===P?"end":P,color:"inverse",overflow:S,size:u,weight:T||"bold",children:[this.getText(R,s,w),R.secondary_cta_link&&(0,l.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,l.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:R.secondary_cta_link.url,underline:"hover",children:R.secondary_cta_link.text})})})]}),R.sub_text&&(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.xv,{color:"inverse",size:u,children:R.sub_text})}),(R.dismiss_button_text||R.complete_button_text)&&(0,l.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[R.dismiss_button_text&&(0,l.jsx)(r.xu,{marginEnd:1,column:6,children:(0,l.jsx)(r.zx,{fullWidth:p,color:C,onClick:()=>{v&&v(),D()},size:"md",text:R.dismiss_button_text})}),R.complete_button_text&&(0,l.jsx)(r.xu,{column:R.dismiss_button_text?6:12,children:k?(0,l.jsx)(r.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,l.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,l.jsx)(r.xv,{color:"shopping",weight:"bold",children:R.complete_button_text})})}):(0,l.jsx)(r.kC,{justifyContent:"center",children:(0,l.jsx)(r.zx,{fullWidth:p,color:"white",href:R.complete_button_cta_url,role:R.complete_button_cta_url?"link":"button",size:"md",target:R.complete_button_cta_url?"blank":null,text:R.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()}})})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,n)=>{n.d(t,{CK:()=>p,N:()=>v,Qu:()=>m,UT:()=>u,YX:()=>g,d9:()=>h,fO:()=>s,kd:()=>_,pz:()=>d});var i=n(214494),a=n(764990),o=n(172071),r=n(957191);let l;const s=(e,t)=>n=>{const a=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",a).callGet().then((e=>e.resource_response?n((0,r.OD)(e.resource_response.data)):void 0))},d=(e,t,n,o)=>(s,d)=>{if(t)return Promise.resolve();if(o&&(l=o),1===e.length){const t=e[0],i=d().experiences[t],o=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(o)===JSON.stringify(n)||(0,a.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:o}).callGet().then((e=>e.resource_response?s((0,r.cL)(e.resource_response.data)):void 0))},c=(e,t)=>(n,a,o,d=!1,c,u)=>(p,m)=>{const{experiences:h,experiencesMulti:_}=m();let g=null,v=!0;var y;d||(v=h[n]&&h[n].experience_id===a,g=v?h[n]:Array.isArray(_[n])&&(null===(y=_[n])||void 0===y?void 0:y.find((e=>e.experience_id===a))));if(g&&g.experience_id===a||d&&n&&a){const d=i.Z.create(e,{placed_experience_id:`${n}%3A${a}`,extra_context:null!=c?c:{},targeting:u}),m=v?r.Yb:r.xW;switch(t){case"dismissed":return d.callDelete().then((()=>{p(m(n,a,t)),p(s(void 0,l))}));case"completed":return d.callUpdate().then((()=>{o||(p(m(n,a,t)),p(s(void 0,l)))}));case"viewed":return p(m(n,a,t)),d.callUpdate().then((()=>{1000162===n&&p(s())}));case"completedWithoutHomefeed":return d.callUpdate().then((()=>{o||p(m(n,a,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=c("UserExperienceViewedResource","viewed"),p=c("UserExperienceCompletedResource","completed"),m=c("UserExperienceResource","dismissed"),h=c("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,a)=>{const{experiences:r}=a(),l=r[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach((n=>{const[,a]=n.split(":");let r=t;l.metadata&&l.metadata[a]&&(r={...t,...l.metadata[a]}),i.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,n={})=>{o.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},g=e=>(t,n)=>{t(_(e));const{experiences:i}=n();return i[e]},v=(e,t,n)=>i=>{n&&(l=n),i(_(e,t)),t&&Object.keys(t).length>0&&i(d([e],!1,t,n))}},242923:(e,t,n)=>{n.d(t,{CF:()=>l,Tl:()=>r,dy:()=>s});var i=n(214494),a=n(332611);const o=(e,t)=>(n,o)=>r=>{if(n&&n.id){const l=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{r((0,a.fO)())}));break;case"completed":l.callUpdate().then((()=>{o||r((0,a.fO)())}));break;case"viewed":l.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),l=o("UserExperienceResource","dismissed"),s=o("UserExperienceViewedResource","viewed")},764990:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>o,E3:()=>i,MQ:()=>a});const a=(e,t,n)=>{const a=e[n];return t[n]&&i(a)?a:null};function o(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},131108:(e,t,n)=>{n.d(t,{HI:()=>r,f8:()=>s,hm:()=>l,sH:()=>o});var i=n(883119),a=n(785893);const o=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,a.jsx)(i.xu,{padding:2,children:e}),l=({children:e})=>(0,a.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Ec:()=>d,IA:()=>g,LX:()=>c,Mf:()=>_,SF:()=>l,_e:()=>s,l0:()=>r,ml:()=>o,q4:()=>a,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o=2/3,r=1/3,l="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},h={1:"bold",0:"normal"},_=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:a},o)=>({color:e,fontStyle:m[null!=t?t:0],fontWeight:h[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[o][null!=a?a:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d},207737:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>a,_4:()=>r,iY:()=>l,mR:()=>o});const i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>r,OD:()=>s,Yb:()=>l,cL:()=>d,xW:()=>o});var i=n(214494),a=n(207737);const o=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),r=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:n}})):void 0;var n})),l=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),s=e=>({type:a._4,payload:{experiences:e}}),d=e=>({type:a.mR,payload:{experiences:e}})},570470:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),o=n(785893);function r({anchor:e,children:t,zIndex:n,leftOverride:r,topOverride:l}){const s=(0,i.useRef)(null),[d,c]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),{height:m,width:h}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:a}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(m,h,e,n);c(i),p(a)}}));const _=r||d,g=l||u;return(0,o.jsx)(a.xu,{position:"absolute",zIndex:n?new a.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:_,top:g}},ref:s,children:t})}const l=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:l,paused:s,size:d,topOverride:c,zIndex:u}=e;return t?(0,o.jsx)(r,{anchor:t,leftOverride:n,topOverride:c,zIndex:u,children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:l,rounding:"circle",children:(0,o.jsx)(a.o3,{paused:s,size:d})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>d,a:()=>c});var i=n(667294),a=n(702664),o=n(618446),r=n.n(o),l=n(780280),s=n(332611);const d=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const o=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,l.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{d((0,s.kd)(t))}),[d,u,t]),(0,i.useEffect)((()=>{n||r()(o.current,e)||(d((0,s.pz)([t],c,e)),o.current=e)}),[d,e,c,t,n]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},116303:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:l,verified:s}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:o(l,t)?void 0:l,verified:s})}},920231:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(319915);function o({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:a,maxColumns:o,minColumns:r}){const l=n.replace(/\:/g,"\\:"),s=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-r},((e,t)=>t+r)).map((n=>{const d=n===o?null:(n+1)*s-1;return`\n      @media (min-width: ${n===r?0:n*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${l} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${l} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${l} {\n        width: ${n*s}px;\n      }\n\n      #${l} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var r=n(757184),l=n(391254),s=n(50286),d=n(883119),c=n(773285),u=n(780280),p=n(444445),m=n(785893);function h({cacheKey:e,columnWidth:t,gutterWidth:n,id:h,renderItem:_,items:g,layout:v,loadItems:y,masonryRef:f,minCols:b,scrollContainerRef:x,serverRender:P,resetPositions:S,virtualize:w=!0}){var T;const{isRTL:k}=(0,u.B)(),E="desktop"!==(0,s.ZP)(),I=P?"serverRenderedFlexible":"flexible",A=(0,i.useCallback)((()=>(null==x?void 0:x.current)||window),[x]),C=(0,r.Z)(e),[R,j]=(0,i.useState)(!1);(0,i.useEffect)((()=>{S&&!R&&(null==C||C.reset(),j(!0))}),[C,S,R]);const{checkExperiment:D}=(0,c.F)(),O=null!==(T={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[D("duplo_masonry_virtual_buffer_factor").group])&&void 0!==T?T:.7;return(0,m.jsxs)("div",{id:h,className:"gridCentered","data-test-id":"masonry-container",children:[P&&h&&(0,m.jsx)(l.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:o({flexible:E,gutterWidth:n||0,id:h,isRTL:k,itemWidth:t||p.yF,maxColumns:g.length||p.g5,minColumns:b||p.yc})}),(0,m.jsx)(d.Rk,{columnWidth:t,renderItem:e=>(0,m.jsx)(a.Z,{name:"MobileGridItem",children:_(e)}),gutterWidth:n||1,layout:E?I:null!=v?v:"basic",items:g,loadItems:y,measurementStore:(0,r.Z)(e),minCols:b||p.yc,ref:e=>{f&&(f.current=e)},scrollContainer:A,virtualize:w,virtualBufferFactor:O})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119);const a={};function o(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),a[e].cache}},121151:(e,t,n)=>{n.d(t,{ZP:()=>c,b7:()=>l.b7,bN:()=>s,p4:()=>d});var i=n(50286),a=n(883119),o=n(240684),r=n(785893),l=n(968121);const s=(0,o.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),d=(0,o.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function c(e){const t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:l,type:d,...c}=e;return(0,r.jsx)(s,{...c})}const{allowClickAndDrag:a,allowMediaPlay:o,allowScroll:l,role:c,size:u,...p}=e;return(0,r.jsx)(d,{...p,isOpen:n})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(667294),a=n(124580),o=n(223815),r=n(968121),l=n(883119),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:h,heading:_,onDismiss:g,role:v,size:y,subHeading:f}){(0,i.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,s.jsx)(l.mh,{zIndex:r.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:m,heading:_,footer:h,onDismiss:()=>{a.Z.resume(),g()},role:v,size:y,subHeading:f,padding:"none",children:p})})})}},430322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),a=n(124580),o=n(283698),r=n(223815),l=n(50286),s=n(898781),d=n(965900),c=n(780280),u=n(883119),p=n(968121),m=n(867820),h=n(785893);function _({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n="center",allowScroll:_=!1,children:g,closeOnOutsideClick:v=!0,footer:y,heading:f,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:x,mobileIsFullscreen:P,isOpen:S,mobileIsSlideUp:w,modalStyle:T,onDismiss:k,overrideZDepth:E,subHeading:I,type:A}){const C=(0,s.ZP)(),{isRTL:R}=(0,c.B)(),j=(0,i.useRef)(!1),[D,O]=(0,i.useState)(!1),{setAppFocusState:L}=(0,d.I)(),N=(0,l.ZP)();(0,i.useEffect)((()=>{(0,m.My)(`mweb_unauth.mobile_modal.${A||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,A]),(0,i.useEffect)((()=>(j.current=(0,o.Z)((()=>{j.current&&O(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&j.current&&(window.cancelAnimationFrame(j.current),j.current=null)})),[]),(0,i.useEffect)((()=>(S?(a.Z.pause(),L(!1)):(a.Z.resume(),L(!0)),()=>{S&&(a.Z.resume(),L(!0))})),[L,S]);const F=S&&!_;(0,i.useEffect)((()=>(F&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{F&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[F]);const M=(0,p.bf)();if(!S)return null;const z=w?(0,p.Vf)({isFullscreen:P,isTablet:"tablet"===N,isShowing:D,type:A}):(0,p.JN)({isFullscreen:P,isTablet:"tablet"===N,modalStyle:T,type:A});return(0,h.jsx)(r.Z,{children:(0,h.jsx)(u.mh,{children:(0,h.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:E?new u.Ry(E):p.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(u.iP,{accessibilityLabel:C.bt("   ", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const t=e,n=k?"with":"without",i=A||"unknown_type";(0,m.tj)(`mweb_unauth.mobile_modal.wash_tap.${i}.${n}_dismissal`,{x:t.clientX,y:t.clientY}),v&&k&&k()},tapStyle:"none",children:(0,h.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:M})}),(0,h.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:z,children:[(0,h.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!x?(0,h.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(u.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:k,padding:4,size:"sm"})}):null,f?(0,h.jsx)(u.kC.Item,{flex:"grow",children:(0,h.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(u.xu,{dangerouslySetInlineStyle:b&&!x?(0,p.ju)(R):{__style:{}},children:[P?f:(0,h.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:f}),I?(0,h.jsx)(u.xv,{align:n,children:I}):null]})})}):null]}),(0,h.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,y]})]})]})})})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>l,b7:()=>r,bf:()=>c,i_:()=>s,ju:()=>m});var i=n(379764),a=n(643010),o=n(883119);const r=new o.Ry(1e3),l=new o.H3([i.Z]),s=12,d={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},c=()=>({__style:d.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:i})=>{const a=d.modal.fullscreenStyles;let o;return o=e?a:t?d.modal.tabletStyles:"signup"===i?d.modal.nonTabletSignUpStyles:{...d.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||o}},p=({isFullscreen:e,isTablet:t,isShowing:n,type:i})=>{let a=d.modal.baseStylesSliding,o=n?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&"related_interests_modal"===i&&(a={...a,...d.modal.tabletNarrowStyle},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}},m=e=>e?d.RTLheadingOffset:d.headingOffset},499128:(e,t,n)=>{n.d(t,{UZ:()=>d,Vg:()=>s,ZP:()=>c});var i=n(667294),a=n(829407),o=n(50286),r=n(883119),l=n(785893);const s=200,d=({deviceType:e,hiding:t,visible:n})=>{const i="desktop"===e;let a=0,o=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",l="hidden";return n&&!t&&(a=1,o="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),n&&t&&(o="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:o,transition:r,visibility:l}};function c({_dangerouslySetPrimaryAction:e,text:t,primaryAction:n,thumbnailShape:c,variant:u,dataTestId:p,duration:m=2e3,onHide:h,href:_,onClick:g,openNewPage:v,iconThumbnail:y,imageUrl:f}){const b=(0,o.ZP)(),[x,P]=(0,i.useState)(!1),[S,w]=(0,i.useState)(!1),T=(0,i.useRef)(),k=()=>{P(!0),T.current=setTimeout(h,s)},E=()=>{T.current=setTimeout(k,m)},I=()=>{T.current&&clearTimeout(T.current)};let A;(0,a.Z)((()=>(setTimeout((()=>w(!0)),100),E(),I))),y?A=y:f&&(A=(0,l.jsx)(r.xu,{height:48,overflow:"hidden",width:48,children:(0,l.jsx)(r.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}));const C=(0,l.jsx)(r.FN,{_dangerouslySetPrimaryAction:e,primaryAction:n,text:t,thumbnail:A,thumbnailShape:c,variant:u}),{marginTop:R,opacity:j,pointerEvents:D,position:O,transform:L,transition:N,visibility:F}=d({deviceType:b,hiding:x,visible:S});return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:L,transition:N,visibility:F,pointerEvents:D}},"data-test-id":null!=p?p:"toast",onMouseEnter:I,onMouseLeave:E,opacity:j,position:O,marginTop:R,display:"flex",children:_?(0,l.jsx)(r.iP,{role:"link",href:_,onTap:({event:e})=>null==g?void 0:g(e),target:v?"blank":null,rounding:"pill",children:C}):C})}},934494:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(995228),a=n(785893);function o({useGraphQLAdapter:e,useLegacyAdapter:t}){const n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),o=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){const r=t.enabled?(0,a.jsx)(n,{data:t.data,children:e}):(0,a.jsx)(o,{data:t.data,children:e});return t.suspense?(0,a.jsx)(i.Z,{fallback:t.suspense.fallback,children:r}):r}}},444445:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>v,D6:()=>s,KN:()=>y,Lo:()=>a,P2:()=>h,ZZ:()=>c,g5:()=>u,jC:()=>l,lX:()=>m,nW:()=>p,oX:()=>_,qG:()=>g,tG:()=>o,yF:()=>i,yc:()=>d});const i=236,a=2*i/3,o=175,r=24,l=4,s=2,d=2,c=14,u=16,p=12,m=16,h=24,_=16,g=-1,v=(e=!1,t=!1)=>e?t?m:p:h,y=(e,t,n,i,a=c)=>{const o=e+a;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${i}\n}\n`}},298361:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),a=n(349700),o=n(202139);function r(){const e=(0,i.ZP)();return function(t,n){const i=new Date(t),r=new Date-i,l=Math.floor(r/o.FS),s=Math.floor(r/o.UK),d=Math.floor(r/o.F4),c=Math.floor(r/o.VL),u=Math.floor(r/o.N1),p=e.nbt(["{{ minutes }} "], l, " - ", true),m=e.nbt(["{{ hours }} "], s, " - ", true),h=e.nbt(["{{ days }} "], d, " - ", true),_=e.nbt(["{{ weeks }} "], c, " - ", true),g=e.nbt(["{{ years }} "], u, " - ", true),v=e.nbt(["{{ minutes }}"], l, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }}"], s, "hours ago abbreviated", true),f=e.nbt(["{{ days }}"], d, "days ago abbreviated", true),b=e.nbt(["{{ weeks }}"], c, "weeks ago abbreviated", true),x=e.nbt(["{{ years }}"], u, "years ago abbreviated", true);return u>0?(0,a.nk)(n?x:g,{years:u}).join(""):c>0?(0,a.nk)(n?b:_,{weeks:c}).join(""):d>0?(0,a.nk)(n?f:h,{days:d}).join(""):s>0?(0,a.nk)(n?y:m,{hours:s}).join(""):l>0?(0,a.nk)(n?v:p,{minutes:l}).join(""):e.bt("", "Just now", " - ", undefined, true)}}},898781:(e,t,n)=>{n.d(t,{ZP:()=>l,oz:()=>o,q6:()=>a});var i=n(425288);const{Provider:a,Consumer:o,useHook:r}=(0,i.Z)("i18n"),l=r},892819:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(66699),a=n(898781);const o=(e,t)=>{const n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),o=Math.floor(a),r=a-o,l=r>.5-1e-8&&r<.5+1e-8?o%2==0?o:o+1:Math.round(a);return n?l/i:l},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function l(){const e=(0,a.ZP)();return(t,n,a)=>{let l=0,s=0;const d=a&&a.style||void 0,c=a&&a.shortform||!1,u=a&&a.uplimit||void 0,p=a&&a.currency||void 0,m=!!u&&n>=u,h=u&&m?u:n;if("currency"===d){const{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);l=void 0===a||void 0===a.maximum_fraction_digits?n:a.maximum_fraction_digits,s=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else l=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,s=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(c&&h>999&&(l=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,s=0),l<s)return String(h);let _=h,g="";const v=[{"100M":{value:1e8,localeKey:e.bt("", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt("", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],y=[{b:{value:1e9,localeKey:e.bt("0", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("00", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt("", "k", "Abbreviation for one thousand.", undefined, true)}}],f=/^zh|ja|ko/.test(t);if(c&&h>999){const e=f?v:y;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){_=o(h/i*Math.pow(10,l))/Math.pow(10,l),g=e[t][n].localeKey;break}}}if(null==_)return"";const b=_.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a})({maximumFractionDigits:l,minimumFractionDigits:s,currency:p,style:d}));return g&&g.length>0?(0,i.Z)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:b,numberSuffix:g})+(m?"+":""):b+(m?"+":"")}}},366428:(e,t,n)=>{n.d(t,{F:()=>d,Z:()=>s});var i=n(667294),a=n(124580),o=n(407043),r=n(773285);const l={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function s({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:s,contextLogData:d,clientTrackingParams:c,elementType:u,impressionAuxFields:p,inImpressionExp:m,impressionType:h,impressionsFramework:_,isPaused:g,loggingId:v,objectIdStr:y,slotIndex:f,trackCarousel:b,viewData:x,viewParameter:P,viewType:S}){const{logContextEvent:w}=(0,o.v)(),{checkExperiment:T}=(0,r.F)(),k=T("web_mweb_pin_impression_add_width_height").anyEnabled,E=_||a.Z,I=(0,i.useRef)(null),A=i=>{const a=l[h],o=a.idType;let r={endTime:i.endTime,[o]:v,slotIndex:f,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...p,forcedExit:"removed"===i.forcedExit?0:void 0};var m,_,g,T;"Pin"===h&&(r={...r,pinCellWidth:k?(null===(m=I.current)||void 0===m?void 0:m.getBoundingClientRect().width)||0:void 0,pinCellHeight:k?(null===(_=I.current)||void 0===_?void 0:_.getBoundingClientRect().height)||0:void 0,windowWidth:k?null===(g=window)||void 0===g?void 0:g.innerWidth:void 0,windowHeight:k?null===(T=window)||void 0===T?void 0:T.innerHeight:void 0});const E={component:s,object_id_str:y,view_type:S,view_data:x||{},view_parameter:P};if(b){if(e){var A,C,R;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...r,carouselDataId:Number(e.id),carouselSlotId:(null===(A=e.carousel_slots)||void 0===A?void 0:A[null!==(C=e.index)&&void 0!==C?C:0])&&Number(e.carousel_slots[null!==(R=e.index)&&void 0!==R?R:0].id),slotIndex:e.index}]},...E,aux_data:{...d}})}}else w({clientTrackingParams:c,event_type:a.eventType,...E,element:u,event_data:{[a.impressionType]:"Story"===h?r:[r]},aux_data:{closeup_navigation_type:n,...d}})},C=(0,i.useCallback)((()=>{try{I.current instanceof HTMLElement&&E.start(I.current).onExitViewport(A).setDebugId(v||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[I.current]);(0,i.useEffect)((()=>(m&&!E.inExperiment&&E.setExperimentStatus(!0),g||C(),()=>{I.current instanceof HTMLElement&&E.stop(I.current)})),[C]);const R=(0,i.useRef)(g);return(0,i.useEffect)((()=>{R.current&&!g&&C(),R.current=g}),[g,C]),I}const d=({children:e,...t})=>e({impressionTrackerRef:s(t)})},12610:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>m,ZP:()=>h});const a=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},l={},s={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${l[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:s,[r.stopped]:s,[r.paused]:s,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case r.flushed:case r.paused:case r.exit:l[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,m=!1;class h{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=m,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===m&&(this.pausePriority=e))}resume(e=p){e===m&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=m)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(12610).ZP)},349700:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>r,bF:()=>s,nk:()=>o});const a=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,a)}function r(e,t){return i(e,t,a).join("")}const l=/(\{\s*\w+\s*\})/g;function s(e,t){return i(e,t,l)}},543972:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"ref",(0,i.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}const r=o},507712:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(214494),a=n(826067);const o=(e=(()=>{}))=>{const t=(0,a.mB)(window.location.search),n=t.invite_code;n?i.Z.create("InviteAttributionResource",{invite_code:n}).callCreate():e(t)}},496793:(e,t,n)=>{n.d(t,{U:()=>_});var i=n(172071),a=n(214494);const o="nic_v3",r="nic_v3=1a",l="nic_v3=1b",s=[r,l],d=["invite_code","invite","board_invite_code","sender"];let c=null;const u=e=>!!d.find((t=>e.includes(t))),p=e=>{return e.pathname.includes("/pin/")&&!u(e.search)&&(t=e.search,!s.find((e=>t.includes(e))));var t},m=(e,t,n=!1,a)=>{if(!p(e))return;const o=n?"mweb":"web";if(t){i.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.attempt`);try{const s=((e,t,n)=>{const i=(e.search?"&":"?")+(n?l:r)+t;return e.pathname+e.search+i})(e,t,n);i.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.success`),a(s)}catch(s){i.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.caught_exception`)}}else i.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.no_encrypted_id`)},h=(e,t,n=!1,o)=>{c?m(e,c,n,o):(e=>a.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate().then((e=>{if(!e||!e.resource_response)return i.Z.increment("nic_v3.social_tracking_pin_non_invite.no_resource_response"),"";const t=e.resource_response.data,n=encodeURIComponent(t);return i.Z.increment("nic_v3.social_tracking_pin_non_invite.encrypted."+(n?"true":"false")),n})))(t).then((t=>{c=t,m(e,c,n,o)}))},_=(e,t,n,a,r)=>{const l=n?"mweb":"web";i.Z.increment(`${l}.nic_v3.social_tracking_pin_non_invite.attempt`);try{!n&&a&&p(e)?(i.Z.increment(`${l}.nic_v3.social_tracking_pin_non_invite.search_string_eligible`),h(e,t,n,r)):(s=e.search,u(s)||(e=>e.includes("sender"))(s)||!s.includes(o)||i.Z.increment(`${l}.nic_v3.social_tracking_pin_non_invite.search_string_land`))}catch(d){i.Z.increment(`${l}.nic_v3.social_tracking_pin_non_invite.caught_exception`)}var s}},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>a,jd:()=>o,oy:()=>r});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,o=e=>window.innerHeight>=748&&i(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},251819:(e,t,n)=>{function i(e){return null==e||(Array.isArray(e)||"string"==typeof e?0===e.length:"function"==typeof e||("symbol"==typeof e||("object"==typeof e?function(e){const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Object.prototype)}(e)?0===Object.keys(e).reduce(((t,n)=>Object.prototype.hasOwnProperty.call(e,n)&&"constructor"!==n?[...t,n]:t),[]).length:e instanceof Map||e instanceof Set?0===e.size:!Object.keys(e).length:"boolean"==typeof e||"number"==typeof e)))}n.d(t,{Z:()=>i})},926275:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},844753:(e,t,n)=>{function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},411938:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const a=new Date,o=i?new Date(i):a;return o.setDate(o.getDate()+n),(new Date).getTime()<o.getTime()}},755742:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>_,FixedHeader:()=>h});var i=n(667294),a=n(124580),o=n(53987),r=n(773285),l=n(834256),s=n(883119),d=n(643010),c=n(785893);const u=64,p=3;function m({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:l,hideOnScrollState:{isHidden:m,updateHiddenState:h},showDockedNavBar:_,dockNavBarForAuthTablet:g,isTablet:v,noPadding:y,paddingY:f=p,type:b,zIndex:x}){const{headerLimitedOverflow:P,ignoreObstructions:S,zIndexForGestaltBug:w}=n||{},{appUpsellFooterConfig:T,footerInLego:k,footerWidth:E}=t||{},I=!!T,A="header"===b?"top":"bottom",{anyEnabled:C}=(0,r.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),R=(0,d.vs)(),j=C?R:(0,d.Yc)(),D=(0,i.useRef)(null),O=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!S){const e=D.current;O.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,O.current instanceof HTMLElement&&a.Z.addObstruction(A,O.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{S||O.current instanceof HTMLElement&&a.Z.removeObstruction(A,O.current)}}),[S,P,A,j]);const L="top"===A?"relative":"fixed",N=y?0:f,F=(null!=o?o:u)+((null==n?void 0:n.overrideTop)||0),M=l||_||g?{transition:k?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m?{transform:`translateY(${"top"===A?-F:F}px)`,opacity:k?0:1}:Object.freeze({})}:{},z="relative"!==L||null!=n&&n.noGutter?0:2,U=z?-z:0,B=j?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let Z,V;return j&&("header"===b?Z=-1:V=-1),(0,c.jsx)(s.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:Z,bottomStyle:V,...!x||w?{zIndex:w||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},zIndex:w?void 0:x,"data-test-id":b,display:I?"flex":void 0,height:o&&!k?o:void 0,position:L,bottom:"footer"===b,top:"header"===b,left:!0,right:!0,marginStart:k?"auto":U,marginEnd:k?"auto":U,onTransitionEnd:()=>{(l||_||g)&&O.current&&(m?a.Z.removeObstruction(A,O.current):a.Z.addObstruction(A,O.current))},width:k||"fixed"!==L?void 0:"100%",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&B||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:k?I?void 0:null!=o?o:u:"100%",boxShadow:k?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!k||_&&!v?void 0:16,...P?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==b||y?0:4)+z,paddingY:N,position:"relative",width:k&&E?E:I?void 0:"100%",rounding:!k||_&&!v?void 0:"pill",display:k||null!=t&&t.alignCenter?"flex":void 0,marginStart:k?"auto":void 0,marginEnd:k?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function h({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:a,noGutter:o,overrideTop:r,useRoundedCorners:d,zIndexForGestaltBug:u,...h}){const{noPadding:_,paddingY:g=p,zIndex:v}=h,y=_?0:g;return(0,c.jsx)(s.Le,{top:r||0,height:t?44+2*y*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(l.Z,{hideOnScroll:h.hideOnScroll,children:l=>(0,c.jsx)(m,{...h,hideOnScrollState:l,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:o,overrideTop:r,zIndexForGestaltBug:u,useRoundedCorners:d}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,forceShow:a,hasTopShadow:r,location:s,showDockedNavBar:d,dockNavBarForAuthTablet:u,isTablet:p,isModal:h,onScroll:_,...g}){const v=!!s&&(0,o.uM)(s)&&(!!d||!!u);return(0,c.jsx)(l.Z,{appUpsellFooterConfig:t,forceShow:a,hideOnScroll:g.hideOnScroll,location:s,isDockedNavOnPlp:v,isModal:h,onScroll:_,children:a=>(0,c.jsx)(m,{...g,hideOnScrollState:a,showDockedNavBar:d,dockNavBarForAuthTablet:u,isTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,hasTopShadow:r}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>l,m:()=>r});var i=n(667294),a=n(700380);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=20;class l extends i.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:i}=this.props,{isHidden:a}=this.state,o=window.scrollY,l=o-this.lastScrollPos;let s="none";const{scrollHeight:d,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(d)&&!Number.isNaN(c))if(l<0){const e=window.scrollMinY||0;s=o<=Math.abs(e+Math.max(l,r))?"start":"none"}else{s=o>=(window.scrollMaxY||d-c)-Math.max(l,r)?"end":"none"}const u=t?0:55;if(e)if(l>r&&a&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(l<-r&&!a||o<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&i?"start"===s&&!a||o<=u?(this.updateHiddenState(!0),n&&n(!0)):(o>u||"end"===s)&&a&&(this.updateHiddenState(!1),n&&n(!1)):(l<-r||"start"===s)&&a||o<=u?(this.updateHiddenState(!1),n&&n(!1)):(l>r||"end"===s)&&!a&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(50286),a=n(883119),o=n(444445),r=n(134879),l=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,r.V)()?(0,l.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,l.jsx)(r.C,{value:!1,children:e})}):e}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>d,default:()=>c});var i=n(883119),a=n(134879),o=n(444445),r=n(780280),l=n(995081),s=n(785893);const d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const m=(0,r.B)(),h=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?o.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:e})})},c=d},134879:(e,t,n)=>{n.d(t,{C:()=>o,V:()=>r});var i=n(667294);const a=(0,i.createContext)(!1),o=a.Provider,r=()=>(0,i.useContext)(a)},48714:(e,t,n)=>{n.d(t,{nS:()=>x,iw:()=>S,gV:()=>f,G3:()=>w,lI:()=>T,Gj:()=>P,Jd:()=>y,$3:()=>b});var i=n(231486),a=n(56641),o=n(768559),r=n(250059);const l=e=>"string"!=typeof e&&e?e.state:null;var s=n(643913),d=n(547239),c=n(508847),u=n(102500),p=n(43760),m=n(579164),h=n(333155),_=n(397066),g=n(623568),v=n(226198);const y=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},f=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),b=({location:e,pin:{id:t,is_downstream_promotion:n,promoter:i},surface:a})=>!(0,g.jL)(n,i)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),a=h.ZF.includes(n),o=e.pathname.includes(t);return i&&!a||o})({location:e,pinId:t,surface:a}),x=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";i.t8((0,v.GS)(t),n);const a=`${t}-${n}`,{queryParams:o,url:r}=e;let l={token:a,url:r};if(!o){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:a}=e;l={...l,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:a?JSON.stringify(a):void 0}}o&&(l={...l,...o});return`/offsite/?${(0,s.Z)(l)}`},P=e=>{(0,a.Z)(x(e),!0)},S=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:a})=>{var r,l;const s=await(0,u.Z)({check_only:!0,client_tracking_params:(0,o.Z)({boardUrl:null==t||null===(r=t.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(l=t.pinner)||void 0===l?void 0:l.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:a}).callGet({showError:!1});if(!s.resource_response.error&&e){const e=s.resource_response.data||{},{message:t,redirect_status:n,url:a}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:a})}},w=({event:e,onHistoryChange:t,href:n,history:i,target:o})=>{const s=(0,r.Z)(n),u=l(n),p=(0,d.Z)(s);p===m.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,a.Z)(s,"blank"===o):i&&p===m.Z.SAME_ORIGIN&&(i.push((0,c.Z)({url:s}),null!=u?u:{}),t&&t({event:e}))},T=({href:e,pinId:t,pin:n,location:i,auxData:a,spamCheck:r,queryParams:l},s,d)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:n,location:i,auxData:a}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:a,href:r},l,s)=>{if(null!=e&&e.blocked)null==s||s(e);else{var d,c;if((0,_.b)({href:r,pinId:a,pin:i,location:n,auxData:t},l))return;P({url:r,pinId:a,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null===(d=i.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:n,pinId:i.id,pinnerUserName:null===(c=i.pinner)||void 0===c?void 0:c.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),auxData:t})}})({spamCheck:r,auxData:a,location:i,pin:n,pinId:t,href:e},s,d):P({url:e,pinId:t,queryParams:l})}},102500:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(214494);function a(e){return i.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>c,p:()=>u});var i=n(667294),a=n(250059),o=n(149230),r=n(407043),l=n(108234),s=n(48714),d=n(276775);function c(e){var t;const{externalData:n,href:c,onHistoryChange:u,target:p}=e,{logContextEvent:m}=(0,r.v)(),[h,_]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1),y=(0,d.useHistory)(),f=(0,d.useLocation)(),b=(0,o.Z)({url:(0,a.Z)(c)}),{showWarning:x}=null!==(t=(0,l.s)())&&void 0!==t?t:{};return(0,i.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,i.useEffect)((()=>{b&&null!=n&&n.pin&&null===h&&g&&(0,s.$3)({location:f,pin:n.pin,surface:n.surface})&&(0,s.iw)({isMounted:g,pin:n.pin,location:f,spamCheckCallback:e=>_(e),href:(0,a.Z)(c)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,c,b,g,f,h]),({event:e})=>{var t;(0,s.gV)({isOffsiteUrl:b,event:e})||(e.preventDefault(),c&&(b||null!=n&&n.dangerouslyForceOffsiteUrl?(0,s.lI)({auxData:null==n?void 0:n.auxData,href:(0,a.Z)(c),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:f,spamCheck:h},m,x):(0,s.G3)({event:e,href:c,history:y,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:c(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071);function a(e,t){return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,n)=>{n.d(t,{wy:()=>L,Fw:()=>ne,ey:()=>ee,dt:()=>y,bo:()=>W,oF:()=>re,bW:()=>v,AX:()=>p,Fy:()=>u,XE:()=>c,am:()=>r,pD:()=>m,OJ:()=>s,LO:()=>_e,Gl:()=>se,Y8:()=>P,lY:()=>b,dK:()=>x,PY:()=>w,ah:()=>S,Ni:()=>f,pV:()=>N,L6:()=>O,bb:()=>ye,b0:()=>g,jC:()=>q,O7:()=>de,LM:()=>$,OK:()=>j,mP:()=>T,C$:()=>k,dr:()=>z,gT:()=>M,Fr:()=>Q,Xn:()=>E,l4:()=>D,b_:()=>oe,J:()=>l,dZ:()=>d,FO:()=>C,re:()=>A,RU:()=>ce,Ui:()=>h,KY:()=>_,fY:()=>te,uM:()=>J,x7:()=>ie,rk:()=>ge,cD:()=>Y,dW:()=>ve,Pu:()=>le,En:()=>F,ej:()=>me,OX:()=>V,f1:()=>Z,E0:()=>G,gf:()=>R,mY:()=>ue,kY:()=>he,cY:()=>ae,$Y:()=>K,Zz:()=>I,$V:()=>H,j8:()=>X,Q0:()=>U,tZ:()=>B,YW:()=>pe});const i=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),a=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/reports-and-violations","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var o=n(276775);const r=e=>i.test(e.pathname),l=(e,t)=>{const{pathname:n}=e;return r(e)&&n.match(t||"?")},s=e=>{const{pathname:t}=e;return!!(0,o.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},d=(e,t)=>{const{pathname:n}=e;return s(e)&&n.match(t||"?")},c=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),m=e=>!!(0,o.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),h=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),g=e=>!!(0,o.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,o.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),y=e=>e.pathname.startsWith("/age-appeal"),f=e=>e.pathname.startsWith("/business/"),b=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0}),x=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/hierarchy",exact:!0}),P=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0}),S=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/members",exact:!0}),w=e=>e.pathname.startsWith("/business/invite/"),T=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),k=e=>"/"===e.pathname,E=e=>e.pathname.startsWith("/login"),I=e=>!!(0,o.matchPath)(e.pathname,{path:"/today",exact:!0}),A=e=>e.pathname.startsWith("/password/reset")||!!(0,o.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),C=e=>e.pathname.startsWith("/secure/panic"),R=e=>e.pathname.startsWith("/signup"),j=e=>e.pathname.startsWith("/email/subscription"),D=e=>e.pathname.startsWith("/notifications/"),O=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),L=e=>O(e)&&void 0===e.state,N=e=>e.pathname.startsWith("/pin_redirect"),F=e=>e.pathname.startsWith("/search"),M=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas",exact:!0}),z=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),U=e=>!!(0,o.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),B=e=>e.pathname.startsWith("/videos"),Z=e=>!!(0,o.matchPath)(e.pathname,{path:"/shopping/",exact:!0}),V=e=>!!(0,o.matchPath)(e.pathname,{path:"/shopping/:category/:id",exact:!0}),H=e=>e.pathname.startsWith("/topics"),K=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),G=e=>e.pathname.startsWith("/today/shop/"),W=e=>I(e)||K(e)||e.pathname.startsWith("/today/popular/"),$=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),q=e=>e.pathname.startsWith("/pin/create/"),Y=e=>!!(0,o.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!a.includes(e.pathname.replace(/\/$/,"")),X=e=>e.pathname.startsWith("/unauth-profile"),J=e=>e.pathname.startsWith("/pin/"),Q=e=>"#imgViewer"===e.hash,ee=e=>new RegExp("invite_code").test(e.search),te=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),ne=e=>ee(e)&&((te(e)?"pin":r(e)&&"board")||Y(e)&&"profile")||null,ie=e=>e.pathname.includes("/repin/x"),ae=e=>e.pathname.startsWith("/_/storyboard"),oe=e=>e.pathname.startsWith("/oauth"),re=e=>e.pathname.startsWith("/app-factory-oauth"),le=e=>e.pathname.includes("/scheduled-pin/"),se=e=>e.pathname.startsWith("/business/convert"),de=e=>e.pathname.startsWith("/pin-editor"),ce=e=>e.pathname.startsWith("/pin-builder"),ue=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),pe=e=>e.pathname.startsWith("/advertiser/quick-promote"),me=e=>e.pathname.startsWith("/settings"),he=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),_e=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ge=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ve=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ye=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")},249647:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(844753);function a(e,t=!1){return n=>{if(!(0,i.Z)(n))return t&&Array.isArray(n)?n.map(a(e,t)):n;const o={};return Object.keys(n).forEach((r=>{const l=e(n[r],r);(0,i.Z)(n[r])||t&&Array.isArray(n[r])?o[l]=a(e,t)(n[r]):o[l]=n[r]})),o}}function o(e,t=!1){const n=(t,n)=>e(n);return e=>a(n,t)(e)}},914671:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(594881);const a={windowIsInFocus:!0,initFocus(){const e=function(){this.windowIsInFocus=!1},t=function(){this.windowIsInFocus=!0,(0,i.Z)()};"undefined"!=typeof window&&(window.addEventListener("focus",t),window.addEventListener("blur",e))}}},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=a},627995:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(927104),a=n(898781),o=n(903095),r=n(112690),l=n(883119),s=n(785893);const d=(e,t)=>{let n={};if(e){const{pinData:i,viewData:a}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===t&&(n={...n,unauth_page_board_id:a.id})}return n},c=({clickLoggingOptions:e,domain:t,link:n,onClick:c})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,m=(0,a.ZP)(),h=(0,r.Z)(),_=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,s.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),_().forEach((e=>h(e))),c(e)},children:(0,s.jsxs)(l.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(l.xu,{marginEnd:1,children:(0,s.jsx)(l.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m.bt("", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,s.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),_().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(l.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,i.Z)(t,27)})})]})})}},153209:(e,t,n)=>{function i(e,t,n){return!(!(e&&e.trim().length>0&&t)||n)}n.d(t,{r:()=>i})},55275:(e,t,n)=>{n.d(t,{P:()=>r,t:()=>l});var i=n(214494);const a=()=>{};const o={complaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,t,n=a){const i=e?o[e]:null;return i?i(t,n):n()}},680046:(e,t,n)=>{n.d(t,{EF:()=>_,Iv:()=>c,Ud:()=>d,XZ:()=>m,fJ:()=>s,hP:()=>l,nb:()=>h,oK:()=>u,yl:()=>p});var i=n(55275),a=n(760372),o=n(349700);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function l({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:o}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||o)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";case 92:default:return"default"}}function s({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:a,complaintReason:o,throughId:r,throughProperties:l,clientTrackingParams:s}){switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:n,newsId:null==e?void 0:e.newsId}};default:const d="promoted"===t;return{action:d?"promotedComplaint":"complaint",actionOptions:{complaint_reason:o||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:a||1,promoted:d,...r?{through_id:r}:{},...l?{through_properties:l}:{},...s?{client_tracking_params:s}:{}}}}}function d({feedback:e,i18n:t,makeNavigateLink:n}){var i,a,l,s,d,c,u,p;switch(e.type){case"pfy":return t.bt("     .", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,o.nk)(t.bt("  {{ boardLink }}   .", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:n("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:h}=e;return h?(0,o.nk)(t.bt("{{ formattedTopic }}   .", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:n("topicUrl",`/topics/${h.url_name}`,h.name)}):null;case"followed":const{followed:_}=e;return"pinner"===_.type?(0,o.nk)(t.bt("   {{ formattedPinner }}  .", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:n("pinnerUrl",`/${null!==(i=null===(a=_.pinner)||void 0===a?void 0:a.username)&&void 0!==i?i:""}`,r(null!==(l=null===(s=_.pinner)||void 0===s?void 0:s.full_name)&&void 0!==l?l:""))}):(0,o.nk)(t.bt("  {{ formattedBoard }}  .", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:n("boardUrl",null!==(d=null===(c=_.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",r(null!==(u=null===(p=_.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:i,username:a}=e.promoter,r=n("promotedLink",a?"/"+a+"/":"/",i);return(0,o.nk)(t.bt("{{ promoterLink }}()         .", "{{ promoterLink }} paid to have this Pin show up where youd be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:r})}return t.bt("  Pinterest       .", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:return null}}function c({sourceInterest:e,i18n:t,makeNavigateLink:n}){var i,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:a.X},title:"",subTitle:(0,o.nk)(t.bt(" {{ formattedTopic }}    .", "Well show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:n("topicUrl",`/topics/${null!==(i=e.url_name)&&void 0!==i?i:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function u({boardId:e,display:t,i18n:n,makeNavigateLink:i}){var a,r,l,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,o.nk)(n.bt("{{ formattedPinner }}          .", "You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:i("pinnerUrl",`/${null!==(a=t.data.username)&&void 0!==a?a:""}`,null!==(r=t.data.full_name)&&void 0!==r?r:"",!0)}):(0,o.nk)(n.bt("{{ formattedBoard }}          .", "You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:i("boardUrl",null!==(l=t.data.url)&&void 0!==l?l:"",null!==(s=t.data.name)&&void 0!==s?s:"",!0)})}}function p(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function m(e){return null==e?void 0:e.through_properties}function h(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function _(e,t,n,a,o,r,l){return()=>{const s={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,i.t)(d,s),r(n),l({event_type:101,component:0,element:11181,view_type:a,view_parameter:o})}}},205202:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},248975:(e,t,n)=>{function i({embedSrc:e,embedType:t,images:n,preferredResolution:i}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";const a=n;if(!a)return"";if(i){const e="474x"===i&&a["474x"]||"236x"===i&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(a[t]=a[e],t):e}catch(t){return""}}));o.sort();const r=o.pop();return a[r]&&a[r].url||""}n.d(t,{Z:()=>i})},958007:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:r,closeupDescription:l,closeupUnifiedDescription:s})=>!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:r,closeupUnifiedDescription:s}).description)||a(s||"")||a(l)||a(t)||a(n)||""},164985:(e,t,n)=>{n.d(t,{Z:()=>i});function i(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},873441:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(985913);const a=(e,t)=>{const n=e.link_domain||{},a=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,o=e.rich_metadata,r=e.domain,l=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,s=!(!(o&&o.recipe&&o.recipe.name&&o.recipe.categorized_ingredients)||o.recipe.from_aggregated_data);let d,c;o&&o.products&&o.products[0]&&(d=!!(o&&o.products[0].name&&o.products[0].offer_summary));const u=d,p=!(!o||!o.article),m=!(!o||!o.tutorial),h=!(!l||!l.username);let _=t.bt(": ", "Saved from ", "Closeup pin annotation", undefined, true),g=h?t.bt(" :", "Saved by", " - ", undefined, true):t.bt(":", "Saved from", " - ", undefined, true),v=t.bt("", "Visit", " - ", undefined, true);o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offer_summary&&(_=t.bt(" : ", "Product sold by ", "pin annotation", undefined, true),c=o.products[0].offer_summary),u?(g=t.bt(":", "Sold by", " - ", undefined, true),v=t.bt("", "Visit", " - ", undefined, true)):m?(_=t.bt(": ", "Saved from ", "pin annotation", undefined, true),g=h?t.bt(" :", "Saved by", " - ", undefined, true):t.bt(":", "Saved from", " - ", undefined, true),v=t.bt("", "Visit", " - ", undefined, true)):s?(_=t.bt(" : ", "Recipe from ", "pin annotation", undefined, true),g=h?t.bt(" :", "Recipe by", " - ", undefined, true):t.bt(" :", "Recipe from", " - ", undefined, true),v=t.bt("", "Make it", " - ", undefined, true)):p&&(_=t.bt(" : ", "Article from ", "pin annotation", undefined, true),g=h?t.bt(" :", "Article by", " - ", undefined, true):t.bt(" :", "Article from", " - ", undefined, true),v=t.bt("", "Read it", " - ", undefined, true));const y=e.rich_summary;if(!c&&y){let e;y&&y.products&&y.products[0]&&(e=!!(y&&y.products[0].name&&y.products[0].offer_summary),e&&(_=t.bt(" : ", "Product sold by ", "pin annotation", undefined, true)))}let f,b;h?(f="/"+l.username+"/",b=l.full_name):(f="/source/"+r,b=o&&o.site_name||r);return{actionButtonText:v,image:l&&(l.image_medium_url||l.image_small_url)||e.board&&e.board.image_thumbnail_url,link:f,pinLink:a,pin:e,pinCreditPrefix:_,prefixText:g,subtitle:b,title:(0,i.Z)(t.bt("{{ subtitle }}   ", "More from {{ subtitle }}", " - ", undefined, true),{subtitle:b}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},623568:(e,t,n)=>{n.d(t,{Js:()=>r,NK:()=>y,Nc:()=>f,VX:()=>l,ZE:()=>_,Zt:()=>g,_J:()=>c,_S:()=>b,cL:()=>m,dZ:()=>S,hb:()=>v,hy:()=>d,iR:()=>o,jL:()=>s,o:()=>x,oN:()=>i,pU:()=>P,rM:()=>h,sV:()=>u,sY:()=>p});const i=5e3,a=["Uploaded by user"],o=e=>!!e&&!!e.video_list,r=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,s=(e,t)=>!!t&&!e,d=e=>!!e,c=e=>!!e.video_status&&5!==e.video_status,u=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,m=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!p(n)&&!(e=>"pinstory"===e)(t),h=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,_=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",v=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e,t,n){var i;return!o(n)&&!d(t)&&0!==Object.keys((null==e||null===(i=e.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function b(e){for(const t of a)if(e===t)return!1;return!0}function x(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function P(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function S(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},992750:(e,t,n)=>{n.d(t,{hP:()=>u,fs:()=>s,eK:()=>d,Ly:()=>c,BY:()=>p,bN:()=>m,RC:()=>r,EU:()=>l});const i=/\s\s+/g,a=e=>e.replace(i," ");var o=n(883561);const r=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,l=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",s=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})=>{const s=o||e,d=l(t,200);return d||(n||(r||(i||(a&&s?s:null))))},d=e=>{const{richSummaryDisplayName:t,placeSummaryName:n}=e,i=e.pinJoinVisualAnnotation||[],r=e.pinJoinAnnotationsWithLinks||{},l=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",d=i.map((e=>(r||{})[e]||{name:e,url:""}));let c="";const u=(({richSummaryDisplayName:e,placeSummaryName:t})=>e||t||"")({richSummaryDisplayName:t,placeSummaryName:n}).toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim(),m=s.toLocaleLowerCase().trim();return s&&s.length>3&&m!==u?c=s:l&&l.length>3&&p!==u&&(c=l),c&&(c=a((0,o.ZP)(c,496)).trim()),{description:c,annotationsWithLinks:d}},c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),m=e=>(e||[])[0]||null;return s({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})||m(l)||m(p)||e},u=(e,t,n,i)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();return n?(i&&i.trim().length&&(o=i),n.length>0&&(o&&(o+=" "),o+=n.join(", ")),o):i&&i.trim().length?i:o},p=e=>`/pin/${e}/`,m=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},432300:(e,t,n)=>{n.d(t,{Z:()=>i});const i={DEFAULT:1,LIMITED:2}},584595:(e,t,n)=>{n.d(t,{$j:()=>j,Cx:()=>U,D4:()=>A,E:()=>d,E6:()=>k,H9:()=>M,Jt:()=>L,Jw:()=>r,LJ:()=>F,NF:()=>s,OW:()=>u,Pv:()=>D,RL:()=>P,ZP:()=>V,Zn:()=>w,_K:()=>_,aG:()=>h,an:()=>E,at:()=>O,bd:()=>c,cZ:()=>p,dO:()=>m,hE:()=>z,hU:()=>v,iK:()=>b,iZ:()=>R,ik:()=>B,ky:()=>N,lg:()=>g,nY:()=>f,nf:()=>x,oP:()=>y,pH:()=>a,qF:()=>Z,rM:()=>C,rm:()=>I,tL:()=>l,tz:()=>o,xN:()=>T,yV:()=>S});var i=n(817656);const a=101,o=93,r=117,l=116,s=111,d=118,c=9,u=8,p=16,m=12,h=3,_=18,g=105,v=79,y=78,f=77,b=76,x=1402,P=85,S=88,w=1201,T=30,k=84,E=83,I=2901,A=2904,C=2905,R=95,j=19,D=113,O=91,L=2501,N=2915,F=2986,M=3050,z=2,U=[u,c],B=[u,c,i.Ej],Z=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[g,"FACEBOOK_ACCOUNT_NOT_LINKED"],[m,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[p,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[f,"INVALID_PASSWORD_FB_USER"],[y,"INVALID_PASSWORD_ERROR_CODE"],[v,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[E,"LOGIN_POLICY_VIOLATION_USER"],[P,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[l,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[u,"API_LIMIT_EXCEEDED_ERROR"],[c,"API_EVENT_BLOCKED_ERROR"],[j,"USER_IN_SAFE_MODE"],[k,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[P,"LOGIN_BAD_PASSWORD_ASK_RESET"],[w,"LOGIN_MFA_REQUIRED"],[T,"LOGIN_USER_NOT_FOUND"],[S,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[I,"SAR_DOWNLOAD_LIMIT"],[A,"SAR_EMAIL_UNVERIFIED"],[C,"SAR_EMAIL_MISSING"]]),V=[u,c,j,E,P,S]},467570:(e,t,n)=>{n.d(t,{$:()=>d,GH:()=>s,JF:()=>g,Jb:()=>m,MI:()=>_,sl:()=>u,we:()=>p});var i=n(935879),a=n(713930),o=n(816068),r=n(214494),l=n(867820);const s="274266067164",d=["public_profile","email","user_birthday","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,l.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,l.dy)({event:"load_script_start",provider:"facebook"});return(0,a.Z)((0,i.Z)(e),"FACEBOOK").then((()=>u(t)))},m=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),h=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:a,gender:r,last_name:l,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,o.Z)(n):void 0,email:i,first_name:a,gender:r,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:l});async function _(e){var t;const n=(null===(t=(await r.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:c.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const g=()=>new Promise((e=>{window.FB.login(e,{scope:d.join(",")})})).then((e=>((e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:a,accessToken:o}=e.authResponse;_(o).then((e=>{n({creds:{facebook_id:a,facebook_token:o,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:h({userID:a,accessToken:o,data:e})})}),i)})))(e)))},935879:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},869503:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(939106),a=n(898781),o=n(349700),r=n(883119),l=n(785893);function s(){const e=(0,a.ZP)();return e.bt(" ", "Free shipping", "closeup.product.shipping", undefined, true)}function d({freeShippingPrice:e}){const t=(0,a.ZP)();return(0,o.nk)(t.bt("{{ shippingPrice }}   ", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:a}){const o=t?[""]:[],{color:c="subtle",size:u="200"}=e||{};return Number.isFinite(a)?(0===a?o.push((0,l.jsx)(s,{})):n&&o.push((0,l.jsx)(d,{freeShippingPrice:n})),0===o.length?null:(0,l.jsx)(r.xv,{color:c,size:u,children:(0,l.jsx)(i.Z,{color:c,items:o})})):null}},30287:(e,t,n)=>{n.d(t,{AJ:()=>b,FB:()=>_,FP:()=>h,Kj:()=>v,Rx:()=>m,So:()=>g,kM:()=>y});var i=n(231486),a=n(567831),o=n(794230),r=n(957161),l=n(826067),s=n(226198);const d="android-app://com.pinterest.twa",c="pwa_hostname",u="pwa_redirected",p="homescreen_icon",m=e=>["twa","cct","browser","webview"].includes(e),h=e=>{var t,n;return!!e&&((i.U2(s.tg)||"").startsWith(d)||(e.document&&e.document.referrer||"").startsWith(d)||!(!(n=null===(t=e.location)||void 0===t?void 0:t.search)||!m((0,l.mB)(n).twa_type)))},_=e=>{var t,n;if(!e)return null;if(e.Windows)return"windows";if((e=>!!e&&(e.document&&e.document.referrer||"").startsWith("app-info://platform/microsoft-store"))(e))return"msft-store";if(h(e))return"android-twa";if(e.matchMedia&&(null!==(t=e.matchMedia("(display-mode: standalone)"))&&void 0!==t&&t.matches||null!==(n=e.matchMedia("(display-mode: minimal-ui)"))&&void 0!==n&&n.matches)&&e.navigator&&e.navigator.userAgent){const t=e.navigator.userAgent;if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari"}return"unknown"},g=e=>{const t=_(e);return!(!t||"unknown"===t)},v=(e,t)=>{if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}};function y(e,t){if(void 0===e)return"notEligible";if(!g(e)&&e.navigator&&e.navigator.userAgent){if(e.navigator.userAgent.includes("Windows NT 10.0"))return"windows";if(t&&t())return"chrome"}return"notEligible"}const f=e=>{if(!e)return;const t=r.Z.getItem(c)||"";if(t!==e.location.hostname&&!(()=>{const e=Number(r.Z.getItem(u));return Date.now()-e<6e4})()){const{pathname:n}=e.location,i=(0,o.Z)(n,{utm_source:p}),l=(0,a.Z)(i,void 0,t);r.Z.setItem(u,Date.now()),e.location.href=l}},b=e=>{if(e)if((e=>{var t;return(0,l.mB)(null===(t=e.location)||void 0===t?void 0:t.search).utm_source===p})(e)){const{hostname:t}=e.location;r.Z.setItem(c,t)}else e.navigator.userAgent&&e.navigator.userAgent.includes("CrOS")&&f(e)}},813401:(e,t,n)=>{n.d(t,{kf:()=>g,l5:()=>h,of:()=>p,xC:()=>_,yz:()=>m});var i=n(667294),a=n(172071),o=n(829407),r=n(807609),l=n(30287),s=n(425288),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,s.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,r]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,o.Z)((()=>{const e=(0,l.FB)(window)||"unknown";r(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,m=s.twaType,h=(0,i.useMemo)((()=>({pwaType:p,twaType:m})),[p,m]);return(0,d.jsx)(c,{value:h,children:e})},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===m(),g=()=>{const e=m(),t=(0,r.Z)();return"unknown"===e&&t?null:"windows"===e}},523657:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),o=n(785893);const r=(e,t,n)=>{const a=(0,i.useRef)(null),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==o.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;o.current=n}),[e,t,n])};function l({alt:e,children:t,color:n,elementTiming:i,isActive:l=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u}){return r(u,c,l),(0,o.jsx)(a.Ee,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,children:t})}},198462:(e,t,n)=>{n.d(t,{cA:()=>O,fM:()=>L,N5:()=>N});var i=n(667294),a=n(991067),o=n(435851),r=n(172071),l=n(31062),s=n(383434),d=n(938085);const c=(0,s.X)("LayoutShiftDebugger"),u=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&u(e.parentNode)||null,p=e=>Math.round(1e3*e);let m=[];const h=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,l.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let a=0;const s=e=>{a=e.timeStamp};window.addEventListener("scroll",s),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",s)}));const h=`${(0,o.Z)(e)}.CLS`,_=()=>(e=>{let t=Object.freeze({}),n=0;m.forEach((({value:e,shift:{sources:i},route:a,hadRecentNavigation:o,hadRecentScroll:r,isAuth:l})=>{if(n+=e,!i||!i.length)return;const s=e/i.length;i.forEach((({node:e})=>{const n=e?u(e)||"ROOT":"NODE_REMOVED",i={route:a,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:r,isAuth:l},d=JSON.stringify(i);t={...t,[d]:{score:((t[d]||{}).score||0)+s,tags:i}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:a}=t[n];r.Z.count(`${e}.shifts`,p(i),1,{...a})})),c("Debug CLS boundaries",n,t,m),m=[]})(h);let g,v,y=0,f=0,b=0;(0,d.kz)((({entries:i,value:o})=>{if(b=o||0,i.length){g=t(),v=n();const r=i[0].startTime,l=y!==r,s=l?i:i.slice(f);l&&(y=r),m=m.concat(s.map((t=>({value:o,shift:t,route:g,hadRecentNavigation:v>0&&v+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated})))),f=i.length}}),!0);const x=setInterval((()=>{if(m.length){_();const t=(e=b)<=.1?"good":e<=.25?"adequate":"poor";r.Z.count(`${h}.${t}`,1,1),i.stop(p(b))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(x),0===b&&i.abort("no_shifts_detected")}))};var _=n(311560),g=n(69028);var v=n(156381);const y=e=>Number(e.toFixed(2)),f={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid"},topic:{LCP:"topic_lcp",FID:"topic_fid"}},b=["CA","GB","DE","FR","AU","JP","BR","MX"],x=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_pin_page_ssr_lite"];default:return[]}},P=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t||"other_profile"===t||"topic"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,l.Jx)({annotateExperiments:x({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:f[t].LCP,pwtStaticContext:e}),i=(0,l.Jx)({name:f[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,{isAuthenticated:i,isBot:a,isSocialBot:s,deviceType:c,country:u,fullPath:p,browserName:m,osName:h}=e,P={},S=(l,d,v)=>{if(!P[l]){P[l]=!0;const y=(0,o.Z)(e),f=`${y}.${t}.${l}`,x=`${y}.tags.${t}.${l}`;let S;if(S="iOS"===h&&"Chrome"===m?"iOS_Chrome":"CrUX","LCPCount"===l)r.Z.count(`${f}.sum`,d,1),r.Z.increment(`${f}.size`,1);else{const e=(0,_.Z)(u),o=(0,g.Z)(p);"FID"===l||"FIDStartTime"===l?(r.Z.timing(`${f}`,d,1),r.Z.timing(`${x}`,d,1,{timingBucket:null==v?void 0:v.timingBucket,isAuth:i,CrUXSegment:S,region:e,..."pin_closeup"===t&&("feedback"===o||"sent"===o||"default"===o)&&{pinType:o}})):(r.Z.timing(`${f}`,d,1),r.Z.timing(`${x}`,d,1,{isAuth:i,CrUXSegment:S,region:e,..."pin_closeup"===t&&("feedback"===o||"sent"===o||"default"===o)&&{pinType:o}})),!i&&b.includes(u)&&(({botType:e,deviceType:t,isChrome:n,region:i})=>{const a=`pwtlogger.${e}.${t}`,o=["all",...i?[i.toLowerCase()]:[]],r=["all",...n?["chrome"]:[]],l=[];return o.forEach((e=>{r.forEach((t=>{l.push(`${a}.region_${e}.browser_${t}`)}))})),l})({botType:(s?"socialBot":a&&"bot")||"nonbot",deviceType:c,isChrome:!0,region:e}).forEach((e=>{r.Z.timing(`${e}.tags.growthSEO.${t}_${l}`,d,1,{country:u})})),n&&n(l,d)}}};(0,d.Tx)((({value:e})=>{const t=(0,v.Af)();let n;n=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",S("FID",y(e),{timingBucket:n}),t&&S("FIDStartTime",y(t),{timingBucket:n})})),(0,d.Tb)((({value:e})=>{S("LCPCount",(0,v.Kj)()),S("LCP",(e=>10*Math.round(e/10))(e))})),(0,d.Y)((({value:e})=>S("FCP",e)))};var S=n(790348);let w=null;const T=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}};var k=n(969853),E=n(543059),I=n(7789),A=n(22773),C=n(276775),R=n(785893);const j=(0,i.createContext)(null),D=(0,i.createContext)(null);function O({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:r}){const s=(0,i.useRef)(null),d=(0,i.useRef)(null),c=(0,i.useRef)(t),u=(0,i.useRef)(!0),{path:p}=(0,C.useRouteMatch)(),m=(0,i.useRef)(p),_=!r.isCachedRender&&(0,a.Z)(r.deviceType);(0,i.useEffect)((()=>{m.current=p}),[p]),(0,i.useEffect)((()=>{if((0,A.X_)({size:n||1e3}),(0,v.UQ)(),(0,S.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,S.A9)(`not_supported.window.performance.${e}`)})):(0,S.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,S.A9)("not_supported.window.PerformanceObserer"),(0,k.v)()||(0,S.A9)("not_supported.grid_profiler"),u.current=!1,_&&!I.is){if(((e,t)=>{let n,i=0,a=0,o=null,r=null,s=null,d=null,c=[];const u=()=>{a+=1,s=window.requestAnimationFrame(u)},p=()=>{if(d){const n=c.some((e=>null!==o&&o-e>0&&o-e<=500)),a=t(),{isAuthenticated:s}=e;if(n){const t=(0,l.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;const n={surface:a,isAuthenticated:s};if(null===o||null===r||0===i)if(null===o&&null===r)t.error("no_duration",n);else if(null==o)w=r,t.error("no_start",n);else if(null==r){let e;e=w&&o-w<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n);else{w=r;const e=r-o,l=e/i;0===l?t.error("zero_value",n):l<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",a,"STRING"),t.addBinaryAnnotation("isAuthenticated",s,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(l))}}else(0,S.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:s,surface:a}})}window.cancelAnimationFrame(s),i=0,a=0,c=[],r=null,o=null,d=null},m=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===d?(d=100*Math.random()<10,d&&(s=window.requestAnimationFrame(u),o=e)):d&&(r=e,i+=a,a=0)},h=({timeStamp:e})=>{c.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,h,{passive:!0,capture:!0})})),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",m),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,h)}))}))})(r,(()=>T(m.current)?T(m.current)||"UNKNOWN_SURFACE":m.current||"UNKNOWN_SURFACE")),"Chrome"===r.browserName){h({staticContext:r,getCurrentRoute:()=>m.current,getLastNavigationTime:()=>d.current||0});const e=T(m.current);e&&P({pwtStaticContext:r,surface:e})}}}),[]);var g,y;if(g=t.pathname,["/advertiser/"].reduce(((e,t)=>g.includes(t)||e),!1)?c.current.pathname!==t.pathname:c.current!==t){c.current=t,d.current=null!==(y=window.performance)&&void 0!==y&&y.now?window.performance.now():null;const{current:e}=d;if(!u.current){const t=!s.current;(0,S.A9)("routeStart",{tags:{action:o}}),(0,A.Eg)(t),(0,v.Ux)(t),(0,v.on)(),(0,E.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,A.LH)();e&&((0,S.A9)("routeStart.customBufferSize",{count:n}),(0,S.A9)("routeStart.defaultBufferSize",{count:i}),s.current={time:e,action:o})}}return(0,R.jsx)(j.Provider,{value:_?r:null,children:(0,R.jsx)(D.Provider,{value:s.current,children:e})})}const L=()=>(0,i.useContext)(D),N=()=>(0,i.useContext)(j)},42447:(e,t,n)=>{n.d(t,{Z:()=>Z});var i=n(667294),a=n(317672),o=n(790348);const r=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var o;const n=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var o;const n=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var l=n(860273),s=n(543059),d=n(607150);const c=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,d.jh)("constraint_",e),...(0,d.jh)("mark_",(0,s.gQ)()),...(0,d.jh)("browser_",{...t?(0,d.D3)(t):{},...(0,d.rX)()})});var u=n(358864),p=n(505771),m=n(156381);const h=(e,t)=>{const{firstInputDelay:n}=(0,m.v2)();return[...e.map((e=>(0,p.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var _=n(435851),g=n(172071);const v=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const o=i.length;if(o>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const r=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),l=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const d=t/5;let c=0;for(;s<=5;){let t=0;for(;c<=o-1&&r[c].fetchStart<=d*s;)c+=1,t+=1;g.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,n),g.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:r[o-1].fetchStart,twentyFivePercentComplete:l[Math.floor(o/4)].responseEnd,fiftyPercentComplete:l[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:l[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:l[o-1].responseEnd};for(const t in u)u[t]&&(g.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),g.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},y=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const o=`${(0,_.Z)(a)}.${i.surface}`,r=[o];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";r.push(`${o}.${e}.${t}`)}));const l={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,m.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},s=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),d=[],c=[],u=[],p=[],h=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),r.forEach((e=>{v({eventPrefix:e,endTime:t,tags:l,resourceArr:s}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:d,resourceType:"image"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:c,resourceType:"css"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:u,resourceType:"scripts"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:p,resourceType:"xhr"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:h,resourceType:"preloadedImage"})}))};var f=n(22773),b=n(453821),x=n(638089);const P=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:o,metricId:r,pwtStaticContext:s,startTime:d,traceId:u,spans:p})=>{const m=(0,f.Cg)();let _;"initial_app_load"===r.navigationType&&(_=(0,l.Z)());const g=o.map((({name:e})=>e)),v=m.map((e=>(0,b.p)(e,g))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:d,endTime:a})));return"board"!==r.surface&&"pin_closeup"!==r.surface||y({annotateExperiments:e,endTime:a,entries:m,metricId:r,pwtStaticContext:s}),{type:"COMPLETE",traceId:u,startTime:d,endTime:a,spans:h(v,u).concat(p),annotationMap:c({constraintMap:i,initialNavTiming:_,annotations:t}),binaryAnnotationMap:(0,x.rA)({annotateExperiments:e,binaryAnnotations:n,entries:m,metricId:r,performanceResources:v,pwtEndTime:a,pwtStaticContext:s})}};let S=!1;const w=(e,t)=>e&&t?S?((0,o.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(S=!0,t):(0,u.Z)();var T=n(558775);const k=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var E=n(985271),I=n(383434),A=n(226464),C=n(567450),R=n(276602),j=n(198462),D=n(785893);const O=["initial_app_load","client_route_push"],L=(0,I.X)("PwtSurface"),N="NavigationComplete",F="VisuallyComplete",M=(e,t)=>{e.isSampled&&(0,T.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},z=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:l},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:m,isSampled:h,spans:_}=e;(0,s.L8)(`PWT_Complete_${(0,A.KJ)(i)}`);const g=w("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=P({annotateExperiments:l,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:a,startTime:p,traceId:g,spans:_});h&&(0,T.Z)({metricId:i,pwtStaticContext:a,result:v});try{r(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,o.H)("image_ratio_check_error",{error:y})}return{...e,result:v,status:"DONE"}})(e,t)}return e},U=(e,t)=>{const{constraint:n,time:i}=t,a=(0,A.KJ)(e.metricConfig.metricId);return E.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(L(`constraint "${n}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(L(`marking constraint "${n}" as complete`),(0,s.ZP)(`constraint_${n}_is_complete`),z({...e,constraintMap:{...e.constraintMap,[n]:i||E.Z.now()}})):(L(`marked constraint "${n}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:a}),e)},B=(e,t)=>{if(L("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&M(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,A.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,o.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,o.A9)(`TIMING.${r}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(s=l.navigator)||void 0===s?void 0:s.userAgent}}),(0,o.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(d=window)||void 0===d||null===(c=d.navigator)||void 0===c?void 0:c.userAgent},sampleRate:.5})):((0,o.A9)(`TIMING.${r}`),(0,o.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),U({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:N}));var l,s,d,c})(e,t.payload);if("TIMING"!==e.status)return L(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":M(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!E.Z)return e;const a=E.Z.now();return L(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:r,value:l,annotationType:s}=t.payload;return L(`adding binary annotation {${r}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:l,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return U(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!E.Z){const t=(0,A.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}L(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return z({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!E.Z){const t=(0,A.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}L(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){M(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return U({...e,imageTimings:n},{constraint:F,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:c,startTime:p,endTime:m,annotations:h,binaryAnnotations:_,parentId:g}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,u.Z)(),startTime:p||d,endTime:m,annotationMap:{...h},binaryAnnotationMap:{..._},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:E.Z?E.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const v=e.spans.findIndex((e=>e.name===t.payload.name));return v>-1?(e.spans[v].endTime=E.Z?E.Z.now():0,t.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,A.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:y}),e}};function Z({children:e,...t}){var n;const a=(0,j.fM)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth","web_duplo_default",...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],s={...t,annotateExperiments:l,navigationInfo:{navigationType:r,clientNavigation:a}},{context:d}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:a,annotateExperiments:o,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:l,navigationType:s},sampleRate:d})=>{const c=(0,i.useRef)("NOT_SET"),u=(0,j.N5)(),{getState:p,dispatch:m}=k(B,{status:"DISABLED",metricConfig:null});if(c.current!==l&&(c.current=l,u)){const{isAuthenticated:i}=u,c=r||O,p=e&&s&&c.includes(s)?{metricId:{type:"surface",surface:e,navigationType:s,isAuthenticated:i,segment:n},annotateExperiments:o,constraints:[N,...t||[],...a?[F]:[]],pwtStaticContext:u}:null;m({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:l?l.time:0,isSampled:!d||Math.random()<d}})}const h=p();if((0,i.useEffect)((()=>{const e=e=>{m({type:"ABORT",reason:e})};C.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{const n=p();L("handling unmount",n),"TIMING"===n.status&&M(n,"unmount"),C.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),"TIMING"!==h.status||!h.constraintMap.NavigationComplete)return{state:h,context:null};const{startTime:_,metricConfig:g}=h;return{state:h,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},o=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o}}),getId:()=>_,getMetricId:()=>g.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:E.Z?E.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:g.constraints.includes(F)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(s);return(()=>{const e=(0,R.EV)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,A.KJ)(t):null;(0,o.H)("nested_pwt_surface",{action:n})}}),[t])})(),(0,D.jsx)(R.Sb,{value:d,children:e})}},276602:(e,t,n)=>{n.d(t,{EV:()=>r,Sb:()=>o,gD:()=>a});var i=n(425288);const{Consumer:a,Provider:o,useMaybeHook:r}=(0,i.Z)("pwtSurfaceContext")},991067:(e,t,n)=>{n.d(t,{Z:()=>r});const i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var a=n(985271),o=n(969853);function r(e){return!("desktop"===e&&!i())&&(!!a.Z&&(0,o.v)())}},7789:(e,t,n)=>{n.d(t,{DQ:()=>o,eD:()=>i,is:()=>a});const i=window.location.search.includes("debug_tracing"),a=window.location.search.includes("debug_lab_tracing"),o=i||a},226464:(e,t,n)=>{n.d(t,{KJ:()=>c,Rp:()=>d});const i={id:14,name:"own_profile"},a={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},product_details:{id:120,name:"product_details_interactive"},product_details_plus:{id:121,name:"product_details_plus_interactive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},product_details:{id:37,name:"product_details_render"},product_details_plus:{id:38,name:"product_details_plus_render"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},own_profile:i,other_profile:a}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:a,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},product_details:{id:37,name:"product_details_render"},product_details_plus:{id:38,name:"product_details_plus_render"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"}}}},r={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},l={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{var t,n;const{navigationType:i,isAuthenticated:a,segment:l,surface:s}=e,d=a?"auth":"unauth",c=null===(t=r[i])||void 0===t||null===(n=t[d])||void 0===n?void 0:n[s];return l&&c&&c[l]||o[i][d][s]},d=e=>{if("stopwatch"===e.type)return l[e.name]||null;const t=s(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,o=n?"auth":"unauth",r=s(e);return r?r.name:`${t}_${o}_${a}${i?"_"+i:""}`}},383434:(e,t,n)=>{n.d(t,{X:()=>o,v:()=>a});var i=n(7789);const a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},317254:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(969853),a=n(667294),o=n(276602),r=n(543059);var l=n(198462);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,l.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,o.EV)(),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(s),e}},317672:(e,t,n)=>{n.d(t,{F9:()=>c,LM:()=>s,VZ:()=>o,cQ:()=>u,rZ:()=>r});var i=n(790348),a=n(91885);const o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(a.wc).length:((0,i.H)("missing_document_query_selector"),0),d=(e,t)=>{const n=r(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=l(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const a=e+i;if(a>=n)return!1;const o=Math.min(t,n-a);return o>.5*t||o>.2*n})(n,t)},c=()=>{const e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(a.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];const o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[a.Wf,...e?[a.fF]:[],...t?[a.$N]:[]].join(","),s=[...document.querySelectorAll(r)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?s.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return s.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&d(n,o)){const t=l(n);if(t){const i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e}),[])}},91885:(e,t,n)=>{n.d(t,{$N:()=>s,Kb:()=>i,Wf:()=>r,fF:()=>l,wc:()=>o});const i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],o=a.join(","),r=a.map((e=>`${e} img`)).join(","),l=a.map((e=>`${e} div[style*=background-image]`)).join(","),s=a.map((e=>`${e} video`)).join(",")},969853:(e,t,n)=>{n.d(t,{Z:()=>h,v:()=>m});var i=n(667294),a=n(543059),o=n(35954),r=n(226464),l=n(22773),s=n(790348),d=n(276602),c=n(317672),u=n(383434);const p=(0,u.X)("GridProfiler"),m=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,c.VZ)();function h({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:m=!1,includeSections:h}){const _=(0,d.EV)(),g=null==_?void 0:_.getId(),v=null==_?void 0:_.setVisuallyCompleteResult,[y,f]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{f(v?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[g,v]),(0,i.useEffect)((()=>{if("DISABLED"!==y.status&&(0,a.ZP)(`GridVisuallyCompleteProfiler_${y.status}`),p("new status",y),"LAYOUT"===y.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,a.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[y.status]),(0,o.Z)((()=>{if(!_||!v)return;const{abort:i,getMetricId:a}=_,o=a();switch(y.status){case"LAYOUT":{const t=((e,t)=>{if(!t){const t=(0,c.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,c.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(y.numOfItemsChecked,e);t.complete?f({status:"TIMING",failedCount:0,pinElements:(0,c.cQ)(n,m,h)}):500*y.failedCount>6e4?((0,s.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),f({status:"DISABLED"})):f({...y,failedCount:y.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,l.Cg)(),n=y.pinElements.length,a=[];let d=0,c=0,m=0;if(y.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(a.push(i),(0,u.v)(t,"green")):(m+=1,(0,u.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(c+=1,(0,u.v)(t,"red")):(d+=1,(0,u.v)(t,"greenyellow"))})),d||m)100*y.failedCount>6e4?((0,s.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:d,noTimingCount:c,noTimingResponseEndCount:m}}),i("visuallyComplete_timingTimeout"),f({status:"DISABLED"})):f({...y,failedCount:y.failedCount+1});else{if(p(`All ${a.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,i=0,a=0,o=0,r=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,l)=>{var s,d,c,u,p,m;const h=t.fileName.split(".")[0];let _;_=e[l],h!==(null===(s=_)||void 0===s?void 0:s.image_signature)&&(_=e.find((e=>h===(null==e?void 0:e.image_signature)))),void 0===_?r+=1:_.is_promoted||"PROMOTED_PIN"===(null===(d=_.recommendation_reason)||void 0===d?void 0:d.reason)||null!==(c=_)&&void 0!==c&&null!==(u=c.promoter)&&void 0!==u&&u.length?a+=1:null!==_.story_pin_data_id&&void 0!==_.story_pin_data_id?n+=1:null!==(p=_)&&void 0!==p&&null!==(m=p.videos)&&void 0!==m&&m.video_list?i+=1:o+=1})),{storyPinCount:n,videoCount:i,adCount:a,imageCount:o,unknownCount:r}})(t,y.pinElements);Object.entries(e).forEach((([e,t])=>{_.addBinaryAnnotation(e,t,"I16")})),(0,s.A9)(`${(0,r.KJ)(o)}.pinTypes`,{tags:e})}v({imageTimings:a}),f({status:"DISABLED"}),(0,s.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:c}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(y))}},790348:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>c,H:()=>m,S$:()=>h,iF:()=>u});var i=n(172071),a=n(383434),o=n(50286),r=n(7789);const l=(0,a.X)("logPwtStats");let s=null,d=!0;function c(e){s={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,o.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{s&&(s.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const a=r.DQ?1:t.sampleRate;if(!s)return l("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",a,{eventName:e});const{browserName:o,browserVersion:d,deviceType:c,isBot:u,isSocialBot:p}=s,m=`pwt.${(p?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${c}.${e}`,h={...t.tags||{},browserName:o,browserVersion:(null==d?void 0:d.split(".")[0])||"0"},_=t.count;n&&(l(`${m}: ${"number"==typeof _?_:1}`),t.tags&&l(Object.entries(t.tags))),r.is||i.Z.count(m,"number"==typeof _?_:1,a,h)},m=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),h=({appLoadName:e,clientNavName:t},n)=>{if(s){const i="APP_VOLUME.";d?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),d=!1):"PUSH"===s.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},543059:(e,t,n)=>{n.d(t,{Ao:()=>s,BA:()=>d,L8:()=>u,ZP:()=>p,at:()=>a,gQ:()=>l,tl:()=>c});var i=n(985271);const a="masonryPagination";let o={};const r=e=>` ${e}`,l=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},s=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,d=(e,t)=>s(e,t)>0,c=()=>{i.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=r(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),o={}},u=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t,n,i)=>{const a=r(t);e.measure(a,n,i)})(i.Z,e))},p=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=r(t);e.mark(n)})(i.Z,e))}},528961:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>a,qr:()=>l,sk:()=>r});const i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),l=e=>({type:"BOOL",value:e})},607150:(e,t,n)=>{n.d(t,{D3:()=>o,Hd:()=>s,jh:()=>l,rX:()=>r});var i=n(672115),a=n(156381);const o=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,a.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},l=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),s=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},638089:(e,t,n)=>{n.d(t,{ng:()=>v,rA:()=>f});var i=n(602738),a=n(226464),o=n(22773),r=n(156381),l=n(543059),s=n(528961);const d=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,s.sk)(t(n))})),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),m=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),a=u(t.map((e=>e.responseEnd-e.responseStart))),o=n+i+a,r=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,s.cC)((l=r,Number(Number(l/1024).toFixed(3)))),"duration.all":(0,s.cC)(o),"duration.requestStartToResponseStart":(0,s.cC)(i),"duration.responseStartToResponseEnd":(0,s.cC)(a),"duration.startToRequestStart":(0,s.cC)(n)};var l},h=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...m(t),"count.completed":(0,s.cC)(t.length)}:{},"count.all":(0,s.cC)(e.length)}},_=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:a,startTime:o}=e[0].timing,r=a||o;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach((e=>{const{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));const{requestStart:o,startTime:r,responseEnd:l}=a,s=o||r;t.forEach((e=>{const{start:t,end:i}=n[e];(s>=t&&s<i||s<t&&l>t)&&(n[e].count+=1)}))}))}const a={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,s.cC)(n[t].count)}),{}))};return{...Object.keys(i).reduce(((e,t)=>({...e,...p(`resource.${t}.`,h(i[t]))})),a)}},g=(e,t,n)=>{var r;const{devicePixelRatio:l,navigator:d,innerWidth:u,innerHeight:p,performance:m}=window,{deviceMemory:h,hardwareConcurrency:_,platform:g,userAgent:v,connection:y}=d,{memory:f}=m,{appType:b,appVersion:x,browserName:P,browserVersion:S,deviceType:w,isAppShell:T,isAuthenticated:k,isBot:E,isSocialBot:I,locale:A,osName:C,stageName:R}=t,j="desktop"===w?b||5:b||6;let D;const{navigationType:O}=e;let L=null;if("initial_app_load"===O){var N;D=1;const e=null===(N=(0,i.Z)("navigation")[0])||void 0===N?void 0:N.transferSize;L=e?parseFloat((.001*e).toFixed(1)):null}else D=4;return{"app.type":(0,s.jy)(j),"app.version":(0,s.sk)(x),"browser.name":(0,s.sk)(P),"browser.version":(0,s.sk)(S),"cpu.speed":(0,s.jy)(_),"device.memory":(0,s.jy)(h),"device.type":(0,s.jy)(0),"device.typeName":(0,s.sk)(w),"device.version":(0,s.sk)("unknown"),"pwt.cause":(0,s.jy)(D),"net.effectiveType":(0,s.sk)((null==y?void 0:y.effectiveType)||null),"net.downlink":(0,s.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.downlink)),"net.downlinkMax":(0,s.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.downlinkMax)),"net.rtt":(0,s.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.rtt)),"net.speed":(0,s.cC)((0,o.Hv)(n,!1)),"pwt.result":(0,s.jy)(1),"view.type":(0,s.cC)(0),"viewport.height":(0,s.cC)(p||0),"viewport.width":(0,s.cC)(u||0),devicePixelRatio:(0,s.cC)(l||0),isAppShell:(0,s.qr)(T),isAuthenticated:(0,s.qr)(k),isBot:(0,s.qr)(E),isSocialBot:(0,s.qr)(I),locale:(0,s.sk)(A),osName:(0,s.sk)(C),...null!==L&&{htmlResponseSize:(0,s.cC)(L)},nextHopProtocol:(0,s.sk)((null===(r=(0,i.Z)("navigation")[0])||void 0===r?void 0:r.nextHopProtocol)||null),platform:(0,s.sk)(g||null),profilerVersion:(0,s.sk)("3"),pwtActionName:(0,s.jy)((0,a.Rp)(e)),stageName:(0,s.sk)(R),userAgent:(0,s.sk)(v),usedJSHeapSize:(0,s.cC)((null==f?void 0:f.usedJSHeapSize)||0),totalJSHeapSize:(0,s.cC)((null==f?void 0:f.totalJSHeapSize)||0),jsHeapSizeLimit:(0,s.cC)((null==f?void 0:f.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...d(e,n.getExperimentGroup),...g(t,n,a),...i,stopwatchVersion:(0,s.jy)(1)}),y=(e,t)=>{var n;const{navigator:i}=window,{serviceWorker:a}=i,{surface:o,navigationType:d,isAuthenticated:c}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:m}=(0,r.v2)();return{...m.length?{"longTask.count":(0,s.cC)(m.length),"longTask.maxDuration":(0,s.cC)(Math.max(...m)),"longTask.totalDuration":(0,s.cC)(u(m))}:{},cumulativeLayoutShiftScore:(0,s.cC)(100*p),"masonry.paginationMarkCount":(0,s.cC)((0,l.Ao)(l.at,t)),"metricId.isAuthenticated":(0,s.qr)(c),"metricId.navigationType":(0,s.sk)(d),"metricId.surface":(0,s.sk)(o),resourceBufferClearedCount:(0,s.jy)((0,l.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,s.qr)((0,l.BA)("scrollDuringLayout",t)),serviceWorker:(0,s.qr)(a?!!a.controller:null),serviceWorkerState:(0,s.sk)((null==a||null===(n=a.controller)||void 0===n?void 0:n.state)||null)}},f=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:o,pwtStaticContext:r})=>({...t,..._(a),...d(e,r.getExperimentGroup),...g(i,r,n),...y(i,o)})},860273:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(985271);const a=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},453821:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>r});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},a=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),r=(e,t)=>{const n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&a(r),isExternal:o(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},558775:(e,t,n)=>{n.d(t,{Z:()=>x});let i=null;const a=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i);var o=n(176532),r=n(7789),l=n(383434),s=n(226464),d=n(790348),c=n(860273),u=n(358864),p=n(602738),m=n(528961);const h=(e,t)=>Object.keys(e).reduce(((n,i)=>{const a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n}),{}),_=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:h(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:a,type:o}=i;return null==a?e:e.concat({name:t,value:a,annotation_type:o})}),[]))};var n},g=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,id:r}),v=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),y=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let o=_({span:g(t,n),timeOrigin:i}),r=null;return a&&(o=y(o,a),r=((e,t,n)=>{var i;const a=(0,c.Z)();return(null==a?void 0:a.responseEnd)?y(_({span:{name:"html",startTime:0,endTime:(null==a?void 0:a.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,m.sk)((null===(i=(0,p.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null})(a,e,i)),{trace_id:e,spans:[o,...r?[r]:[],...n.spans.map((e=>_({span:e,timeOrigin:i})))]}},b=(0,l.X)("reportResult");function x({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{serverData:l}=t,c=(0,s.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,m=void 0!==i&&{tags:{isAuth:i}}||void 0;if((0,d.A9)(n.reason?u.concat(`.${n.reason}`):u,m),(0,d.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type)return void b(`Abort metric ${c}`,n);const h=null!==(_=window.performance)&&void 0!==_&&_.now?Date.now()-window.performance.now():"unknown";var _,g;if("unknown"===h)return b(`Unable to convert to absolute times for ${c} due to missing time origin`),void(0,d.A9)(`missingTimeOrigin.${c}`,m);if(r.is&&(window.PWT_LAB_DATA=a(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!r.is){const i=e.navigationType&&"initial_app_load"===e.navigationType,a=n.traceId,s=f({traceId:a,actionName:c,result:n,timeOrigin:h,serverDataToJoin:i&&l||null});(0,o.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(s),report_context:JSON.stringify((g=t,{debugTrace:r.eD,locale:g.locale,stageName:g.stageName}))}}),b(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${a.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},672115:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},505771:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(358864),a=n(672115),o=n(528961);const r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function l(e,t){const{category:n,timing:l,isDeferred:s,isExternal:d,isVisuallyCompleteRequired:c}=e;return l.responseEnd&&("image"!==n||c)?{name:r(e),id:(0,i.Z)(),parentId:t,startTime:l.startTime,endTime:l.responseEnd,annotationMap:(0,a.Z)(l),binaryAnnotationMap:{category:(0,o.sk)(n),decodedBodySize:(0,o.cC)(l.decodedBodySize||0),initiatorType:(0,o.sk)(l.initiatorType),isDeferred:(0,o.qr)(s),isExternal:(0,o.qr)(d),name:(0,o.sk)(l.name),nextHopProtocol:(0,o.sk)(l.nextHopProtocol),transferSize:(0,o.cC)(l.transferSize||0)}}:null}},31062:(e,t,n)=>{n.d(t,{ku:()=>T,Jx:()=>P,PY:()=>w});var i=n(860273),a=n(156381);const o=()=>(0,a.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var r=n(672115),l=n(607150),s=n(22773),d=n(464609);const c=e=>{switch(e){case"pin_closeup":{const e=(0,d.Z)();return(e=>{const t=(0,s.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,l.jh)(`${n}${i?"_dupe1":""}_`,(0,r.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}};var u=n(169213),p=n(358864),m=n(558775),h=n(505771),_=n(383434),g=n(543059),v=n(453821),y=n(638089),f=n(790348);const b=(0,_.X)("LightStopwatch"),x={},P=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:a,pwtStaticContext:r})=>{const s=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,u.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let d=!0,_={};(0,f.A9)(`TIMING.${a}`,{tags:{isAuth:r.isAuthenticated}});const P={type:"stopwatch",name:a,navigationType:"initial_app_load"},S={abort:e=>{d?(d=!1,(0,m.Z)({metricId:P,pwtStaticContext:r,result:{type:"ABORT",reason:e}})):(0,f.H)("duplicate_abort_action",{action:a})},error:(e,t)=>{const n={...t,action:a};d?(e&&(0,f.H)(e,n),s&&s.disconnect(),d=!1):(0,f.H)("duplicate_error_action",n)},stop:u=>{if(!d)return void(0,f.H)("duplicate_stop_action",{action:a});d=!1,s.disconnect();const b=(0,p.Z)(),x=(0,i.Z)(),S=s.get(),w={type:"COMPLETE",traceId:(0,p.Z)(),startTime:0,endTime:u,spans:[{name:"network_resources",id:b,startTime:0,endTime:u,annotationMap:{},binaryAnnotationMap:{},parentId:null},...S.map((e=>(0,h.Z)((0,v.p)(e,[]),b))).filter(Boolean)],annotationMap:{...(0,l.jh)("resource_",n?c(n):{}),...(0,l.jh)("element_",o()),...(0,l.jh)("mark_",t&&t.length?(0,l.Hd)((0,g.gQ)(),t):{}),...(0,l.jh)("browser_",x?(0,l.D3)(x):{})},binaryAnnotationMap:(0,y.ng)({annotateExperiments:e,metricId:P,pwtStaticContext:r,performanceResourceTimings:S,binaryAnnotations:_})};(0,m.Z)({metricId:P,pwtStaticContext:r,result:w,isAuth:r.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{b(`adding binary annotation {${e}: ${String(t)}}`),_={..._,[e]:{value:t,type:n}}}};return x[a]=S,S},S=e=>x[e],w=e=>!!S(e),T=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const a=S(e);a&&a.addBinaryAnnotation(t,n,i)}},156381:(e,t,n)=>{n.d(t,{Af:()=>g,Bn:()=>h,Kj:()=>p,PJ:()=>s,UQ:()=>v,Ux:()=>d,on:()=>r,v2:()=>c});var i=n(581341),a=n(169213);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},r=()=>{o.longTaskDurations=[]},l=(0,i.Z)((()=>o.elementTimings)),s=()=>l.get(),d=e=>{e&&l.save(),o.elementTimings=[]},c=()=>o;let u=0;const p=()=>u;let m;const h=()=>m;let _;const g=()=>_,v=()=>{(0,a.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,a.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>r())),(0,a.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},_=o.firstInputDelay.startTime),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null,m=i.renderTime||i.loadTime||null)})),(0,a.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},311560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},581341:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},435851:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`}},69028:(e,t,n)=>{function i(e){return e.split("/")[3]||"default"}n.d(t,{Z:()=>i})},169213:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},464609:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>i});const i="closeupImage",a=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},358864:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},22773:(e,t,n)=>{n.d(t,{Cg:()=>_,Eg:()=>v,Hv:()=>f,LH:()=>y,MM:()=>b,X_:()=>p,y0:()=>g});var i=n(581341),a=n(169213),o=n(543059),r=n(602738),l=n(7789),s=n(453821),d=n(790348);let c;function u(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),l.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,d.A9)("resourceBufferSize",{count:(0,r.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(c=(0,r.Z)("resource"),(0,a.Z)({entryTypes:["resource"]},(t=>{c=(c||[]).concat(t.getEntries()),c.length>e&&(c=c.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,r.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{c||u()}}catch(t){}}},m=()=>c||(0,r.Z)("resource"),h=(0,i.Z)(m),_=m,g=()=>h.get(),v=e=>{e&&h.save(),c&&((0,d.A9)("customBufferSize",{count:c.length}),c=[]),u()},y=()=>({customBufferSize:c?c.length:0,defaultBufferSize:(0,r.Z)("resource").length}),f=(e,t=!0)=>{let n=0,i=0;const a=(o=e.filter((e=>t?!("image"!==(0,s.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?o.reduce(((e,t)=>e+t),0)/o.length:null;var o;return t&&(n>0&&(0,d.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,d.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),a},b=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},602738:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},985271:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(a=window.performance)&&a.clearMarks&&a.clearMeasures&&a.clearResourceTimings&&a.getEntries&&a.getEntriesByName&&a.getEntriesByType&&a.mark&&a.measure&&a.now&&a.setResourceTimingBufferSize?a:null;var a},561195:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>l});var i=n(667294),a=n(883119),o=n(785893);const r=({fill:e,width:t,color:n})=>{const r="half"===e?(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.xu,{position:"absolute",children:(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function l({max_rating:e,rating:t,width:n,color:a}){const l=[],s=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(s))return null;const d=Math.floor(s),c=s-d;return[...Array(d).keys()].forEach((e=>l.push((0,o.jsx)(r,{color:a,fill:"full",width:n},e)))),c>=.75?l.push((0,o.jsx)(r,{color:a,fill:"full",width:n},l.length)):c>=.25&&l.push((0,o.jsx)(r,{color:a,fill:"half",width:n},l.length)),[...Array(5-l.length).keys()].forEach((()=>l.push((0,o.jsx)(r,{color:a,fill:"empty",width:n},l.length)))),(0,o.jsx)(i.Fragment,{children:l})}},923297:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>a})},886858:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>o});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(a).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],a=i.splice(t,1)[0];return i.splice(n,0,a),i}n.d(t,{Z:()=>i})},505920:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>m});var i=n(667294),a=(n(702664),n(214494)),o=n(425288),r=n(785893);function l(e,t,n){var i;const a=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],o={...t};return o[e]={...t[e],[n.payload.name]:a},o}function s(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}const{Provider:d,useHook:c}=(0,o.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},o]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return l("listeners",e,t);case"addMoreListener":return l("moreListeners",e,t);case"removeListener":return s("listeners",e,t);case"removeMoreListener":return s("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:a,options:n,schema:r,resource:e,response:i})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{n[e]&&n[e].forEach((n=>n({isRefresh:o,normalizedResponse:a,options:t,schema:r,resource:e,response:i})))};const c=(0,i.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(d,{value:c,children:e})}function p(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function m(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},813171:(e,t,n)=>{n.d(t,{Z:()=>i});class i extends Error{constructor(...e){var t,n,i;super(...e),i="ServerResourceError",(n="name")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static fromPlainObject(e,t){const n=new i;return e.message&&(n.message=e.message),e.message_detail&&(n.message_detail=e.message_detail),e.original_message&&(n.original_message=e.original_message),e.code&&(n.code=e.code),e.http_status&&(n.http_status=e.http_status),e.api_error_code&&(n.api_error_code=e.api_error_code),e.stack_trace&&(n.stack_trace=e.stack_trace),e.extra_data&&(n.extra_data=e.extra_data),e.request_identifier&&(n.request_identifier=e.request_identifier),t&&(n.data=t),n}toString(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}},248327:(e,t,n)=>{n.d(t,{U:()=>u,b:()=>p});var i=n(886858),a=n(214494),o=n(414327),r=n(718368),l=n(483025),s=n(782677);function d({data:e,opts:{bookmark:t,options:n,schema:i},resource:a}){const o=((e,{bookmark:t,options:n,schema:i})=>{const a=i||l.Z[e];return"function"==typeof a?a({resource:e,options:n,bookmark:t}):a})(a,{bookmark:t,options:n,schema:i});return{normalizedResponse:o&&e?(0,s.Fv)(e,o):null,resourceSchema:o}}function c({fetchOptions:e,resource:t,retry:n}){return(l,s)=>{var u,p,m;const{bookmark:h,headers:_,options:g,refresh:v,schema:y}=e,f=(0,i.Z)(g);if(null!==(u=s().resources)&&void 0!==u&&null!==(p=u[t])&&void 0!==p&&null!==(m=p[f])&&void 0!==m&&m.fetching&&!n)return Promise.resolve();const b=n?n.bookmark:h,x=b?{...g,bookmarks:[b]}:g;return l((0,o.LQ)(t,g,!0)),a.Z.create(t,x).callGet(void 0,_).then((i=>{var s;const u=null===(s=i.resource_response)||void 0===s?void 0:s.data,[p]=i.bookmarks||[];if(Array.isArray(u)&&0===u.length&&p&&p!==r.q){const i=n?n.count:0;if(!(i>=r.s))return l(c({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:p}}))}!function(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}(t,u);const{normalizedResponse:m,resourceSchema:_}=d({data:u,opts:{bookmark:h,options:g,schema:y},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return h?(l((0,o.Dm)(t,g,i,m,_)),a.Z.fetchMoreCompleteCallback&&a.Z.fetchMoreCompleteCallback({resource:t,options:g,response:i,normalizedResponse:m,refresh:v,resourceSchema:_})):(l((0,o.Sr)(t,g,i,m,v,_)),a.Z.fetchCompleteCallback&&a.Z.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:m,refresh:v,resourceSchema:_})),Promise.resolve()}),(e=>{l((0,o.Tl)(t,g,e))}))}}const u=(e,{bookmark:t,headers:n,options:i,schema:a})=>c({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a}}),p=(e,{headers:t,options:n,schema:i})=>c({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},387246:(e,t,n)=>{n.d(t,{Z:()=>a});const i=["bookmark","code","data","endpoint_name","error","http_status","message","status"];function a(e){const t={};return Object.keys(e).filter((e=>!i.includes(e))).forEach((n=>{t[n]=e[n]})),t}},718368:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>a});const i="-end-",a=10},176843:(e,t,n)=>{function i(e,t){let n;if(e.error){const{httpStatus:i,api_error_code:a,redirectUrl:o}=e.error;if(404===i||401===i&&7===a){n={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===i&&o&&(n={pathname:o})}return n}n.d(t,{Z:()=>i})},204088:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(704115),a=n(826067),o=n(314880);function r({experimentHash:e,windowIsInFocus:t}){try{const n={"X-Pinterest-AppState":t?"active":"background"};e&&(n["X-Pinterest-ExperimentHash"]=e);const r=(0,i.Z)();r.force_country&&(n["X-Force-Country"]=r.force_country);const l=(0,a.JJ)();if(l&&(n["X-Pinterest-Source-Url"]=l),"undefined"!=typeof window){const e=(0,o.H)();e&&(n["X-Pinterest-PWS-Handler"]=e)}return n}catch(n){return{}}}},338739:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>a,aW:()=>l,cR:()=>o,se:()=>s,zP:()=>r});const i="CREATE_COMPLETE",a="FETCHING",o="FETCH_ERROR",r="FETCH_COMPLETE",l="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},414327:(e,t,n)=>{n.d(t,{Dm:()=>s,LQ:()=>o,Sr:()=>l,Tl:()=>r,XM:()=>a,jB:()=>d});var i=n(338739);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function o(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function l(e,t,n,a,o,r){return{type:i.zP,payload:{isRefresh:o,normalizedResponse:a,options:t,resource:e,response:n,schema:r}}}function s(e,t,n,a,o){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:o}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(702664),o=n(886858),r=n(718368),l=n(276775),s=n(780280),d=n(248327);const c={};function u(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:m,options:h,schema:_}=null!=e?e:{name:"DisabledResource",options:null},g=!e,v=(0,a.useDispatch)(),y=(0,o.Z)(h),f=(0,i.useRef)(null),b=(0,i.useRef)(),x=(0,l.useHistory)(),P=x&&"POP"!==x.action,S=e=>(e[p]||c)[y]||c,w=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>S(e).data)),k=(0,a.useSelector)((({resources:e})=>S(e).auxData)),E=(0,a.useSelector)((({resources:e})=>S(e).error)),I=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),A=Boolean(E)||void 0!==T,C=A&&!I&&w===r.q,R=Boolean(A&&t&&P&&!g),[j,D]=(0,i.useState)(R),O=(0,i.useCallback)((e=>{f.current=v((0,d.U)(p,{options:h,schema:_,bookmark:e,headers:u}))}),[v,p,y,_,u]),L=()=>{f.current=v((0,d.b)(p,{options:h,schema:_,headers:u}))},{isBot:N}=(0,s.B)(),F=()=>{if(!g&&b.current!==y){const e=void 0===b.current;b.current=y,!A&&!I||e&&E&&(({httpStatus:e})=>!e||e>=500)(E)?O():(!N&&m||R)&&L()}};(0,i.useEffect)((()=>{n||F()})),n&&F();const M=(0,i.useCallback)((()=>{g||(L(),D(!0))}),[g,d.b,p,y,u,D]),z=(0,i.useCallback)((()=>{!w||C||I||g||O(w)}),[g,O,w,C,I]);if(f.current)if(A&&!I)f.current=null;else if(n)throw f.current;const U=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:M}),B={auxData:k,data:T,error:E,fetchMore:z,isAtEnd:C,isFetching:I,isLoaded:A,isRefreshing:j,nextBookmark:w,refresh:M};return(0,a.shallowEqual)(B,U.current)||(!j||!U.current.data&&R||(0,a.shallowEqual)(B.data,U.current.data)||(B.isRefreshing=!1,D(!1)),U.current=B),U.current}},989726:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(176843),a=n(784590),o=n(19121),r=n(53987),l=n(276775);function s(e){const t=(0,l.useHistory)(),n=(0,l.useLocation)(),{isAuth:s}=(0,o.Z)(),d=!s&&(0,r.L6)(n),c=(0,a.Z)(e),u=(0,i.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},817656:(e,t,n)=>{n.d(t,{AB:()=>i,Ej:()=>a,Sf:()=>o});const i=412,a=429,o=500},555069:(e,t,n)=>{n.d(t,{Z:()=>le});var i=n(667294),a=n(992750),o=n(428258),r=n(867820),l=n(736688);const s=e=>{const t=Math.floor(e/1e3);return t>=0?t:0},d=e=>e>=30,c=e=>e?new Date(Date.parse(e)).toISOString():(new Date).toISOString();function u({origin:e,pathname:t},n,i,a,o,r,d){const{full_canonical_url:u}=null!=n?n:{},p=u||`${e}${t}`,m=i.title||"",h=i.seo_title||"",_=i.description||"",{fallbackTitle:g,fallbackDescription:v}=(0,l.fP)("video",m,r),{title:y,description:f}=(0,l.dn)(n,m,_,g,v,h),b=(x=a.duration||0,`PT${s(x||0)}S`);var x;const P=a.url||"",S=c(i.created_at);let w;return d&&(w={"@type":"SeekToAction",target:`${p}?t={seek_to_second_number}`,"startOffset-input":"required name=seek_to_second_number"}),{"@type":"VideoObject","@context":"http://schema.org/","@id":p,name:y,description:f,caption:o||f,thumbnailUrl:a.thumbnail||"",uploadDate:S,duration:b||void 0,contentUrl:P,potentialAction:w}}const p=({origin:e,pathname:t},n,i,a,o,r)=>{let p;if(a){const a=(e=>{var t,n;const i=e.videos&&(null===(t=e.videos.video_list)||void 0===t?void 0:t.V_720P),a=e.videos&&(null===(n=e.videos.video_list)||void 0===n?void 0:n.V_HLSV4);return i||a})(i);if(a){const o=s(a.duration||0);p=u({origin:e,pathname:t},n,i,a,"",r,d(o))}else p=function({origin:e,pathname:t},n,i,a){var o,r,s;const{full_canonical_url:d}=null!=n?n:{},u=d||`${e}${t}`,p=i.title||"",m=i.description||"",h=i.seo_title||"",{fallbackTitle:_,fallbackDescription:g}=(0,l.fP)("video",p,a),v=c(i.created_at),y=null===(o=i.embed)||void 0===o?void 0:o.src,f=(null===(r=i.images)||void 0===r||null===(s=r.orig)||void 0===s?void 0:s.url)||"",{title:b,description:x}=(0,l.dn)(n,p,m,_,g,h);return b&&x&&y&&f?{"@type":"VideoObject","@context":"http://schema.org/","@id":u,name:b,description:x,thumbnailUrl:f,uploadDate:v,embedUrl:y}:null}({origin:e,pathname:t},n,i,r)}else{const a=A(o);a&&(p=u({origin:e,pathname:t},n,i,a,"",r,!1))}return{videoJsonData:p}},m=[0,1,9],h=[...m,5],_=[...m,6],g=e=>7===e.block_type,v=(e,t)=>!(!g(e)||!(e.blocks||[]).find((e=>t.includes(e.block_type)))),y=e=>!(!g(e)||!e.heading),f=e=>e.reduce(((e,t)=>[...e,...(t.blocks||[]).filter((e=>3===e.block_type&&!!e.video)).map((e=>(0,o.Z)(e.video)))]),[]),b=e=>e.filter((e=>2!==e.layout)),x=(e,t)=>(e||[]).filter((e=>0!==e.layout&&(e.blocks||[]).length)).find((e=>(e.blocks||[]).find((e=>e&&t.includes(e.block_type)))));function P(e,t){var n,i,o,l,s;if(1!==(null===(n=t.metadata)||void 0===n?void 0:n.template_type))return!1;const d=!!(0,a.RC)({storyPinDataMetadataPinTitle:null===(i=t.metadata)||void 0===i?void 0:i.pin_title,pinTitle:e}),c=!!t.metadata,u=!(null===(o=t.metadata)||void 0===o||null===(l=o.basics)||void 0===l||null===(s=l.list_blocks)||void 0===s||!s.find((e=>v(e,h)||y(e)))),p=!!x(t.pages,m),_=b(t.pages||[]),g=d&&c&&(u||p);return(({isEligible:e,hasTitle:t,hasMetadata:n,hasIngredients:i,hasInstructions:a,hasNativeCreator:o,validPages:l,validVideos:s})=>{(0,r.My)("closeup_main_pin.leaf_snippet.is_story_recipe",{isEligible:e,validPages:l.length,validVideos:s.length,hasTitle:t,hasMetadata:n,hasIngredients:i,hasInstructions:a,hasNativeCreator:o,isGuidedRecipe:i&&a})})({isEligible:g,validPages:_,validVideos:f(_),hasTitle:d,hasMetadata:c,hasIngredients:u,hasInstructions:p,hasNativeCreator:"N/A"}),g}const S=e=>{var t;return(null!==(t=e.pages)&&void 0!==t?t:[]).filter((e=>{var t;const n=null!==(t=e.blocks)&&void 0!==t?t:[],i=[];for(const a of n)0===a.block_type&&i.push(a.text);return!!i.join(" ")}))},w=({origin:e,pathname:t},n,i,a,r)=>{const l=S(a);let s=!1;const d=l.map((a=>{var l;const d=null!==(l=a.blocks)&&void 0!==l?l:[],c=[];for(const e of d)0===e.block_type&&c.push(e.text);const p=c.join(" "),m={"@type":"HowToStep",text:p};for(const g of d){if(3===g.block_type&&g.video){const a=(0,o.Z)(g.video),l=a.mp4||a.hlsv3;if(l){m.video=u({origin:e,pathname:t},n,i,l,p,r,!1),s=!0;break}}if(2===g.block_type&&g.image){var h,_;const e=null===(h=g.image)||void 0===h||null===(_=h.images)||void 0===_?void 0:_.originals;if(e){m.image=e.url;break}}}return m}));return d.length>=2?{howToSteps:d,containsNestedVideo:s}:{howToSteps:[],containsNestedVideo:s}};function T(e,t){var n,i,o,l,s;if(!e||!t)return!1;if(2!==(null===(n=t.metadata)||void 0===n?void 0:n.template_type))return!1;const d=!!(0,a.RC)({storyPinDataMetadataPinTitle:null===(i=t.metadata)||void 0===i?void 0:i.pin_title,pinTitle:e.title}),c=!!t.metadata,u=!(null===(o=t.metadata)||void 0===o||null===(l=o.basics)||void 0===l||null===(s=l.list_blocks)||void 0===s||!s.find((e=>v(e,_)))),p=!!x(t.pages,[0,1]),m=b(t.pages||[]),h=f(m),g=S(t),y=d&&c&&u&&p&&g.length>=2;return(({isEligible:e,hasTitle:t,hasMetadata:n,hasInstructions:i,hasSupplies:a,validPages:o,validVideos:l,validHowToSteps:s})=>{(0,r.My)("closeup_main_pin.leaf_snippet.is_story_how_to",{isEligible:e,validPages:o.length,validVideos:l.length,validHowToSteps:s.length,hasTitle:t,hasMetadata:n,hasSupplies:a,hasInstructions:i})})({isEligible:y,validPages:m,validVideos:h,hasTitle:d,hasMetadata:c,hasInstructions:p,hasSupplies:u,validHowToSteps:g}),y}const k=e=>{var t,n;return(null==e||null===(t=e.images)||void 0===t||null===(n=t.originals)||void 0===n?void 0:n.url)||""},E=e=>{const t=(e=>(e.pages||[]).find((e=>0===e.layout)))(e),n=k(null==t?void 0:t.image_adjusted)||k(null==t?void 0:t.image);if(n)return n;const i=((null==t?void 0:t.blocks)||[]).find((e=>e.image));return k(null==i?void 0:i.image)},I=e=>{if(!e)return[];const t=b(e.pages||[]);return f(t)},A=e=>{const t=e.length>0?e[0].mp4||e[0].hlsv3:null;let n=s((null==t?void 0:t.duration)||0)>=6;if(n||e.length<=1)return t;return e.map((e=>e.mp4||e.hlsv3)).find((e=>{const t=s((null==e?void 0:e.duration)||0);return n=(e=>e>=5)(t),n}))||t},C=e=>(e=>{var t,n,i;return(null!==(t=null===(n=e.metadata)||void 0===n||null===(i=n.basics)||void 0===i?void 0:i.list_blocks)&&void 0!==t?t:[]).filter((e=>e&&[7].includes(e.block_type)))})(e).map((e=>{var t;return(null!==(t=e.blocks)&&void 0!==t?t:[]).filter((e=>e&&!!e.text&&[0,9,1,6].includes(e.block_type))).map((e=>({"@type":"HowToSupply",name:e.text||""})))})).flat(),R=({origin:e,pathname:t},n,i,o,r)=>{var c,p;o.pages=b(o.pages||[]);const m=(0,a.RC)({storyPinDataMetadataPinTitle:null===(c=i.story_pin_data)||void 0===c||null===(p=c.metadata)||void 0===p?void 0:p.pin_title,pinTitle:i.title})||"",h=i.seo_title||"",_=E(o),g={supply:C(o)},{howToSteps:v,containsNestedVideo:y}=w({origin:e,pathname:t},n,i,o,r),f=I(o),x=A(f),P={video:void 0};if(!y&&x){const a=s(x.duration||0),o=d(a);P.video=u({origin:e,pathname:t},n,i,x,"",r,o)}const{fallbackTitle:S,fallbackDescription:T}=(0,l.fP)("howto",m,r),{title:k}=(0,l.dn)(n,m,"",S,T,h);return{"@type":"HowTo",name:k,image:_,...g,step:v,...P}},j=({origin:e,pathname:t},n,i,o,r)=>{var c,p,m,_,g,f,x,P;o.pages=b(o.pages||[]);const S=E(o),T=(0,a.RC)({storyPinDataMetadataPinTitle:null===(c=i.story_pin_data)||void 0===c||null===(p=c.metadata)||void 0===p?void 0:p.pin_title,pinTitle:i.title})||"",k=i.seo_title||"",{description:C}=(0,a.eK)({pinJoinVisualAnnotation:null===(m=i.pin_join)||void 0===m?void 0:m.visual_annotation,pinJoinAnnotationsWithLinks:null===(_=i.pin_join)||void 0===_?void 0:_.annotations_with_links,richMetadataDescription:null===(g=i.rich_metadata)||void 0===g?void 0:g.description,richSummaryDisplayName:null===(f=i.rich_summary)||void 0===f?void 0:f.display_name,placeSummaryName:i.place_summary,closeupUnifiedDescription:i.closeup_unified_description}),R=(0,l.QO)(e,{userName:null===(x=i.native_creator)||void 0===x?void 0:x.username,fullName:null===(P=i.native_creator)||void 0===P?void 0:P.full_name}),j=(e=>{var t,n,i;return((null===(t=e.metadata)||void 0===t||null===(n=t.basics)||void 0===n||null===(i=n.list_blocks)||void 0===i?void 0:i.filter((e=>v(e,h)||y(e))))||[]).map((e=>{const t=e.blocks||[];return t.length>0?t.map((e=>(e.text||"").trim())):[(e.heading||"").trim()]})).flat()})(o),{howToSteps:D,containsNestedVideo:O}=w({origin:e,pathname:t},n,i,o,r),{cookTime:L,prepTime:N,totalTime:F,recipeYield:M}=(e=>{var t,n;const i=((null===(t=e.metadata)||void 0===t||null===(n=t.basics)||void 0===n?void 0:n.key_value_blocks)||[]).reduce(((e,{category_type:t,value:n})=>{if(!n)return e;if(0===t)e.cookTime=n;else if(1===t){const t=n.match(/\d+/);t&&(e.recipeYield=t[0])}else 2===t&&(e.difficulty=n);return e}),{cookTime:"0",recipeYield:"1",difficulty:"1"}),a=parseInt(i.cookTime,10)>0?i.cookTime:"0";return{prepTime:"PT0M",cookTime:`PT${a}M`,totalTime:`PT${(parseInt("0",10)+parseInt(a,10)).toString()}M`,recipeYield:parseInt(i.recipeYield,10),difficulty:parseInt(i.difficulty,10)>=1?i.difficulty:"1"}})(o),z={cookTime:L,prepTime:N,totalTime:F,recipeYield:M},U=(B=i.created_at)?new Date(Date.parse(B)).toISOString():"";var B;const Z=I(o),V=A(Z),H={video:void 0};if(!O&&V){const a=s(V.duration||0),o=d(a);H.video=u({origin:e,pathname:t},n,i,V,"",r,o)}const K={};D.length>0&&j.length>0&&(K.recipeInstructions=D,K.recipeIngredient=j);const{fallbackTitle:G,fallbackDescription:W}=(0,l.fP)("recipe",T,r),{title:$,description:q}=(0,l.dn)(n,T,C,G,W,k);return{"@type":"Recipe",image:S,name:$,author:R,description:q,datePublished:U,...z,...K,...H}};var D=n(841726);const O=e=>{var t;return(null==e||null===(t=e.orig)||void 0===t?void 0:t.url)||""},L=(e,t)=>{const n=t||e;if(n){const e=new Date(Date.parse(n));if(e)return e.toISOString()}},N=(e,t)=>e&&t?{sharedContent:{"@type":"WebPage",headline:t,url:e}}:void 0,F=({origin:e},t,n,{pinnerFullName:i,pinnerUsername:o},r)=>{var s,d,c,u,p,m,h;const{url:_,article:g,title:v}=n.rich_metadata||{},{full_canonical_url:y}=null!=t?t:{},f=y||_,b=(0,a.Ly)({pinTitle:n.title,gridTitle:n.grid_title,richSummaryDisplayName:null!==(s=null===(d=n.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",richMetadataTitle:null!=v?v:"",storyPinDataId:n.story_pin_data_id,storyPinDataMetadataPinTitle:null===(c=n.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,placeSummaryName:null!==(p=n.place_summary)&&void 0!==p?p:"",pinJoinVisualAnnotation:null===(m=n.pin_join)||void 0===m?void 0:m.visual_annotation,pinJoinAnnotationsWithLinks:null===(h=n.pin_join)||void 0===h?void 0:h.annotations_with_links})||"",x=(0,l.QO)(e,{userName:o,fullName:i}),P=((e,t)=>e?(0,D.o)(e).trim():(t||"").trim())(n.description,n.title)||"",S=n.seo_title||"",{fallbackTitle:w,fallbackDescription:T}=(0,l.fP)("default",b,r),{title:k,description:E}=(0,l.dn)(t,b,P,w,T,S);return{"@type":"SocialMediaPosting",author:x,headline:k,articleBody:E,image:O(n.images),datePublished:L(n.created_at,null==g?void 0:g.date_published),...N(f,k)}},M=e=>{if(!e)return;const t=e=>{const t=e||{},n=t.h||0,i=t.m||0;let a="PT",o=!1;return n>0&&(a+=n.toString()+"H",o=!0),i>0&&(a+=i.toString()+"M",o=!0),o?a:""},n={};return e.total&&(n.totalTime=t(e.total)),e.cook&&(n.cookTime=t(e.cook)),e.prep&&(n.prepTime=t(e.prep)),n},z=e=>{if(!e.categorized_ingredients)return;const t=[];return e.categorized_ingredients.forEach((e=>{(e.ingredients||[]).forEach((e=>{const n=[];e.amt&&n.push(e.amt),e.name&&(n.push(e.name),t.push(n.join(" ")))}))})),t.length>1?{recipeIngredient:t}:void 0},U=({origin:e,pathname:t},n,i,{pinnerFullName:a,pinnerUsername:o},r)=>{const c=i.rich_metadata;if(!c)return null;const{recipe:p}=c;if(!p)return null;const m=p.name||"",h=c.description||"",_=p.servings_summary&&(p.servings_summary.serves||p.servings_summary.summary),g=(0,l.QO)(e,{userName:o,fullName:a}),v=i.seo_title||"",y=i&&i.videos||{},{video_list:f={}}=y||{},{V_720P:b,V_HLSV4:x}=f,P=(0,l.V3)(b)||(0,l.V3)(x),S={video:void 0};if(P){const a=s(P.duration||0),o=d(a);S.video=u({origin:e,pathname:t},n,i,P,"",r,o)}const{fallbackTitle:w,fallbackDescription:T}=(0,l.fP)("recipe",m,r),{title:k,description:E}=(0,l.dn)(n,m,h,w,T,v),I=(0,l.cO)(p.aggregate_rating),A=I?{aggregateRating:I}:Object.freeze({}),C={..._?{recipeYield:_}:Object.freeze({}),...E?{description:E}:Object.freeze({}),...M(p.cook_times),...z(p),...A,...S};return{"@type":"Recipe",name:k,description:E,author:g,video:P,image:O(i.images),...C}};var B=n(748367),Z=n(898781),V=n(844255),H=n(785893);const K=function(e){const{videoJsonData:t}=e;return t?(0,H.jsx)(B.Z,{type:"application/ld+json",testId:"video-snippet",value:t}):null};var G=n(205202);const W=e=>{const t=e.replace(/[a-zA-Z]\./g,"").replace(/\./g,",").replace(/,([^,]*)$/g,".$1").replace(/[^0-9.]/g,"");return parseFloat(t)},$=(e,t,n)=>{var i;const a=t.rich_metadata&&t.rich_metadata.products&&t.rich_metadata.products[0],o=a&&a.name||t.grid_title||"",r=t.seo_title||"",s={"@type":"Brand",name:t.rich_metadata&&t.rich_metadata.site_name||t.link_domain&&t.link_domain.official_user&&t.link_domain.official_user.full_name||""},d=t.rich_metadata&&t.rich_metadata.description||t.description||t.description_html||t.rich_metadata&&t.rich_metadata.title||t.title||"",c=(e=>{const t=[];e&&Object.keys(e).map((n=>t.push((0,G.Z)(e,n))));return t})(t.images),u=(e=>{const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0],n=null==t?void 0:t.offer_summary;if(!n)return;let i;return!0===n.in_stock?i="https://schema.org/InStock":!1===n.in_stock&&(i="https://schema.org/OutOfStock"),n.min_price?{"@type":"AggregateOffer",lowPrice:W(n.min_price),highPrice:n&&n.max_price?W(n.max_price):void 0,priceCurrency:e.price_currency||"",...i?{availability:i}:Object.freeze({})}:n.price?{"@type":"Offer",price:W(n.price),priceCurrency:e.price_currency||"",url:e.rich_metadata&&e.rich_metadata.url||e.link||e.domain||"",...i?{availability:i}:Object.freeze({})}:void 0})(t),p=(0,l.cO)(null===(i=t.rich_metadata)||void 0===i?void 0:i.aggregate_rating),{fallbackTitle:m,fallbackDescription:h}=(0,l.fP)("product",o,n),{title:_,description:g}=(0,l.dn)(e,o,d,m,h,r);return{"@type":"Product",name:_,aggregateRating:p,brand:s,description:g,image:c,offers:u}};var q,Y=n(153209),X=n(350118),J=n(276775),Q=n(780280),ee=n(50823),te=n(167912),ne=n(623568);const ie=void 0!==q?q:q=n(779819);function ae({pin:e}){var t,n,a,o,s,d,c,u,m,h,_,g;const v=(0,Z.ZP)(),{origin:y,isBot:f}=(0,Q.B)(),{pathname:b}=(0,J.useLocation)();if(!e||!e.pinner||!v)return null;const x=e.story_pin_data,S=(0,ne.iR)(e.videos),w=(0,ne.cL)({embedSrc:null===(t=e.embed)||void 0===t?void 0:t.src,embedSubtype:null===(n=e.embed)||void 0===n?void 0:n.subtype,embedType:null===(a=e.embed)||void 0===a?void 0:a.type}),k={pinnerFullName:null===(o=e.pinner)||void 0===o?void 0:o.full_name,pinnerUsername:null===(s=e.pinner)||void 0===s?void 0:s.username},E=(0,l.v_)(e.grid_title,e.rich_metadata);let A,C="standard_pin";const D=(0,Y.r)(null===(d=e.rich_metadata)||void 0===d||null===(c=d.recipe)||void 0===c?void 0:c.name,!(null===(u=e.rich_metadata)||void 0===u||null===(m=u.recipe)||void 0===m||!m.categorized_ingredients),null===(h=e.rich_metadata)||void 0===h||null===(_=h.recipe)||void 0===_?void 0:_.from_aggregated_data);let O;(0,ee.f5)(e)&&(O=(0,ee.lP)({data:e,origin:y,i18n:v})),D?(A=U({origin:y,pathname:b},O,e,k,v),C="recipe_pin"):x&&P(e.title,x)?(A=j({origin:y,pathname:b},O,e,x,v),C="recipe_idea_pin"):x&&T(e,x)?(A=R({origin:y,pathname:b},O,e,x,v),C="how_to_idea_pin"):x?(A=F({origin:y},O,e,k,v),C="idea_pin"):E?(A=$(O,e,v),C="product_pin"):A=F({origin:y},O,e,k,v);const{full_canonical_url:L}=null!==(g=O)&&void 0!==g?g:{},N=L||`${y}${b}`,M={...A,"@context":"http://schema.org/",mainEntityOfPage:{"@type":"WebPage","@id":N}},z=I(x),V=S||w,G=!V&&!!z.length,W=V||G;if((0,r.My)("closeup_main_pin.leaf_snippet",{isBot:f,jsonType:C,containsVideo:W}),!W)return(0,H.jsx)(i.Fragment,{children:(0,H.jsx)(B.Z,{type:"application/ld+json",testId:"leaf-snippet",value:M})});const{videoJsonData:q}=p({origin:y,pathname:b},O,e,V,z,v);return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(B.Z,{type:"application/ld+json",testId:"leaf-snippet",value:M}),W&&(0,H.jsx)(K,{videoJsonData:q})]})}const oe=({graphqlRef:e})=>{const t=(0,te.useFragment)(ie,e),n=(0,V.Z)(t);return(0,H.jsx)(ae,{pin:n})},re=({pinId:e})=>{const t=(0,X.S6)()(e);return t?(0,H.jsx)(ae,{pin:t}):null};function le({graphqlRef:e,pinId:t}){return e?(0,H.jsx)(oe,{graphqlRef:e}):(0,H.jsx)(re,{pinId:t})}},134185:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);const a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},578661:(e,t,n)=>{n.d(t,{G:()=>i});const i="https://schema.org/Recipe"},736688:(e,t,n)=>{n.d(t,{QO:()=>s,V3:()=>r,cO:()=>u,dn:()=>d,fP:()=>c,j1:()=>p,v_:()=>l});var i=n(841726),a=n(867820),o=n(623568);const r=e=>{const{thumbnail:t,url:n,width:i,height:a,duration:o}=e||{};return t&&n&&i&&a&&{thumbnail:t,url:n,width:i,height:a,duration:o}||void 0};function l(e,t){if(t&&t.products&&t.products[0]){const n=t.products[0],i=!(!n.name&&!e),o=!(!t.aggregate_rating||0===t.aggregate_rating.rating_count&&0===t.aggregate_rating.review_count||Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),r=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),l=i&&(o||r);return(({isEligible:e,hasName:t,hasAggregateRating:n,hasOffers:i})=>{(0,a.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:n,hasOffers:i})})({isEligible:l,hasName:i,hasAggregateRating:o,hasOffers:r}),l}return!1}const s=(e,{userName:t,fullName:n})=>{const i=t||"";return{"@type":"Person",name:n||i,url:e+"/"+i}};function d(e,t,n,a,o,r){n=n.trim();const l=(t=t.trim())||r||n||a,s=()=>t||o;if(!e||!e.metatags)return{title:l,description:n||s()};const{description:d=""}=e.metatags;var c;return{title:l,description:(c=d,(0,i.o)(c||"").trim())||s()}}const c=(e,t,n)=>{let i=t;return n?(i="recipe"===e?n.bt("Pinterest ", "Pinterest Recipe", "pin.closeup.leafsnippet.recipe", undefined, true):"howto"===e?n.bt("Pinterest ", "Pinterest How To", "pin.closeup.leafsnippet.howto", undefined, true):"video"===e?n.bt("Pinterest ", "Pinterest Video", "pin.closeup.leafsnippet.video", undefined, true):"product"===e?n.bt("Pinterest ", "Pinterest Product", "pin.closeup.leafsnippet.product", undefined, true):n.bt(" ", "Pin page", "pin.closeup.leafsnippet.pin", undefined, true),{fallbackTitle:i,fallbackDescription:i}):{fallbackTitle:i,fallbackDescription:i}},u=e=>{if(!e)return;const t=e.rating_count,n=e.review_count;if(!(!!t||!!n)||Number.isNaN(parseFloat(e.rating_value)))return;const i=t||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:i,bestRating:5,worstRating:1}},p=(e,t=!0)=>{var n,i,a,r;const l=!!(0,o.iR)(e.videos),s=t&&!!(0,o.cL)({embedSrc:null===(n=e.embed)||void 0===n?void 0:n.src,embedSubtype:null===(i=e.embed)||void 0===i?void 0:i.subtype,embedType:null===(a=e.embed)||void 0===a?void 0:a.type}),d=!(null===(r=e.story_pin_data)||void 0===r||!r.total_video_duration);return l||s||d}},844255:(e,t,n)=>{n.d(t,{Z:()=>h,g:()=>m});var i,a=n(862193),o=n(759177),r=n(224496),l=n(167912);const s=void 0!==i?i:i=n(377445),d=e=>{var t,n,i,a,o;if(e)return{thumbnail:null!==(t=e.thumbnail)&&void 0!==t?t:void 0,url:null!==(n=e.url)&&void 0!==n?n:void 0,width:null!==(i=e.width)&&void 0!==i?i:void 0,height:null!==(a=e.height)&&void 0!==a?a:void 0,duration:null!==(o=e.duration)&&void 0!==o?o:void 0}},c=e=>{if(!e)return;return{V_720P:d(e.v720P),V_HLSV4:d(e.vHLSV4)}},u=e=>{var t,n,i,a,o,r,l;if(!e)return;return{V_HLSV3_MOBILE:d(null===(t=e.videoListMobile)||void 0===t?void 0:t.vHLSV3MOBILE),V_EXP3:d(null===(n=e.videoListEXP3)||void 0===n?void 0:n.vEXP3),V_EXP4:d(null===(i=e.videoListEXP4)||void 0===i?void 0:i.vEXP4),V_EXP5:d(null===(a=e.videoListEXP5)||void 0===a?void 0:a.vEXP5),V_EXP6:d(null===(o=e.videoListEXP6)||void 0===o?void 0:o.vEXP6),V_EXP7:d(null===(r=e.videoListEXP7)||void 0===r?void 0:r.vEXP7),V_720P:d(null===(l=e.videoList720P)||void 0===l?void 0:l.v720P)}},p=e=>{if(!e)return;const t={height:e.height||void 0,url:e.url||void 0,width:e.width||void 0};return{orig:t,originals:t}},m=({blocks:e})=>{if(!e)return;const t=[];return e.forEach((e=>{if(9===e.blockType){var n;const i={block_type:9,type:"story_pin_text_block",text:null!==(n=e.text)&&void 0!==n?n:void 0};t.push(i)}if(5===e.blockType){var i;const n={block_type:5,type:r.h8.INGREDIENT,name:null!==(i=e.name)&&void 0!==i?i:void 0};t.push(n)}if(6===e.blockType){var a;const n={block_type:6,type:r.h8.SUPPLY,name:null!==(a=e.name)&&void 0!==a?a:void 0};t.push(n)}if(0===e.blockType){var o;const n={block_type:0,type:r.h8.PARAGRAPH,text:null!==(o=e.text)&&void 0!==o?o:void 0};t.push(n)}if(1===e.blockType){var l;const n={block_type:1,type:r.h8.HEADING,text:null!==(l=e.text)&&void 0!==l?l:void 0};t.push(n)}if(3===e.blockType){var s;const n={block_type:3,type:r.h8.VIDEO,text:null!==(s=e.text)&&void 0!==s?s:void 0,video:e.videoData?{video_list:u(e.videoData)}:void 0};t.push(n)}if(2===e.blockType){var d;const n={block_type:2,type:r.h8.IMAGE,text:null!==(d=e.text)&&void 0!==d?d:void 0,image:e.imageSpec_orig?{images:p(e.imageSpec_orig)}:void 0};t.push(n)}if(7===e.blockType){var c;const n={block_type:7,type:"story_pin_list_block",blocks:m({blocks:null!==(c=e.blocks)&&void 0!==c?c:void 0})};t.push(n)}})),t},h=e=>{var t,n,i,r,d,u,h,_,g,v,y,f,b,x,P,S,w,T,k,E,I,A,C,R,j,D,O,L,N,F,M,z,U,B,Z,V,H,K,G,W;const $=(0,l.useFragment)(s,e),q=(0,o.Z)($),Y=(0,a.Z)($);return{id:$.entityId,title:$.title,grid_title:$.gridTitle,story_pin_data_id:$.storyPinDataId,created_at:$.createdAt,description:$.description,closeup_unified_description:null!==(t=$.closeupUnifiedDescription)&&void 0!==t?t:void 0,price_currency:$.priceCurrency,domain:$.domain,description_html:$.descriptionHtml,embed:$.embed?{src:null!==(n=$.embed.src)&&void 0!==n?n:void 0,subtype:null!==(i=$.embed.subtype)&&void 0!==i?i:void 0,type:null!==(r=$.embed.type)&&void 0!==r?r:void 0}:void 0,board:$.board?{url:null!==(d=$.board.url)&&void 0!==d?d:""}:void 0,rich_summary:$.richSummary?{display_name:$.richSummary.displayName}:void 0,pinner:$.pinner?{username:null!==(u=$.pinner.username)&&void 0!==u?u:void 0,full_name:null!==(h=$.pinner.fullName)&&void 0!==h?h:void 0}:void 0,rich_metadata:$.richMetadata?{description:$.richMetadata.description,title:$.richMetadata.title,url:$.richMetadata.url,site_name:$.richMetadata.siteName,article:$.richMetadata.article?{date_published:$.richMetadata.article.datePublished}:void 0,products:$.richMetadata.products?$.richMetadata.products.map((e=>({name:e.name,offer_summary:e.offerSummary?{min_price:e.offerSummary.minPrice,price:e.offerSummary.price,max_price:e.offerSummary.maxPrice}:void 0}))):void 0,aggregate_rating:null!==(_=$.richMetadata)&&void 0!==_&&_.aggregateRating?{rating_count:null!==(g=$.richMetadata.aggregateRating.ratingCount)&&void 0!==g?g:void 0,review_count:null!==(v=$.richMetadata.aggregateRating.reviewCount)&&void 0!==v?v:void 0,rating_value:null!==(y=$.richMetadata.aggregateRating.ratingValue)&&void 0!==y?y:void 0}:void 0,recipe:null!==(f=$.richMetadata)&&void 0!==f&&f.recipe?{name:$.richMetadata.recipe.name,from_aggregated_data:null!==(b=$.richMetadata.recipe.fromAggregatedData)&&void 0!==b?b:void 0,cook_times:$.richMetadata.recipe.cookTimes?{cook:$.richMetadata.recipe.cookTimes.cook?{h:$.richMetadata.recipe.cookTimes.cook.h,m:$.richMetadata.recipe.cookTimes.cook.m}:void 0,prep:$.richMetadata.recipe.cookTimes.prep?{h:$.richMetadata.recipe.cookTimes.prep.h,m:$.richMetadata.recipe.cookTimes.prep.m}:void 0,total:$.richMetadata.recipe.cookTimes.total?{h:$.richMetadata.recipe.cookTimes.total.h,m:$.richMetadata.recipe.cookTimes.total.m}:void 0}:void 0,servings_summary:$.richMetadata.recipe.servingsSummary?{serves:$.richMetadata.recipe.servingsSummary.serves,summary:$.richMetadata.recipe.servingsSummary.summary}:void 0,aggregate_rating:$.richMetadata.recipe.aggregateRating?{rating_count:null!==(x=$.richMetadata.recipe.aggregateRating.ratingCount)&&void 0!==x?x:void 0,review_count:null!==(P=$.richMetadata.recipe.aggregateRating.reviewCount)&&void 0!==P?P:void 0,rating_value:null!==(S=$.richMetadata.recipe.aggregateRating.ratingValue)&&void 0!==S?S:void 0,best_rating:null!==(w=$.richMetadata.recipe.aggregateRating.bestRating)&&void 0!==w?w:void 0}:void 0,categorized_ingredients:$.richMetadata.recipe.categorizedIngredients?$.richMetadata.recipe.categorizedIngredients.map((({ingredients:e})=>({ingredients:e?e.map((({amt:e,name:t})=>({amt:e,name:null!=t?t:void 0}))):void 0}))):void 0}:void 0}:void 0,videos:$.videos?{video_list:c($.videos.videoList)}:void 0,story_pin_data:$.storyPinData?{metadata:$.storyPinData.metadata?{pin_title:null!==(T=$.storyPinData.metadata.pinTitle)&&void 0!==T?T:void 0,template_type:[1,2].includes($.storyPinData.metadata.templateType)?null===(k=$.storyPinData)||void 0===k||null===(E=k.metadata)||void 0===E?void 0:E.templateType:void 0,basics:null!==(I=$.storyPinData)&&void 0!==I&&null!==(A=I.metadata)&&void 0!==A&&A.basics?{key_value_blocks:$.storyPinData.metadata.basics.keyValueBlocks?$.storyPinData.metadata.basics.keyValueBlocks.map((e=>{var t;return{block_type:8,category_type:null!==(t=e.categoryType)&&void 0!==t?t:void 0,type:"story_pin_key_value_block",value:e.value}})):void 0,list_blocks:null!==(C=$.storyPinData)&&void 0!==C&&null!==(R=C.metadata)&&void 0!==R&&null!==(j=R.basics)&&void 0!==j&&j.listBlocks?$.storyPinData.metadata.basics.listBlocks.map((e=>{var t;return{block_type:7,type:"story_pin_list_block",blocks:m(e),heading:null!==(t=e.heading)&&void 0!==t?t:void 0}})):void 0}:void 0}:void 0,pages:null!==(D=$.storyPinData)&&void 0!==D&&D.pages?$.storyPinData.pages.map((e=>{var t;return{layout:null!==(t=e.layout)&&void 0!==t?t:void 0,blocks:m(e),image:e.imageSpec_orig?{images:p(e.imageSpec_orig)}:void 0,image_adjusted:e.imageAdjustedSpec_orig?{images:p(e.imageAdjustedSpec_orig)}:void 0}})):void 0}:void 0,native_creator:$.nativeCreator?{username:null!==(O=$.nativeCreator.username)&&void 0!==O?O:void 0,full_name:null!==(L=$.nativeCreator.fullName)&&void 0!==L?L:void 0}:void 0,link_domain:$.linkDomain?{official_user:$.linkDomain.officialUser?{full_name:null!==(N=$.linkDomain.officialUser.fullName)&&void 0!==N?N:void 0}:void 0,type:"domain"}:void 0,link:null!==(F=$.link)&&void 0!==F?F:"",tracked_link:null!==(M=$.trackedLink)&&void 0!==M?M:"",seo_title:null!==(z=$.seoTitle)&&void 0!==z?z:"",seo_description:null!==(U=$.seoDescription)&&void 0!==U?U:"",seo_url:null!==(B=$.seoUrl)&&void 0!==B?B:"",seo_noindex_reason:null!==(Z=$.seoNoindexReason)&&void 0!==Z?Z:void 0,repin_count:null!==(V=$.repinCount)&&void 0!==V?V:0,pin_join:$.pinJoin?{seo_canonical_domain:null!==(H=$.pinJoin.seoCanonicalDomain)&&void 0!==H?H:"",seo_canonical_url:null!==(K=$.pinJoin.seoCanonicalUrl)&&void 0!==K?K:"",visual_annotation:null!==(G=$.pinJoin.visualAnnotation)&&void 0!==G?G:void 0,annotations_with_links:Y}:void 0,category:null!==(W=$.category)&&void 0!==W?W:"",images:q}}},857079:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(966476),o=n(464228),r=n(785893);function l({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const l=t||null,s=(0,a.Z)(),d=(0,o.P)();return d&&"legacy"!==d?n||s?(0,r.jsx)(i.Suspense,{fallback:l,children:e}):l:(0,r.jsx)(i.Suspense,{fallback:l,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(995228).Z},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>s,_R:()=>r,gi:()=>a,lw:()=>i,wF:()=>l,zh:()=>o});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},r=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},s=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},862628:(e,t,n)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:a,selectedPinImgSig:o,user:r}){const l=[a,n,e,r,o,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+l:l}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:a,selectedPinImgSig:o,query:r,rs:l,scope:s,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:a=null,query:o=null,rs:r="direct_navigation",scope:l="pins",selectedPinImgSig:s=null,sourceId:d=null,user:c}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:l,source_id:d,user:c}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:a,query:r,rs:l,scope:s,selectedPinImgSig:o,bubbleId:d,user:c})}}n.d(t,{Ht:()=>a,Tb:()=>i})},350576:(e,t,n)=>{n.d(t,{RX:()=>v,XE:()=>h,Xn:()=>m,an:()=>_,rV:()=>g});var i=n(826067);const a="BING",o="GOOGLE",r="YAHOO",l="YANDEX",s="RAKUTEN",d="NAVER",c="AMP_CACHE",u="DUCKDUCKGO",p=[o,a,r,l,s,d,c,u];function m(e){return p.includes(function(e){const{hostname:t}=(0,i.Qc)(e,!0);if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return o;if(t.includes("bing."))return a;if(t.includes("yahoo."))return r;if(t.includes("yandex."))return l;if(t.includes("rakuten."))return s;if(t.includes("naver."))return d;if(t.includes("duckduckgo."))return u;if(t.includes(".cdn.ampproject.org"))return c}return""}(e))}function h(e){return((0,i.Qc)(e).hostname||"").includes(".cdn.ampproject.org")}function _(e){return e||"undefined"!=typeof document&&document.referrer||""}const g="amp",v=e=>Boolean(e&&h(e))},762752:(e,t,n)=>{n.d(t,{D:()=>r,N:()=>o});var i=n(172071);const a=.1;async function o(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.update",a),e&&e.getRegistration){const n=await e.getRegistration();if(!n)return i.Z.increment("web_service_worker.update.registration.not_exist",a),await async function(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.install",a),e&&e.register)try{const t=await e.register("/sw.js");return i.Z.increment("web_service_worker.install.success",a),t}catch(t){throw i.Z.increment("web_service_worker.install.error",a),t}}();i.Z.increment("web_service_worker.update.registration.exist",a);try{return await n.update(),i.Z.increment("web_service_worker.update.success",a),n}catch(t){throw i.Z.increment("web_service_worker.update.fail",a),t}}}async function r(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.unregister",a,{source:e||"unknown"}),t&&t.getRegistration)try{const n=await t.getRegistration();n?(i.Z.increment("web_service_worker.unregister.registration.exist",a,{source:e||"unknown"}),await n.unregister(),i.Z.increment("web_service_worker.unregister.success",a,{source:e||"unknown"}),async function(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.clear_app_shell",a,{source:e||"unknown"}),t&&window.caches){const t=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));t?(i.Z.increment("web_service_worker.clear_app_shell.precache.exist",a,{source:e||"unknown"}),(await window.caches.open(t)).delete("/sw-shell.html"),i.Z.increment("web_service_worker.clear_app_shell.delete",a,{source:e||"unknown"})):i.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",a,{source:e})}}(e)):i.Z.increment("web_service_worker.unregister.registration.not_exist",a,{source:e||"unknown"})}catch(n){i.Z.increment("web_service_worker.unregister.fail",a,{source:e||"unknown"})}}},735422:(e,t,n)=>{n.d(t,{$J:()=>T,AP:()=>L,Dm:()=>k,Fv:()=>S,H$:()=>j,In:()=>O,Ng:()=>w,Wj:()=>D,_P:()=>E,go:()=>P});var i=n(126098),a=n(214494),o=n(550858),r=n(30287),l=n(53987),s=n(867820),d=n(844974);const c="home",u="closeup",p="news_hub",m="board",h="profile",_="topic",g="today",v="business",y="search";let f;const b="_push",x=e=>{e.onupdatefound=()=>{(0,s.My)("mweb_service_worker.update_found")}},P=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),S=()=>new Promise(((e,t)=>{if(!f)return void e();const n=navigator.serviceWorker,{pwaType:i,twaType:a}=f.getState().session,o=new URLSearchParams({source_url:window.location.pathname});i&&a&&(0,r.Rx)(a)&&(o.append("pwa_type",i),o.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&o.append("referrer",document.referrer),n&&n.register?((0,s.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${o.toString()}`).then((t=>{(0,s.My)("mweb_service_worker.install_success"),x(t),e(t)})).catch((e=>{(0,s.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),w=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,s.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,s.My)("mweb_service_worker.update_success"),x(n),e(n)})).catch((e=>{(0,s.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):S().then(e)}))):e()})),T=()=>{var e;const t=null===(e=f)||void 0===e?void 0:e.getState().session.isAuthenticated;(0,s.My)(`mweb.${t?"auth":"unauth"}.register_service_worker`),S()},k=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,s.My)("mweb_service_worker.unregister_attempt"),(0,o.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,s.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,s.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,s.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},E=()=>!(!P()||!("SyncManager"in window)),I=e=>(0,l.C$)(e)?c:(0,l.L6)(e)?u:(0,l.l4)(e)?p:(0,l.am)(e)?m:(0,l.cD)(e)?h:(0,l.En)(e)?y:(0,l.$V)(e)?_:(0,l.Zz)(e)?g:(0,l.Ni)(e)?v:"undefined",A=e=>{switch(I(e)){case c:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case m:return{viewType:5,viewParameter:void 0};case y:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case h:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},C=(e,t)=>{var n,i;return(0,s.tj)(e,{browser:null===(n=f)||void 0===n?void 0:n.getState().session.browser,version:Math.floor(parseInt(null===(i=f)||void 0===i?void 0:i.getState().session.browserVersion,10)),...t})},R=(0,i.Z)(),j="default"===R||"granted"===R,D=(e,t,n,i)=>{const o=navigator.serviceWorker,r=Boolean((0,d.qn)(b)),l={experimentName:n||"noExperiment",experimentGroup:i||"noGroup"};return o&&o.ready&&j&&!r?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:i}}),C(`mweb.notifications_upsell.${I(e)}.viewed`,l),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,i)=>{a.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const i={registration_id:n,subscription_endpoint:e.endpoint};a.Z.create("WebPushDeviceResource",i).callCreate()})),(0,d.Nh)(b,"subscribed"),C(`mweb.notifications_upsell.${I(t)}.subscribed`,n);const o=A(t);i({component:13125,element:10357,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,l,t)),(()=>((e,t,n)=>{(0,d.Nh)(b,"denied"),C(`mweb.notifications_upsell.${I(e)}.denied`,t);const i=A(e);n({component:13125,element:10358,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,l,t)))):Promise.resolve()},O=e=>{f=e},L=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const i=i=>{if(n)return;n=!0;const a=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,s.My)(`mweb_service_worker.appshell_status.${a}.${i}`)},a=navigator.serviceWorker,o=null==a?void 0:a.controller;a&&o?setTimeout((()=>i("timeout")),1e3):i("no_worker")}},706922:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let o=0;o<n.length;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}n.d(t,{Z:()=>a})},835209:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},954959:(e,t,n)=>{function i({isEligibleForPdp:e,isStaleProduct:t,isOutOfStockProduct:n}){return!!e||!!t||!!n}n.d(t,{Z:()=>i})},458882:(e,t,n)=>{n.d(t,{l:()=>o,r:()=>r});var i=n(667294);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),r=a.Provider},667679:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(458882),a=n(780679);const o=()=>{const e=(0,a.g)(),t=(0,i.l)();return n=>{const{mobileOptions:i,desktopOptions:a,reason:o,attributionLabel:r}=n;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:o,attributionLabel:r,...null==a?void 0:a.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:r,headingType:null==i?void 0:i.headingType})}}},90771:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},619277:(e,t,n)=>{n.d(t,{o$:()=>a,ty:()=>o,vE:()=>r});var i=n(425288);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,i.Z)("inviteContext")},296011:(e,t,n)=>{n.d(t,{Z:()=>s,t:()=>d});var i=n(667294),a=n(214494),o=n(167912);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class s extends i.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const n=t.resource_response.data;l[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends i.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:n}=this.props;(0,o.fetchQuery)(t,n,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},867060:(e,t,n)=>{n.d(t,{LO:()=>o,Pu:()=>r,cc:()=>i,dB:()=>a,yF:()=>l});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},o={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},l={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},223815:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>l});var i=n(755742),a=n(785893);const o=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function l({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:l,children:s}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||r(e)}(e,t);return(0,a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:o,onCanPlay:n?o:r,onCanPlayThrough:r,onChange:r,onClick:e?o:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:o,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?o:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?o:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:l?o:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?o:r,onTouchMove:e?o:r,onTouchStart:e?o:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:s})}},238381:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(231486),a=n(172071),o=n(700380);let r={get:[],set:[],remove:[]};const l={get:new Set,set:new Set,remove:new Set};const s=(0,o.Z)((async function(){if(!r.get.length&&!r.set.length&&!r.remove.length)return;const e={...r};r={get:[],set:[],remove:[]};try{await fetch(`https://${window.location.hostname}/_/_/storage_report/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"storage-report":e})})}catch(t){r={...e},a.Z.increment("webapp.storage_report.fetch_error",.01)}}),3e4);const d=async function(e,t){l[e].has(t)||(l[e].add(t),r={...r,[e]:[...r[e],t]},await s())};var c=n(226198);class u{constructor(e){this._cookie=e}length(){const e=i.U2(this._cookie),t=e?JSON.parse(e):{};return Object.keys(t).length}getItem(e){const t=i.U2(this._cookie);return(t?JSON.parse(t):{})[e]}setItem(e,t){const n=i.U2(this._cookie),a=n?JSON.parse(n):{};a[e]=t,i.t8(this._cookie,JSON.stringify(a))}removeItem(e){const t=i.U2(this._cookie),n=t?JSON.parse(t):{};delete n[e],i.t8(this._cookie,JSON.stringify(n))}prependItem(e,t,n=1/0){const i=this.getItem(e),a=Array.isArray(i)?i:[];a.unshift(t),a.length>n&&a.pop(),this.setItem(e,a)}clear(){i.zN(this._cookie.name)}}class p{length(){return window.sessionStorage.length}getItem(e){const t=window.sessionStorage.getItem(e);return null!==t?JSON.parse(t):null}setItem(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}removeItem(e){window.sessionStorage.removeItem(e)}prependItem(e,t,n=1/0){const i=window.sessionStorage.getItem(e),a=i?JSON.parse(i):[];a.unshift(t),a.length>n&&a.pop(),window.sessionStorage.setItem(e,JSON.stringify(a))}clear(){window.sessionStorage.clear()}}class m{length(){return window.localStorage.length}getItem(e){const t=window.localStorage.getItem(e);return d("get",e),null!==t?JSON.parse(t):t}setItem(e,t){window.localStorage.setItem(e,JSON.stringify(t)),d("set",e)}removeItem(e){window.localStorage.removeItem(e),d("remove",e)}prependItem(e,t,n=1/0){const i=window.localStorage.getItem(e),a=i?JSON.parse(i):[];a.unshift(t),a.length>n&&a.pop(),window.localStorage.setItem(e,JSON.stringify(a)),d("set",e)}clear(){window.localStorage.clear()}}const h=({type:e})=>{let t;try{t="session"===e?window.sessionStorage:window.localStorage}catch(o){t=null}const n="session"===e?c.Gl:c.sy;let i=!1;const a=t;if(a)try{a.setItem("testing","test"),a.removeItem("testing")}catch(o){if(o.code!==window.DOMException.QUOTA_EXCEEDED_ERR||0!==a.length)throw o;i=!0}else i=!0;return i?new u(n):"session"===e?new p:new m}},957161:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(238381).Z)({type:"local"})},844974:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>o,qn:()=>i});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},a=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},339363:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>o,qn:()=>i});const i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},a=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},o=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},858416:(e,t,n)=>{n.d(t,{Wr:()=>u,Hx:()=>m,RC:()=>p});var i=n(667294);var a=n(311541),o=n(425288),r=n(924687),l=n(785893);const s=()=>Promise.resolve().then(n.bind(n,924687)),{Provider:d,useHook:c}=(0,o.Z)("IdeaPinVideoPlayer");function u({children:e}){const[t,n]=(0,a.Z)(s,r.initialState),o=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,l.jsx)(d,{value:o,children:e})}function p(){const{dispatch:e}=c();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function m(){const{ideaPinVideoPlayerControls:e}=c();return e}},924687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},224496:(e,t,n)=>{n.d(t,{Cc:()=>p,Gf:()=>g,LX:()=>a,Lc:()=>y,Ls:()=>m,Rf:()=>s,YL:()=>l,ap:()=>o,h8:()=>c,jH:()=>v,kF:()=>h,pE:()=>d,s5:()=>_,tQ:()=>u,yR:()=>r});var i=n(883119);const a={w:9,h:16},o=a.w/a.h,r=8,l=10,s=5e3;function d(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[c.IMAGE,c.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},m=new i.Ry(1),h=new i.Ry(5),_=new i.H3([h]),g=new i.H3([_]),v=new i.Ry(1e3),y=e=>{const t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n;return`${n<10?`${n}`:n}:${i<10?`0${i}`:i}`}},940882:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>a});const i=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(858142);const a=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(a,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},936776:(e,t,n)=>{n.d(t,{Z:()=>a});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>i.test(e)},927104:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(985913),a=n(858791);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},883561:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="",i=false){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},841726:(e,t,n)=>{n.d(t,{Z:()=>a,o:()=>i});function i(e,t){const n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,t)=>n.indexOf("<"+t.toLowerCase()+">")>-1?e:""))}const a=e=>e.replace(/(<([^>]+)>)/gi,"")},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},966113:(e,t,n)=>{n.d(t,{$B:()=>x,$h:()=>X,AH:()=>nt,Ay:()=>r,Bd:()=>J,C5:()=>Te,Cm:()=>we,Et:()=>I,F2:()=>b,FH:()=>ie,GE:()=>B,GH:()=>D,Gx:()=>it,HH:()=>Xe,Hk:()=>je,Hl:()=>Ie,Hm:()=>P,Hv:()=>T,IA:()=>Ge,JR:()=>Z,Jb:()=>Y,Jq:()=>re,Js:()=>M,KD:()=>d,KU:()=>L,K_:()=>U,LU:()=>p,Lq:()=>c,Ml:()=>Fe,Mo:()=>$,Ms:()=>ve,Mv:()=>Ae,N1:()=>rt,NW:()=>R,PR:()=>fe,Pe:()=>Je,QL:()=>tt,R_:()=>v,Rf:()=>K,SN:()=>Ve,Sr:()=>C,T1:()=>Ye,TA:()=>o,TM:()=>Ue,To:()=>Ee,U5:()=>ge,UF:()=>he,UX:()=>Ne,Uc:()=>ye,Um:()=>De,V$:()=>ce,VO:()=>Oe,Vg:()=>oe,W3:()=>Me,W_:()=>Ke,Wg:()=>A,X1:()=>u,X9:()=>a,XV:()=>$e,ZB:()=>Q,ZE:()=>q,_I:()=>W,_O:()=>te,_P:()=>S,au:()=>N,c9:()=>F,cC:()=>qe,cD:()=>xe,cP:()=>Pe,cv:()=>se,dF:()=>at,eD:()=>Se,fP:()=>Ce,gO:()=>H,hX:()=>pe,hw:()=>y,iC:()=>E,iY:()=>me,lf:()=>g,lq:()=>ne,lw:()=>ue,m7:()=>_e,mB:()=>We,mI:()=>Qe,mx:()=>h,nB:()=>be,o1:()=>ze,oi:()=>s,q4:()=>ke,qe:()=>f,rO:()=>et,rT:()=>_,ru:()=>Ze,sX:()=>j,sr:()=>le,tS:()=>Re,t_:()=>de,tq:()=>k,v0:()=>ot,v3:()=>V,vB:()=>m,vK:()=>Be,w0:()=>Le,wU:()=>z,wq:()=>He,x$:()=>l,yF:()=>ee,z:()=>O,zX:()=>w,zw:()=>G,zz:()=>ae});var i=n(401060);const a=`${(0,i.Z)({site:"sterling",path:"/conversions/tag"})}`,o=`${(0,i.Z)({site:"sterling",path:"/?redirect=PINTEREST_TAG"})}`,r="https://business.pinterest.com/verified-merchant-program",l="https://apps.shopify.com/pinterest-1",s="https://woocommerce.com/products/pinterest-for-woocommerce/",d="/business/convert/",c="/_/_/help/",u="https://help.pinterest.com/business/article/report-offline-conversion-events",p="https://help.pinterest.com/business/article/modeled-conversions",m="https://help.pinterest.com/article/merchant-details",h="https://www.pinterest.com/_/_/help/business/article/third-party-and-dynamic-tracking",_="/settings/account-settings/",g="/password/reset/",v="https://www.pinterest.com/_/_/policy/privacy-policy/",y="https://www.pinterest.com/_/_/policy/copyright/",f="https://www.pinterestcareers.com/",b="https://www.pinterest.com/_/_/policy/terms-of-service/",x="https://policy.pinterest.com/de/impressum/",P="/business/create/",S="https://www.pinterest.com/_/_/help/articles/claim-your-website",w="https://www.pinterest.com/settings/claim",T="https://www.pinterest.com/_/_/help/business/article/bulk-upload-video-pins",k="https://www.pinterest.com/_/_/help/business/article/conversion-insights",E="https://www.pinterest.com/_/_/help/business/article/pinterest-tag-implementation-overview",I="https://www.pinterest.com/_/_/help/business/article/enhanced-match",A="https://www.pinterest.com/_/_/help/business/article/automatic-enhanced-match",C="https://www.pinterest.com/_/_/help/business/article/share-and-manage-access-to-your-ad-accounts",R="https://www.pinterest.com/_/_/business/",j="https://www.pinterest.com/_/_/help/articles/pinterest-analytics",D="274266067164",O="1655662257",L="ads.pinterest.com",N=`${(0,i.Z)({site:"sterling"})}`,F="https://pinterest.onelink.me/TVSr/dwebios",M="https://pinterest.onelink.me/TVSr/dwebandroid",z="/_/_/about/",U="https://www.pinterest.com/_/_/help/articles/block-or-unblock-someone",B="/about/copyright/dmca-pin/",Z="https://tagmanager.google.com",V="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",H="https://www.pinterest.com/_/_/help/",K="https://business.pinterest.com",G="https://www.pinterest.com/pin/12345/",W="https://www.pinterest.com/_/_/policy/cookies/",$="https://www.pinterest.com/_/_/business/content/creative-best-practices",q="/login/",Y="https://help.pinterest.com/contact",X="https://developers.pinterest.com/docs/conversions/conversion-management/",J="https://developers.pinterest.com/docs/api/v5/",Q="https://policy.pinterest.com/merchant-guidelines",ee=`${(0,i.Z)({site:"sterling",path:"/promoted_pin_v2/campaign/"})}`,te=`${(0,i.Z)({site:"analytics"})}`,ne=`${(0,i.Z)({site:"analytics",path:"/audience-insights/"})}`,ie=`${(0,i.Z)({site:"analytics",path:"/overview/"})}`,ae="https://trends.pinterest.com",oe="https://trends-internal.pinadmin.com",re=`${(0,i.Z)({site:"www"})}/advertiser/quick-promote`,le="https://www.pinterest.com/business/verified-merchant/status",se="https://policy.pinterest.com/notice-at-collection",de="https://careers.pinterest.com/",ce="https://www.pinterest.com/_/_/business/business-terms-of-service/",ue="https://www.pinterest.com/_/_/help/",pe="https://help.pinterest.com/?context=business",me="https://developers.pinterest.com",he="https://www.pinterest.com/_/_/help/articles/promoted-pins",_e="https://help.pinterest.com/article/promoted-pins",ge="/_/_/policy/terms-of-service/",ve="https://policy.pinterest.com/community-guidelines",ye="https://business.pinterest.com/business-terms-of-service",fe=["CA"],be=["CA"],xe="https://accounts.pinterest.com",Pe="https://www.pinterest.com/_/_/help/contact",Se="https://business.pinterest.com/pinterest-advertising-services-agreement",we="https://www.pinterest.com/_/_/business/Pinterest-product-specs",Te="https://www.pinterest.com/_/_/help/business/article/pinterest-product-specs",ke="https://www.pinterest.com/_/_/help/business/article/story-pins",Ee="https://help.pinterest.com/business/article/audience-targeting",Ie="https://pinterest.com/_/_/help/article/your-privacy-and-data-settings",Ae="https://pinterest.com/_/_/help/article/update-your-search-privacy",Ce="https://pinterest.com/_/_/help/article/personalization-and-data#info-ad",Re="https://www.pinterest.com/_/_/help/article/third-party-analytics-or-advertising-providers-pinterest-uses-or-allows",je="https://help.pinterest.com/business/article/about-catalogs",De="https://help.pinterest.com/business/article/data-source-setup",Oe="https://help.pinterest.com/business/article/data-source-ingestion",Le="https://help.pinterest.com/business/article/create-product-groups",Ne="https://help.pinterest.com/en/business/article/before-you-get-started-with-catalogs#section-9441",Fe="https://help.pinterest.com/en/business/article/promote-your-product-groups",Me="https://pinterest.com/_/_/help/landing/request-a-feature",ze="https://www.pinterest.com/_/_/help/business/article/video-pins",Ue="ms-windows-store://pdp/?productid=9PFHDSF91B9R",Be="https://www.pinterest.com/_/_/newsroom/",Ze="https://www.pinterest.com/_/_/policy/",Ve="https://help.pinterest.com/business/article/ad-only-profiles",He="https://www.pinterest.com/_/_/help/business/article/set-up-the-pinterest-tag",Ke="https://www.pinterest.com/_/_/help/business/article/install-the-pinterest-tag",Ge="https://www.pinterest.com/_/_/help/business/article/google-tag-manager-and-pinterest-tag",We="https://www.pinterest.com/_/_/help/business/article/squarespace-and-pinterest-tag",$e="https://www.pinterest.com/_/_/help/business/article/bigcommerce-and-pinterest-tag",qe="https://help.pinterest.com/business/article/before-you-get-started-with-catalogs",Ye="https://help.pinterest.com/business/article/verified-merchant-program",Xe=`${(0,i.Z)({site:"sterling",path:"/conversions/tag-health"})}`,Je=`${(0,i.Z)({site:"analytics",path:"/conversion-insights/"})}`,Qe="https://pinterest.com/_/_/help/article/manage-your-linked-business-account",et="/add-account",tt="/settings/account-settings/",nt="/settings/personal-information",it="/settings/privacy",at=`${(0,i.Z)({site:"sterling",path:"/recommendations"})}`,ot="/business/hub",rt="https://pinterest.com/_/_/help/article/protect-your-account"},700380:(e,t,n)=>{function i(e,t){let n;const i=(...i)=>{n||(e(...i),n=setTimeout((()=>n=null),t))};return i.cancel=()=>{void 0!==n&&clearTimeout(n)},i}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(722767),o=n(706922),r=n(245474),l=n(558068),s=n(350118),d=n(780280),c=n(790123),u=n(425288);const{Provider:p,useMaybeHook:m}=(0,u.Z)("timeSpentContext");var h=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),_(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),_(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:o,viewParameter:r}=this.props;return{view:o||a&&a.view,viewParameter:r||a&&a.viewParameter,component:t||a&&a.component,element:n,objectId:i||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),_(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),_(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),_(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),_(this,"getTimedPair",(()=>this.state.timedPair)),_(this,"setTimedPair",(e=>this.setState({timedPair:e}))),_(this,"isRegistered",!1),_(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),_(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),_(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(p,{value:this.getContext(),children:(0,h.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function v(e){var t;const n=(0,l.Hv)(),a=m(),o=(0,c.w)(),r=(0,s.H0)(),{requestIdentifier:u=""}=(0,d.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==o||o.setHistoryStackContext(n)}),[n,o]),(0,i.useEffect)((()=>{null==o||o.setPins(null!=r?r:{})}),[r,o]),o?(0,h.jsx)(g,{...e,auxData:p,timeSpentContext:a,timeSpentManager:o,children:e.children}):e.children}v.displayName="TimeSpent";const y=v},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>c});var i=n(829407),a=n(407043),o=n(50286),r=n(780280),l=n(425288),s=n(785893);const{Provider:d,useMaybeHook:c}=(0,l.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,a.v)(),l=(0,o.HG)(),{isAuthenticated:c}=(0,r.B)(),u=l&&c;return(0,i.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,s.jsx)(d,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(172045),a=n(17314);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){o(this,"start",(()=>(this.startTime=r(),this.startTime))),o(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,n)=>{n.d(t,{E5:()=>d,T7:()=>o,Y_:()=>c,bl:()=>l,d9:()=>p,nx:()=>u,xt:()=>s});var i=n(19121),a=n(780280);n(883119);function o(e,t,n,i){const a=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(n);return`/today/${a}/${encodeURIComponent(o)}/${i}/`}const r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function l(){var e;const t=(0,a.B)(),n=(0,i.Z)(),o=n.isAuth?n.country:t.country,l=t.locale.substring(0,2);return null===(e=r[l])||void 0===e?void 0:e.includes(o)}const s=(e,t,n)=>e||(t||n||""),d=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),c=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},867820:(e,t,n)=>{n.d(t,{yl:()=>c,qJ:()=>p,Nc:()=>v,dy:()=>y,NC:()=>g,My:()=>h,tj:()=>m});var i=n(214494);const a="unauthHistories",o="authHistories",r="trackHistoryClickInternalUrl";var l=n(339363);let s=[];let d;function c(e){s.length&&(i.Z.create("UserRegisterTrackActionResource",{actions:s}).callUpdate({showError:!1,async:!e}),s=[],d=null)}function u(e,t){const n=(0,l.qn)(r);if((0,l.L_)(r),n)return;let i=(0,l.qn)(e);if(i=i?i.split(","):[],i.length){const e=`${t}.${i.reduce(((e,t)=>e+"-"+t))}`;s.push({name:e,aux_data:{}})}(0,l.L_)(e)}const p=e=>{u(a,e),u(o,`${e}_auth`),s.length&&c(!0)};function m(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),s.push({name:n,aux_data:t}),d||(d=setTimeout((()=>c()),5e3)),function(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}(e,t)}function h(e,t){m(e,{tags:t?{...t}:Object.freeze({})})}function _(e,t,n=!1){if("undefined"==typeof window)return;let i=(0,l.qn)(e);i=i?i.split(","):[],i.push(t),(0,l.Nh)(e,i.join()),e!==o&&h(`lex.${t}`),n&&(0,l.Nh)(r,!0)}function g(e,t=!1){_(a,e,t)}function v(e,t=!1){_(o,e,t)}const y=({event:e,provider:t})=>{h(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,n)=>{n.d(t,{S:()=>l,Z:()=>s});var i=n(667294),a=n(867820),o=n(53987),r=n(276775);const l=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function s(){const e=(0,r.useLocation)();return(0,i.useCallback)((({action:t,item:n,within:i})=>{const o=l(e);(0,a.My)(`logged_out_product.interaction.${o}.${t}`,{item:n||"none",within:i||"none"})}),[e])}},758127:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>r});var i=n(883119),a=n(785893);const o=", ";function r(){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:o})}},569139:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>l});var i=n(667294),a=n(898781),o=n(883119),r=n(785893);const l=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,r.jsx)(o.xu,{display:"inlineBlock","data-test-id":"more-description",children:(0,r.jsx)(o.iP,{onTap:t,children:(0,r.jsx)(o.xv,{weight:"bold",inline:!0,children:e?n:i})})});function s({isExpanded:e,description:t,maxHeight:n,handleToggle:s,Wrapper:d}){const c=(0,i.useRef)(null),[u,p]=(0,i.useState)(!1),m=(0,a.ZP)();(0,i.useEffect)((()=>{if(!c||!c.current)return;const{height:e}=c.current.getBoundingClientRect();e>n&&p(!0)}),[c,n]);const h=(0,r.jsx)(l,{isExpanded:e,onToggle:s,expandedText:m.bt("", "less", "closeup.description.toggle.lessButton", undefined, true),collapsedText:m.bt(" ", "... more", "closeup.description.toggle.moreButton", undefined, true)});return(0,r.jsx)(d,{children:(0,r.jsxs)(o.xu,{maxHeight:e?void 0:n,overflow:"hidden",position:"relative",children:[(0,r.jsx)(o.xu,{ref:c,children:(0,r.jsxs)(o.xv,{inline:!0,children:[t," ",u&&e&&(0,r.jsxs)(o.xv,{inline:!0,weight:"bold",children:["... ",h]})]})}),u&&!e&&(0,r.jsx)(o.xu,{position:"absolute",right:!0,bottom:!0,width:140,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, rgb(255, 255, 255) 50%, rgba(255, 255, 255, 0) 100%)",textAlign:"end"}},children:h})]})})}},477802:(e,t,n)=>{n.d(t,{W:()=>r,Z:()=>o});var i=n(883119),a=n(785893);function o({data:e}){return(0,a.jsx)(i.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const r=e=>(0,a.jsx)(i.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(o,{...e})})},948618:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},939106:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(948618),o=n(883119),r=n(785893);function l(e){return null!=e}function s({additionalPadding:e,color:t="darkGray",inline:n,items:s}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(a.Z,{color:t})}):(0,r.jsx)(a.Z,{color:t}),c=s.filter(l).reduce(((e,t,n)=>[...e,0!==n?d:null,t]),[]).filter(l).map(((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)));return 0===c.length?null:n?(0,r.jsx)(o.xu,{children:c}):(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:c})}},343341:(e,t,n)=>{n.d(t,{F9:()=>r,Zo:()=>a,nE:()=>o});var i=n(425288);const{Provider:a,Consumer:o,useHook:r}=(0,i.Z)("toastManagerContext")},753311:(e,t,n)=>{n.d(t,{M:()=>r,Q:()=>o});var i=n(667294);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),r=a.Provider},690035:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(753311);const a=()=>{const e=(0,i.Q)();return t=>{if(e){const{pinId:n,location:i,seoPlacementConfig:a}=t;e.showUnauthContextMenu({pinId:n,location:i,seoPlacementConfig:a})}}}},579164:(e,t,n)=>{n.d(t,{Z:()=>i});const i=Object.freeze({SAME_ORIGIN:1,TRUSTED_DIFFERENT_ORIGIN:2,UNTRUSTED:3,INVALID:4})},567831:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>e.match(/^https{0,1}:\/\//)?e:(void 0===t&&(t=window.location.protocol),void 0===n&&(n=window.location.hostname,window.location.port&&(n+=":"+window.location.port)),""!==n&&"/"!==e.charAt(0)&&(e="/"+e),t+"//"+n+e)},794230:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643913),a=n(704115),o=n(251819);const r=(e,t)=>{if(!(0,o.Z)(t)){const n=e.split("?"),o=n[0],r=n[1],l={...r?(0,a.Z)(r):{},...t};return o+"?"+(0,i.Z)(l)}return e}},170168:(e,t,n)=>{n.d(t,{Ag:()=>o,C0:()=>s,Vi:()=>r,YD:()=>u,kS:()=>a,oo:()=>l,p3:()=>p,vC:()=>d,vI:()=>c});var i=n(401060);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",l="https://help.pinterest.com",s="https://www.pinterest.com",d=(0,i.Z)({site:"developers"}),c=`${(0,i.Z)({site:"sterling"})}`,u=`${(0,i.Z)({site:"analytics"})}`,p=`${(0,i.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},29538:(e,t,n)=>{n.d(t,{X:()=>a,c:()=>i});const i="pinterest.com",a="pinterdev.com"},323716:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>window.location.pathname+("?"===window.location.search?"":window.location.search)},250059:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},643913:(e,t,n)=>{function i(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=n,o=e[n];if(void 0!==o){let e;e=Array.isArray(o)?encodeURIComponent(a)+"=["+o.map((e=>encodeURIComponent(e))).join(",")+"]":"object"==typeof o?i(o):encodeURIComponent(a)+"="+encodeURIComponent(o),t.push(e)}}return t.join("&")}n.d(t,{Z:()=>i})},704115:(e,t,n)=>{function i(e){null==e&&"undefined"!=typeof window&&(e=window.location.search);const t={};if(e){"?"===e[0]&&(e=e.substring(1));const n=/\+/g,i=/([^&=]+)=?([^&]*)/g,a=function(e){let t=e.replace(n," ");try{t=decodeURIComponent(t)}catch(i){t=unescape(t)}return t};let o=i.exec(e);for(;o;){t[a(o[1])]=a(o[2]),o=i.exec(e)}}return t}n.d(t,{Z:()=>i})},547239:(e,t,n)=>{n.d(t,{Z:()=>s});const i=(e,t)=>-1!==e.indexOf(t,e.length-t.length);var a=n(89254),o=n(579164),r=n(966113),l=n(29538);const s=e=>{if("undefined"==typeof window)return o.Z.INVALID;const t=(0,a.Z)(e);let n="",s="";try{n=window.location.origin,s=window.location.hostname}catch(d){}if(t.origin===n)return o.Z.SAME_ORIGIN;if(t.hostname===s)return o.Z.TRUSTED_DIFFERENT_ORIGIN;if(t.hostname){const e=[l.c,l.X];for(const n of e)if(t.hostname===n||i(t.hostname||"","."+n))return o.Z.TRUSTED_DIFFERENT_ORIGIN}return t.origin&&"https://www.pinterest.com"===t.origin?o.Z.TRUSTED_DIFFERENT_ORIGIN:"https"!==t.protocol||"pinterest.onelink.me"!==t.host||e!==r.c9&&e!==r.Js?t.origin?o.Z.UNTRUSTED:o.Z.INVALID:o.Z.TRUSTED_DIFFERENT_ORIGIN}},401060:(e,t,n)=>{n.d(t,{Z:()=>i});new RegExp(/\bdev\b.*/);function i({site:e,path:t=""}){const n="sterling"===e?"ads":e;if(t&&!t.startsWith("/"))throw new Error(`${t} needs to start with '/' -- hostForSite() does not append a trailing slash to the host, so all paths should start with '/'`);return`https://${n}.pinterest.com${t}`}},826067:(e,t,n)=>{n.d(t,{Gw:()=>p,JJ:()=>d,Jx:()=>s,OM:()=>a.Z,Qc:()=>r.Z,Qg:()=>l.Z,XP:()=>u,mB:()=>c,ru:()=>i.Z,sD:()=>m,tV:()=>h,vx:()=>o.Z});var i=n(794230),a=n(547239),o=n(579164),r=n(89254),l=n(954931);const s=e=>{if(!e)return"";try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return""}},d=()=>{const{pathname:e,search:t}=window.location;return e+("?"===t?"":t)},c=(e,t={shouldDecode:!0})=>e?("?"===e[0]&&(e=e.substr(1)),e.split("&").reduce(((e,n)=>{const[i,a]=n.split(/=(.+)/);return null!=t&&t.shouldDecode?e[s(i)]=s(a):e[i]=a,e}),{})):{},u=e=>Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&"),p=(e,t)=>{if(0===t.length)return e;const[n,a]=e.split("?"),o=Object.entries(c(a)).filter((([e,n])=>!t.includes(e))).reduce(((e,[t,n])=>({...e,[t]:n})),{});return(0,i.Z)(n,o)},m=e=>/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e);function h(e,...t){let n=e[0];for(let a=0;a<t.length;a+=1)n+=(i=t[a],encodeURIComponent(i).replace(/~/g,"%7E").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/!/g,"%21").replace(/\\/g,"%5C").replace(/'/g,"%27")+e[a+1]);var i;return n}},149230:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(954931);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},954931:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(547239),a=n(579164);const o=e=>[a.Z.SAME_ORIGIN,a.Z.TRUSTED_DIFFERENT_ORIGIN].includes((0,i.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831);const a=(e,t)=>0===e.lastIndexOf(t,0),o=({url:e})=>{const t=(0,i.Z)("/");return a(e,t)?e.substr(t.length-1):e}},188682:e=>{function t(e){for(var n=t.options,i=n.parser[n.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[n.key[o]]=i[o]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,(function(e,t,i){t&&(a[n.q.name][t]=i)})),a}t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:(?<!\\)@]*)(?::([^:@]*))?)?@)?([^:\/?#\\]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.options.strictMode=!0,e.exports=t},89254:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(188682),a=n.n(i);const o=(e,t)=>{let n,i;const o=a()(e);switch(o.protocol){case"http":case"https":o.userInfo&&(o.userInfo.endsWith("%23")||o.userInfo.endsWith("#"))?(n=o.protocol+"://"+o.userInfo,i=""):o.userInfo?(n=o.protocol+"://"+o.host,i=o.host):(n=o.protocol+"://"+o.authority,i=o.host);break;case"":if(0===o.source.indexOf("//")){if(t)n=null;else try{n=window.location.protocol+"//"+o.authority}catch(r){n=null}i=o.host}else if(t)n=null,i=null;else try{n=window.location.protocol+"//"+window.location.hostname,i=window.location.hostname}catch(r){n=null,i=null}break;default:n=null,i=o.host}return{...o,origin:n,hostname:i}}},327476:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(773285);function a(){const{checkExperiment:e}=(0,i.F)();return t=>e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}},311541:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const n=(0,i.useRef)([]),[a,o]=(0,i.useState)(),[r,l]=(0,i.useReducer)(null!=a?a:()=>t,t),s=(0,i.useCallback)((t=>{a?l(t):(n.current.length||e().then((e=>{o((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,i.useEffect)((()=>{a&&(n.current.forEach(l),n.current=[])}),[a]),[r,s]}},829407:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},215292:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>o});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(a())}const r=a},35954:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},807609:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(411465),a=n(966476);const o=()=>{const e=(0,i.Z)(),t=(0,a.Z)();return e&&!t}},411465:(e,t,n)=>{n.d(t,{G:()=>l,Z:()=>s});var i=n(667294),a=n(276775),o=n(785893);const r=(0,i.createContext)(!0);function l({children:e}){const t=(0,a.useLocation)(),[n,l]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)((()=>{s.current!==t&&(s.current=t,l(!1))}),[t]),(0,o.jsx)(r.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(r)}},81072:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(700380);const o=()=>{const[e,t]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=(0,a.Z)((()=>t(window.scrollY)),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),e}},19121:(e,t,n)=>{n.d(t,{$:()=>a,Z:()=>r});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("viewer"),r=o},46584:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);const a=new Map;let o=null;const r=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))};function l({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:l}){const s=(0,i.useRef)(null);let d=!1;const c=()=>{var t;s.current instanceof HTMLElement&&(t=s.current,a.has(t))&&(d&&(e(!1),d=!1))},u=(0,i.useCallback)((i=>{s.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(r,i),a.set(e,n),o.observe(e)})(s.current,i,(i=>{if(!a.has(s.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,r=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!r;!d&&r?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;d=n,d&&e(!0)})(i):d&&l&&c()}))}),[s.current]);return(0,i.useEffect)((()=>(u(l),()=>{var e;s.current instanceof HTMLElement&&(c(),e=s.current,o.unobserve(e),a.delete(e))})),[u]),s}},644035:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>o});const i="ios",a="android",o="ipad"},134906:(e,t,n)=>{n.d(t,{Bh:()=>c,C9:()=>b,CB:()=>m,CU:()=>r,FU:()=>E,GT:()=>l,Gy:()=>g,J_:()=>w,Jx:()=>h,MZ:()=>v,VC:()=>p,VG:()=>s,ZA:()=>d,Zt:()=>_,a3:()=>I,aH:()=>o,h7:()=>S,nw:()=>f,oR:()=>x,qA:()=>u,qp:()=>T,sG:()=>y,vd:()=>k,xk:()=>P});var i=n(89254);const a=e=>{const t={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":" "},n=String(e).split("");return n.forEach(((e,i)=>{const a=t[e];a&&(n[i]=a)})),n.join("")};function o(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,n){const i=[];(t=t&&t.trim()).match(r)||i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function s(e){return function(t,n){const i=[];(t=t&&t.trim()).match(/^[^0-9].*$/)||i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function d(e){return function(t,n){const i=[];if(t){const n=parseInt(t,10);Number.isNaN(n)?i.push(e.invalidAgeString):(e.ageTooShortString&&n<10&&i.push(e.ageTooShortString),n<=0||n>120?i.push(e.invalidAgeString):e.checkUnderAgeWithString&&n<13&&i.push(e.checkUnderAgeWithString))}const a={errors:i,warnings:[]};return n&&n(a),a}}function c(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),a=[],o=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||a.push(e.message);const r={errors:a,warnings:[]};return n&&n(r),r}}function u(e){return function(t,n){const i=/^\d+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(i)&&o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function p(e){return function(t,n){const i=/^[\d\ -]+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=a(t))&&!t.match(i)&&o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}const m=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function h(e){return function(t,n){const i=[];t&&!m(t)&&i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function _(e){return function(t,n){const a=[];if(t)try{const n=(0,i.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||a.push(e.message)}catch(r){a.push(e.message)}const o={errors:a,warnings:[]};return n&&n(o),o}}function g(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const a=t.length;e.min&&a<e.min?i.push(e.minErrorString):e.max&&a>e.max&&i.push(e.maxErrorString);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=!e.checkExclusion,a=e.substrings,o=[];(i&&!a.some((e=>t.includes(e)))||!i&&a.some((e=>t.includes(e))))&&o.push(e.message);const r={errors:o,warnings:[]};return n&&n(r),r}}function y(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function f(e){return function(t,n){const i=[];(t?parseFloat(t):0)<e.value&&i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function b(e){return function(t,n){const i=new Date(t),a=[];e.date instanceof Date&&i instanceof Date&&e.date<i&&a.push(e.message);const o={errors:a,warnings:[]};return n&&n(o),o}}function x(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function P(e){return function(t,n){let i=2;if(e.hasFractionalCents)i=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();i=t}const a=new RegExp(i?`^\\d*(\\.\\d{1,${i}})?$`:"^\\d*$"),o=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(a)&&(t=t&&t.trim(),o.push(e.message));const r={errors:o,warnings:[]};return n&&n(r),r}}function S(e){return function(t,n){const i=[];Number(t)>=1e13&&i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function w(e){return function(t,n){t=t&&t.trim();const i=[],a=new Date(t);t&&!a.getTime()&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function T(e){return function(t,n){const i=t&&t.trim(),a=[];i&&!i.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);const o={errors:a,warnings:[]};return n&&n(o),o}}function k(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const a={errors:i,warnings:[]};return n&&n(a),a}}function E(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function I(e,t){let n="";return t.some((t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)})),n}},562559:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(867631),o=n.n(a),r=n(112690),l=n(19121),s=n(965900),d=n(773285),c=n(780280),u=n(883119),p=n(969315),m=n(179888),h=n(858416),_=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},y=(e,t)=>"string"==typeof e?v(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:v(e[0].src,t)}]:e)(e,t):e;class f extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:m.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?v(this.props.src,this.props.quicExpGroup):v(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(o())(t),a=y(e,n);i.loadSource(a),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(o().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(o().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(o().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(o().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(o().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(o().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(o().Events.ERROR,this.handleHlsError),this.hls=i})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},a="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime);const l={indicatedKbps:a.bitrate/m.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/m.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(l)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls.levels,a="number"==typeof e.level?n[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/m.bR;const l={indicatedKbps:a.bitrate/m.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/m.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(l)}}else(0,p.tE)("initializeSegmentsFailed",!0,n)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*m.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,p.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(m.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:m.Cy.ENDED}),n&&n(e)})),g(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:a=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var r,l,s,d;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(r=t.err)||void 0===r||null===(l=r.message)||void 0===l?void 0:l.slice(0,50))||"unknown",errorResponse:(null===(s=t.response)||void 0===s||null===(d=s.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case o().ErrorTypes.NETWORK_ERROR:if(t.details===o().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===o().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===o().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var c;const{src:e,quicExpGroup:t}=this.props,n=y(e,t);null===(c=this.hls)||void 0===c||c.loadSource(n)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case o().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:m.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/m.Fm);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/m.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:m.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:m.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:m.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:m.Cy.PLAYING}),this.props.clearSeekTime()})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==m.Cy.STALLING&&this.state.playbackState!==m.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:m.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==m.Cy.ENDED&&this.setState({playbackState:m.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==m.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:m.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===m.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:l,detailedErrors:s,downloadedKiloBytes:d,errorCode:c,errorName:u,errorReason:h,hasFatalError:_,playbackStartTimestamp:g,totalPauseDurationMs:v,totalStallDurationMs:y,segments:f,srcString:b,loadStartTime:x,numberOfStalls:P,numberOfSeeks:S}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===m.DR,k=T&&!this.hasVideoSessionStarted,E=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&w&&(k||E)){var I;let k=-1;l&&x&&(k=l>x?l-x:0);let E=-1;l&&this.videoVisibleTime&&(E=l>this.videoVisibleTime?l-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,m.Y7)(i),this.playerId=this.playerId||(0,m.EB)());const A={autoplaying:a,averageVideoKbps:-1,detailedErrors:s,downloadedKiloBytes:d,isCellular:!1,errorCode:c,errorName:u,errorReason:h,fatalError:_,nativeVideoDurationMs:w.duration*m.gJ||-1,numberOfStalls:P,numberOfSeeks:S,overallPausedDurationMs:v,overallBufferDurationMs:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:g||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:k,startupLatencyMs:E,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:b};if(!T&&f.length){const e=this.hls.levels,t=f[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=f.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/m.gJ}return t}),0),i=f.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,o=0,r=0;do{o+=f[r].watchedDurationMs,a=a||f[r].level,r+=1}while(r<f.length&&f[r].level===a);A.startupVariantKbps=t.indicatedKbps,A.startupVariantWatchedDurationMs=o,A.startupVariantWidth=t.sourceWidth,A.startupVariantHeight=t.sourceHeight,A.startupPlayerWidth=t.viewportWidth,A.startupPlayerHeight=t.viewportHeight,A.overallWatchedDurationMs=i,i>0?(A.averageVideoKbps=n/(i/m.gJ),A.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(A.averageVideoKbps=-1,A.rebufferRate=-1,A.errorName="invalid_watch_duration"),A.segments=f}else A.errorName="invalid_watch_duration";(0,p.ZP)(A,!0,r,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:C,component:R,durationNs:j,element:D,objectId:O,pairId:L,viewData:N,view:F,viewParameter:M,...z}=n;o({aux_data:{...z,is_closeup_video:r,playback_session_id:this.videoSessionId},clientTrackingParams:C,component:R,duration_ns:j,element:D,event_data:{videoPerformanceData:A},event_type:3606,object_id_str:O,pair_id:L,view_data:N,view_parameter:M,view_type:F}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(T?"sessionStart":"sessionEnd",!0,r,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(m.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:a,appInFocus:o,seekTime:r}=this.props;var l,s;r&&r!==e.seekTime&&this.setState({videoStartTime:r}),(typeof(l=e.src)!=typeof(s=i)||(Array.isArray(s)?l.length!==s.length||s.some(((e,t)=>!Array.isArray(l)||e.type!==l[t].type||e.src!==l[t].src)):s!==l))&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(m.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(m.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(m.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(m.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(m.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,backgroundColor:s,captions:d,controls:c,loop:p,loopOverride:m,onDurationChange:h,onFullscreenChange:g,onLoadedChange:v,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onSeek:P,onVolumeChange:S,playbackRate:w,playing:T,playsInline:k,poster:E,preload:I,quicExpGroup:A,src:C,volume:R}=this.props,{canPlayVideo:j,isManifestParsed:D,videoStartTime:O}=this.state,L=y(C,A);return(0,_.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,backgroundColor:s,captions:d,controls:c,loop:void 0===m?p:m,onDurationChange:h,onEnded:this.handleEnded,onFullscreenChange:g,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:P,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:w,onPlay:()=>{},onPlayError:()=>{},playing:D&&j&&T,playsInline:k,poster:E,preload:I,ref:this.setVideoPlayerRef,src:L,startTime:O,volume:R})}}const b=(0,i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:o,userAgent:u}=(0,c.B)(),m=(0,r.Z)(),g=(0,l.Z)(),{browserName:v,browserVersion:y,isMobile:b}=u,{contextLogData:x={}}=e,{is_closeup_video:P=!1,view:S,viewParameter:w}=x,{checkExperiment:T}=(0,d.F)(),{seekTime:k}=(0,h.Hx)(),{clearSeekTime:E}=(0,h.RC)();let I=null;n&&(I=T("web_video_quic").group.length?T("web_video_quic").group:null);const{appUI:A}=(0,s.I)(),C=T("web_video_fail_to_start_fix").anyEnabled?A.appInFocus:e.appInFocus,R={browserName:v,browserVersion:y,country:t,isAuthenticated:n,isBot:i,is_closeup_video:P,isMobile:b,isSocialBot:a,view:S,viewParameter:w};return(0,p.r$)(R),(0,_.jsx)(f,{...e,userId:g.id||o,appInFocus:C,quicExpGroup:I,logContextEvent:m,seekTime:k,clearSeekTime:E})}))},964082:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};for(const o in a){const{paused:t}=a[o];if(o!==e&&!t)return!1}return!0}n.d(t,{Z:()=>i})},36971:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return a[e]&&a[e].currentTime}n.d(t,{Z:()=>i})},428258:(e,t,n)=>{n.d(t,{Z:()=>o,t:()=>a});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return n?"4g"===n?i="40-80":(a="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:a}};function a(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),a={"1x":e.V_EXP3,"2x":e.V_EXP5},o={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:a,"0-1":a,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":o,"40-80":o,"80_or_above":o}[t][n]||e.V_720P||void 0}function o(e){const{video_list:t={}}=e,n=a(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},463045:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return!!a[e]&&!a[e].paused}n.d(t,{Z:()=>i})},969315:(e,t,n)=>{n.d(t,{ZP:()=>u,r$:()=>d,tE:()=>c});var i=n(311560),a=n(172071),o=n(179888);const r=["isCellular","videoUrl","sessionMark"];let l={},s="";const d=e=>{const{browserName:t,browserVersion:n,country:a,isAuthenticated:o,isBot:r,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;s=(c?"socialBot":r&&"bot")||"nonbot";const m=(0,i.Z)(a);l={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,isMobile:d,region:m,view:u,viewParameter:p}};function c(e,t,n,i={}){const o=n?"closeup":"nonCloseup",r=t?"hls":"nonHls",d={...i,...l},c=`web.video.${r}.${s}.${o}.${e}`;a.Z.increment(c,1,d)}function u(e,t,n,i={}){const d=n?"closeup":"nonCloseup",c=t?"hls":"nonHls",u=e.sessionMark===o.DR?"sessionStart":"sessionEnd",p={...i,...l};if(Object.entries(e).forEach((([t,n])=>{const i=`web.video.${c}.${s}.${d}.${u}.${t}`,o=parseInt(n,10),l="number"==typeof o?o:-1;var m;if(!r.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:o}=e;a.Z.increment(i,1,{errorCode:t,errorName:n,errorReason:o,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(m=l)<0?"negative":0===m?"zero":m<200?"xs":m<400?"s":m<600?"m":m<800?"l":m<1e3?"xl":m<1200?"xxl":"over1200";a.Z.increment(i,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=n;l>1e3?e="over1000":l>10?e="over10":l<0&&(e="negative"),a.Z.increment(i,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?a.Z.increment(i,1,{screenPixelScale:n||-1,...p}):l>=0?(0===l&&a.Z.increment(`${i}.zero`,1,p),a.Z.timing(i,l,1),a.Z.timing(`${i}_with_tags`,l,1,p)):l<0&&a.Z.increment(`${i}.negative`,1,p)})),e.sessionMark!==o.DR){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:i,startupVariantWidth:o,startupPlayerWidth:r}=e,l=`web.video.${c}.${s}.${d}.${u}`;if("number"==typeof o&&"number"==typeof r&&"number"==typeof n){const e=1.5*o>n*r;a.Z.increment(`${l}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof i&&a.Z.increment(`${l}.startupLatency.${i<500?"good":"bad"}`,1,p),"number"==typeof t&&a.Z.increment(`${l}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,n)=>{n.d(t,{$f:()=>o,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>s,Y7:()=>u,bR:()=>l,gJ:()=>r,lG:()=>c});var i=n(172045);const a=1,o=2,r=1e3,l=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},121630:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>a});var i=n(81226);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,n,a,o,r;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(a=n.video_list)||void 0===a||null===(o=a.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(r=e.story_pin_data)||void 0===r?void 0:r.total_video_duration)||0)}},43760:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),a=n(102500),o=n(48714);function r({url:e,pinId:t,pin:n,location:r,auxData:l}){var s,d;const c={check_only:!0,client_tracking_params:n?(0,i.Z)({boardUrl:null===(s=n.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(d=n.pinner)||void 0===d?void 0:d.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(l)};(0,a.Z)(c).callGet().then((a=>{if(a&&a.resource_response&&!a.resource_response.error){const{resource_response:e}=a,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var s,d;const a=(0,i.Z)({boardUrl:null===(s=n.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(d=n.pinner)||void 0===d?void 0:d.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,o.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:a,auxData:l})}else(0,o.Gj)({url:e,pinId:t})}))}},869899:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>y});var i=n(667294),a=n(389643),o=n(784590),r=n(19121),l=n(773285),s=n(425288),d=n(70061);const c=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,d.Z)(n)]=e[n]:t[(0,d.Z)(n)]=c(e[n]));return t},u=(e,t)=>{const n=[];for(const o in e)o!==t&&n.push({id:o,...c(e[o])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const o of i)a.set(o.id,o);return a};var p=n(339363);const m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},_=e=>{const[t,n]=(0,i.useReducer)(h,m),a=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:a,disableProfileChanger:o,headerVisible:r}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!o})}),[t,e,o]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:r}=t;(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacVisibility",r)}),[r]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:a,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:u(e,t)})}),[n])}};var g=n(785893);const{Provider:v,useMaybeHook:y}=(0,s.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,l.F)(),n=(0,r.Z)(),s=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:c,receiveProfiles:u}=_(s),{activeProfile:p,headerVisible:m,profiles:h=[]}=d,y=h?Array.from(h.values()):[],f=(0,a.Z)(y),b=!!(n.isAuth&&y.length>0)&&f,x=n.isAuth?n.id:"",P=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:k}=c;(0,i.useEffect)((()=>{s&&("string"!=typeof f?p||S(x):S(f))}),[f,x,s,S,p]),(0,i.useEffect)((()=>{s&&(b&&!m&&k(!0),!b&&m&&k(!1))}),[k,b,s,m,h]);const{data:E}=(0,o.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),I=null==E?void 0:E.profiles;let A;n&&n.isAuth&&d.activeProfile===n.id?A={id:n.id,permissions:["OWNER"],user:{username:P,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(A=d.profiles.get(p)),(0,i.useEffect)((()=>{I&&u(I,x)}),[u,I,x]);const C=d.profiles?Array.from(d.profiles.values()):[];return(0,g.jsx)(v,{value:{profiles:C,headerVisible:d.headerVisible,activeProfile:A,changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:k},children:e})}},717615:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(389643),a=n(773285),o=n(869899);const r=()=>{const{checkExperiment:e}=(0,a.F)(),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,i.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r?s&&!l?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),a=n(19121),o=n(773285),r=n(53987),l=n(276775);const s=e=>{var t;const n=(0,l.useLocation)(),s=(0,a.Z)(),{anyEnabled:d}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,l.useRouteMatch)("/:username"),u=null==c||null===(t=c.params)||void 0===t?void 0:t.username,p=(0,l.useRouteMatch)("/pin/:id"),m=(0,i.useSelector)((e=>{var t,n,i,a;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[p.params.id])||void 0===i||null===(a=i.pinner)||void 0===a?void 0:a.id)}));if((0,r.ej)(n))return!1;if((0,r.RU)(n))return!0;if((0,r.mY)(n))return d;const h=e.concat(s.isAuth?{user:{username:s.username},id:s.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&u||m&&n)&&(i===u||m===n)}));return!!h&&h.id}},845772:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(717615),a=n(19121),o=n(231947);const r=()=>{const e=(0,a.Z)(),t=(0,i.Z)();return(0,o.lJ)(e,t)}},231947:(e,t,n)=>{n.d(t,{D3:()=>d,DX:()=>l,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>o,nl:()=>a,q6:()=>s});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},l=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(s(e,t,n)||e&&e.isAuth&&t===e.id),c=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){const i=t?t.id:"";return d(e,i,n)}},139405:(e,t,n)=>{n.d(t,{pb:()=>y,nf:()=>f,lV:()=>b});var i=n(667294),a=n(702664),o=n(214494),r=n(618446),l=n.n(r),s=n(682492),d=n.n(s);const c={feature_map:Object.freeze({})},u=(e,t)=>{const n={...d()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return l()(e,n)?e:n},p=(e=c,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:n}}=t,i=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=u(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=u(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].aggregated_comment,n=t?{[t.id]:u(e[t.id],t)}:{},a=i[0].creator_reply,o=a?{[a.id]:u(e[a.id],a)}:{};return{...e,...n,...o}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:u(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.reaction_counts[1]||0,o={1:n.reaction_by_me?a+1:a-1},r={...i,reaction_by_me:n.reaction_by_me,reaction_counts:o};return{...e,[n.id]:r}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.helpful_count||0,o=n.marked_helpful_by_me?a+1:a-1,r={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:o};return{...e,[n.id]:r}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,a=e[i],o={...a,comment_count:a.comment_count+n};return{...e,[i]:o}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:i}}=t,a={...e[n],tagged_users:i};return{...e,[n]:a}}}return e};var m=n(425288),h=n(505920),_=n(785893);const{Provider:g,useHook:v}=(0,m.Z)("AggregatedComments");function y({children:e}){const t=(0,a.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let n=c;t&&Object.values(t).forEach((e=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),a=null==i?void 0:i.reduce(((e,t)=>(e[t.id]=u(n[t.id],t),e)),{});n={...n,...a}}));const[o,r]=(0,i.useReducer)(p,n),l=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,h.Z8)("AggregatedCommentFeaturesResource",l),(0,h.my)("AggregatedCommentFeaturesResource",l),(0,h.Z8)("AggregatedCommentFeedResource",l),(0,h.my)("AggregatedCommentFeedResource",l),(0,h.Z8)("AggregatedCommentReplyFeedResource",l),(0,h.my)("AggregatedCommentReplyFeedResource",l),(0,h.Z8)("DidItCommentsResource",l),(0,h.my)("DidItCommentsResource",l),(0,h.Z8)("UnifiedCommentsPreviewResource",l),(0,h.my)("UnifiedCommentsPreviewResource",l),(0,h.Z8)("UnifiedCommentsResource",l),(0,h.my)("UnifiedCommentsResource",l);const s=(0,i.useMemo)((()=>({aggregatedComments:o,dispatch:r})),[o,r]);return(0,_.jsx)(g,{value:s,children:e})}function f(){const{dispatch:e}=v();return(0,i.useMemo)((()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>{const i={commentId:e,reason:t,detailedReasons:n};return o.Z.create("AggregatedCommentFlagResource",i).callCreate()},deleteCommentMention:async t=>{var n;const{resource_response:i}=await o.Z.create("MentionsResource",{aggregatedCommentId:t,field_set_key:"comment"}).callDelete(),a=null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{const i=o.Z.create("HelpfulResource",{helpfulModelType:1,objectId:t});n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{const a=o.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:t,pinId:n});i?await a.callDelete({showError:!1}):await a.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{const i=o.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:t});n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:a,text:r})=>{var l;const{resource_response:s}=await o.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:r,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:d}=null!==(l=null==s?void 0:s.data)&&void 0!==l?l:{},c=d.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(a),text:r}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n})=>{var i;const{resource_response:a}=await o.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n}).callUpdate({showError:!1}),r=null!==(i=null==a?void 0:a.data)&&void 0!==i?i:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}})),[e])}function b(){const{aggregatedComments:e}=v();return e}},664569:(e,t,n)=>{n.d(t,{o:()=>i});const i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},965900:(e,t,n)=>{n.d(t,{g:()=>m,I:()=>p});var i=n(667294),a=n(567450),o=n(150361),r=n.n(o);const l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},s=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o,inVideoGridAutoplayExp:l}=n,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=s,p=r()(c),m=r()(u);return!a&&d&&l?e:(a?p[i]={pinId:i,currentTime:o,paused:!1}:m[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o}=n,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=l,c=r()(s),u=r()(d);return a?c[i]={...c[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var d=n(425288),c=n(785893);const{Provider:u,useHook:p}=(0,d.Z)("AppUI");function m({children:e}){const[t,n]=(0,i.useReducer)(s,l),o=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),d=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),_=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,i.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:d,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:_,setAppFocusState:r,appUI:t})),[o,d,p,m,h,_,r,t]);return(0,i.useEffect)((()=>{a.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,c.jsx)(u,{value:g,children:e})}},350445:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(898781),a=n(883119),o=n(785893);const r={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},l={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},s={overlay:{__style:{backgroundColor:"#000"}}};function d({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:d,pinTitle:c,pin:u}){const p=(0,i.ZP)(),{id:m}=u;return(0,o.jsxs)(a.Ee,{alt:c||p.bt(" ", "pin image", "image of a pin", undefined, true),naturalHeight:t,naturalWidth:n,src:e,children:[(0,o.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:s.overlay}),(0,o.jsxs)(a.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${m}`,children:[(0,o.jsx)(a.iP,{rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true),color:"light",dangerouslySetSvgPath:l,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Visit site", "Button when pressed goes to pin's website", undefined, true)})]})}),(0,o.jsx)(a.xu,{margin:3}),(0,o.jsx)(a.iP,{onTap:d,rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true),color:"light",dangerouslySetSvgPath:r,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p.bt(" ", "Watch again", "Button when pressed restarts the video", undefined, true)})]})})]})]})}},333155:(e,t,n)=>{n.d(t,{UP:()=>l,Wv:()=>a,ZF:()=>i,zI:()=>o,zl:()=>r});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],l=["BaseBoardPinGrid"]},439506:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(116303),o=n(46584),r=n(792182),l=n(407043),s=n(599997),d=n(883119),c=n(332611),u=n(785893);function p({isFullWidth:e,actionType:t,buttonAction:n,buttonText:p,experience:m,hideCompleteButton:h,imageAlt:_,imageUrl:g,openNewTab:v,avatarImageDetails:y,examplePinImage:f,titleText:b,titleTextColor:x,titleTextCustomization:P,descriptionText:S,descriptionTextCustomization:w}){var T,k;const{logContextEvent:E}=(0,l.v)(),I=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),A=(0,i.useDispatch)(),{experience_id:C,placement_id:R}=m||{},j=(0,o.Z)({onVisibilityChanged:e=>{e&&m&&(m.status="viewed",E({event_type:13,view_type:604,view_parameter:I}),A((0,c.UT)(R,C,!1,!0)))}}),{width:D}=(0,r.Z)()||{width:8},O=D-8,L=(0,s.IA)(D),N=O*L,F=L===s.LX||L===s.Ec,{url:M,full_name:z}=y||{},U=N*s.l0,{url:B}=f,Z=B?N*s.l0:0,V=B?s.ml*Z:0,{color:H,fontStyle:K,fontWeight:G,horizontalAlignment:W,fontSize:$}=(0,s.Mf)(P||{},"mweb"),{color:q,fontStyle:Y,fontWeight:X,horizontalAlignment:J,fontSize:Q}=(0,s.Mf)(w||{},"mweb");return(0,u.jsx)(d.xu,{position:"relative",padding:1,marginBottom:2,ref:j,children:(0,u.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:e?0:3,paddingY:e?0:6,position:"relative",rounding:4,children:[e&&g&&M&&(0,u.jsx)(d.xu,{height:N,width:O,children:(0,u.jsx)(d.Ee,{alt:_||b||"",color:"rgb(111, 91, 77)",naturalHeight:N,naturalWidth:O,src:g,fit:"cover",children:(0,u.jsx)(d.xu,{paddingY:M?12:3,children:(0,u.jsxs)(d.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[z&&M&&(0,u.jsx)(d.xu,{height:U,width:U,children:(0,u.jsx)(a.Z,{name:z,src:M,size:"fit"})}),(0,u.jsx)(d.xv,{align:W,color:x,italic:"italics"===K,weight:G,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=H||x)&&void 0!==T?T:void 0,fontSize:F?s.SF:$}},children:b})}),(0,u.jsx)(d.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(d.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:F?s._e:Q}},children:S})})]})})})}),(!e||e&&B)&&(0,u.jsxs)(d.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&B&&(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.zd,{height:Z,width:V,rounding:4,children:(0,u.jsx)(d.Ee,{alt:"Your first saved Pin",naturalHeight:Z,naturalWidth:V,src:B,fit:"cover"})})}),(0,u.jsx)(d.xv,{align:W,color:x,italic:"italics"===K,weight:G,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(k=H||x)&&void 0!==k?k:void 0,fontSize:F&&e?s._e:$}},children:b})}),S&&w&&(0,u.jsx)(d.xu,{paddingX:e?2:0,paddingY:2,children:(0,u.jsx)(d.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:F&&e?s._e:Q}},children:S})})}),!h&&(0,u.jsx)(d.kC.Item,{alignSelf:e?"center":"stretch",children:(0,u.jsx)(d.xu,{marginTop:2,marginBottom:e?4:1,children:(0,u.jsx)(d.zx,{accessibilityLabel:p,color:"white",fullWidth:!0,text:p,size:"lg",role:"link",href:n,target:v?"blank":null,onClick:()=>{m&&(E({event_type:102,view_type:604,view_parameter:I}),A((0,c.CK)(R,C,!1,!0)))}})})})]})]})})}},8320:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(63552),a=n(883119),o=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:h,pressState:_,shape:g,text:v})=>{const y=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...r.__style,...l}}:r)({color:t,icon:c}),b=(0,o.jsx)(a.xu,{position:"relative",children:(0,o.jsx)(a.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===g?(x=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):f,children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(a.JO,{accessibilityLabel:e,color:y,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(a.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var x;return h?(0,o.jsx)(i.Z,{onTouch:h,rounding:"pill"===g?"pill":2,pressState:_||"none",children:(0,o.jsx)(a.xu,{ref:d,children:b})}):b}},313951:(e,t,n)=>{n.d(t,{i5:()=>f,sX:()=>P,aX:()=>b,Z5:()=>y,NG:()=>x,MT:()=>S,iu:()=>w});var i=n(667294),a=n(214494),o=n(682492),r=n.n(o);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function s(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const a=t(i);return n[a]?(r()(n[a],i),e):(n[a]=i,e.concat([i]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function c(e,t,n){return d(s(l(e,t).concat(n),(e=>e.id)))}const u={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=u,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:a}=t.payload,o=a.resource_response.data;if("ConversationMessagesResource"===i){const t=o||[],i=(null==n?void 0:n.conversation_id)||"",a=c(e,i,t),r=a[a.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:a,unread:0,last_message:r}}}}if("ConversationsResource"===i){const t=o||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:a,board:o,emails:r,unread:l,users:s,last_message:d}=e,u=c(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:a,board:o,emails:r||[],unread:l||0,users:s||[],last_message:d,messages:u}})),n}if("ConversationResource"===i){const t=o||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:a}=t.payload;if(e.data[n]){if(l(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){const t=d(s(l(e,n).filter((e=>e.id!==i.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=l(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:n}=t.payload;return{...e,objectAttachment:n}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var m=n(425288),h=n(505920),_=n(785893);const g=(()=>{let e=0;return()=>e++})(),{Provider:v,useHook:y}=(0,m.Z)("Conversations");function f({children:e}){const[t,n]=(0,i.useReducer)(p,u),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,h.Z8)("ConversationMessagesResource",o),(0,h.my)("ConversationMessagesResource",o),(0,h.Z8)("ConversationsResource",o),(0,h.Z8)("ConversationResource",o),(0,h.Z8)("NewsHubBadgeResource",o);const r=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),l=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),s=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),d=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),c=(0,i.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),m=(0,i.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),g=(0,i.useCallback)(((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),y=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),f=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),b=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),P=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),S=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),w=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),T=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),k=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),E=(0,i.useCallback)((e=>n({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),I=(0,i.useCallback)((()=>n({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),A=(0,i.useMemo)((()=>({clearMessageBadge:k,conversationOpen:r,conversationClose:l,conversationCreate:s,conversationDelete:d,conversationGet:g,saveConversationPosition:c,resetConversationPosition:m,dropdownClose:y,dropdownOpen:f,newMessageOpen:b,pendingMessageSend:x,pendingMessageSuccess:P,pendingMessageFailure:S,updateNewsHubCount:w,updateUnreadCount:T,conversations:t,setObjectAttachment:E,removeObjectAttachment:I})),[k,r,l,s,d,g,c,m,y,f,b,x,P,S,w,T,t,E,I]);return(0,_.jsx)(v,{value:A,children:e})}function b(){const{conversationCreate:e}=y();return async t=>{let n;const i=a.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await i.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),n=t)}catch(r){throw new Error(r.message)}return n}}function x(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:o}=y();return async(r,l,s,d)=>{const{text:c,pinId:u,boardId:p,userId:m,didItId:h}=l;async function _(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:r,text:c,pin:u,board:p,user:m,user_did_it_data:h,source:s}),t=`${g()}`,l={text:c,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(r,l);try{var _;const t=null===(_=(await e.callCreate()).resource_response)||void 0===_?void 0:_.data;t&&i(r,l,t)}catch(v){throw o(r,t),new Error(v.message)}}if(e.data[r])await _();else{const e=a.Z.create("ConversationResource",{conversation_id:r});try{var v;const n=null===(v=(await e.callGet()).resource_response)||void 0===v?void 0:v.data;n&&(t(n),await _())}catch(y){throw new Error(y.message)}}}}function P(e){const{conversations:t}=y();return t.data[e]}function S(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function w(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},375574:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(702664),o=n(898781),r=n(883119),l=n(785893);function s(e){const t=(0,o.ZP)(),{viewType:n,boardId:i,handleTouch:a}=e,s=t.bt("", "Board", "createMenuLinkButton.Create.Board.Label", undefined, true),d=t.bt("", "Section", "createMenuLinkButton.Create.Section.Label", undefined, true);return 5===n&&i?(0,l.jsx)(r.iP,{role:"link",href:`/board/${i}/create_section/`,rounding:2,onTap:a,children:(0,l.jsx)(r.xu,{paddingY:2,"data-test-id":"addSectionButton",children:(0,l.jsx)(r.X6,{size:"400",children:d})})}):(0,l.jsx)(r.iP,{role:"link",onTap:a,href:"/board/create/",children:(0,l.jsx)(r.xu,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:(0,l.jsx)(r.X6,{size:"400",children:s})})})}var d=n(276775),c=n(805410);function u({disabledPinCreation:e,handleDisablePublish:t,handleTouch:n}){const i=(0,o.ZP)(),a=(0,d.useHistory)(),s=e=>({base64Image:e,method:c.I}),u=i.bt("", "Photo", "createPinButton.Photo.Upload.Label", undefined, true);return(0,l.jsx)(r.iP,{tapStyle:"none",onTap:()=>{e?t():n()},children:(0,l.jsxs)(r.xu,{position:"relative",paddingY:2,children:[(0,l.jsx)(r.X6,{size:"400",children:u}),e?null:(0,l.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{const e=t.result;a.push({pathname:`/pin/create/${c.I}/`,state:s(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}})]})})}var p=n(121151);function m({isOpen:e,onDismiss:t}){const n=(0,o.ZP)();return(0,l.jsx)(p.ZP,{accessibilityModalLabel:n.bt("     ", "Disabled Pin Publishing Error Message Modal", "disabledPinCreationModal.modal.accessibilityLabel", undefined, true),isOpen:e,mobileAccessibilityCloseIconLabel:n.bt("    ", "Close disabled publishing message modal", "disabledPinCreationModal.modal.closeIconLabel", undefined, true),onDismiss:t,type:"DisabledPublishingModal",children:(0,l.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,l.jsx)(r.X6,{children:n.bt("...", "Oops...", "disabledPinCreationModal.modal.heading", undefined, true)}),(0,l.jsx)(r.xu,{paddingY:3,children:(0,l.jsx)(r.xv,{children:n.bt("    .      .", "Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "disabledPinCreationModal.modal.text", undefined, true)})}),(0,l.jsx)(r.xu,{paddingY:3,children:(0,l.jsx)(r.zx,{color:"red",onClick:()=>t(),size:"lg",text:n.bt("", "Dismiss", "disabledPinCreationModal.button.dismiss", undefined, true)})})]})})}var h=n(941646),_=n(881802),g=n(134906),v=n(773285),y=n(112690),f=n(927383),b=n(490543);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=e=>{const t=window&&window.innerWidth||0,n=e.bt("   . https://...", "Enter a link to create a Pin, https://...", "placeholder in text field where a user inputs a URL to create a Pin", undefined, true),i=e.bt(" . https://...", "Enter a link, https://...", "placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit", undefined, true);return t<380?i:n};class S extends i.PureComponent{constructor(...e){super(...e),x(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),x(this,"createPinFromLinkInput",(0,i.createRef)()),x(this,"closeCreateModal",(()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})})),x(this,"clearValidationError",(()=>{this.setState({urlValidationError:null})})),x(this,"openCreateModal",(e=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,_.is)(this.props.i18n)})()})),x(this,"handleCreatePinFromLinkTouch",(()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})})),x(this,"handleDisablePublish",(()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})})),x(this,"handleLinkFieldChange",(({value:e})=>{this.setState({createPinFromLinkUrl:e})})),x(this,"handlePinFromLinkFormSubmit",((e,t)=>{const{createPinFromLinkUrl:n}=this.state;e.preventDefault();const{errors:i}=(0,g.Jx)({message:this.props.i18n.bt(" URL .", "Oops! Please enter a valid URL.", "URL validation error message on Pin builder form", undefined, true)})(n),[a]=i;a?this.setState({urlValidationError:a}):this.handleUrlValidationSuccess(t)})),x(this,"handleTouch",(()=>{const{logContextEvent:e,viewType:t,elementType:n}=this.props;e({view_type:t,view_parameter:3106,element:n,event_type:102})})),x(this,"handleUrlValidationSuccess",(e=>{this.setState({showInlineTextEditCreatePin:!1});const t=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()})),x(this,"renderCreatePinFromLinkOption",(()=>{const{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:n,showInlineTextEditCreatePin:i}=this.state,a=this.props.i18n.bt("", "Website", "editPin.CreatePinFromUrl.Label", undefined, true);return(0,l.jsx)(r.kC,{alignItems:"center",height:46,justifyContent:"start",children:i?(0,l.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,l.jsxs)(r.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,l.jsxs)(r.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,l.jsx)(r.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:P(this.props.i18n),size:"lg",value:n})]}),(0,l.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Create Pin from entered link", "navigation button to confirm user will create a Pin from a link they entered", undefined, true),iconColor:"darkGray",icon:"arrow-forward",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,l.jsx)(r.iP,{onTap:()=>{e?this.handleDisablePublish():this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,l.jsx)(r.xu,{position:"relative","data-test-id":"websiteButton",children:(0,l.jsx)(r.X6,{size:"400",children:a})})})})})),x(this,"renderErrorFlyout",(()=>{const{urlValidationError:e}=this.state;return e&&(0,l.jsx)(r.J2,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,l.jsx)(r.xu,{padding:3,width:"100%",children:(0,l.jsx)(r.xv,{align:"center",color:"inverse",weight:"bold",children:e})})})}))}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{bgColor:e,boardId:t,buttonPadding:n,disabledPinCreation:a,i18n:o,iconButtonColor:d="gray",iconButtonSize:c="xl",viewType:_}=this.props,{showCreateModal:g,showPublishingDisabledError:v}=this.state;let y=this.props.i18n.bt("   ", "Add a Pin or board", "heading in profile create modal", undefined, true);164===_?y=this.props.i18n.bt(" ", "Add to section", "heading in section create modal", undefined, true):5===_&&(y=this.props.i18n.bt("   ", "Add a Pin or section", "heading in profile create modal", undefined, true)||o.bt(" ", "Add to board", "heading in board create modal", undefined, true));const f=4===_?this.props.i18n.bt(" ", "Add to profile", "editPin.AddToProfile.Modal.Header", undefined, true):y;return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(h.Z,{id:"createMenuCreateButton",children:(0,l.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Create a Pin or board", "icon that opens model prompting user to create a new pin or board", undefined, true),bgColor:e,iconColor:d,icon:"add",size:c,padding:"auto"!==n?n:1,onClick:({event:e})=>this.openCreateModal(e)})})}),g&&(0,l.jsx)(p.ZP,{mobileAccessibilityCloseIconLabel:this.props.i18n.bt("     ", "close board and pin create modal", "close modal that prompts user to create a new pin or board", undefined, true),accessibilityModalLabel:"",heading:f,isOpen:this.state.showCreateModal,onDismiss:this.closeCreateModal,type:"create_menu",children:(0,l.jsx)(r.xu,{padding:3,children:(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsxs)(i.Fragment,{children:[(0,l.jsxs)(r.xu,{paddingX:2,children:[(0,l.jsx)(r.xv,{children:this.props.i18n.bt("", "Create", "editPin.Create.Section.Text", undefined, true)}),(0,l.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,l.jsx)(u,{disabledPinCreation:a,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==_&&(0,l.jsxs)(r.xu,{marginTop:6,paddingX:2,children:[(0,l.jsx)(r.xv,{children:this.props.i18n.bt("", "Add", "editPin.Section.Add.Text", undefined, true)}),(0,l.jsx)(s,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:_})]})]}),(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,l.jsx)(r.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n.bt("", "Close", "editPin.Modal.Close.Button", undefined, true)})})]})})}),v&&(0,l.jsx)(m,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}})]})}}function w(e){const t=(0,o.ZP)(),{checkExperiment:n}=(0,v.F)(),i=["disable_all","disable_web_pins"].includes(n("disable_pin_creation").group),r=(0,a.useDispatch)(),s=(0,d.useHistory)(),{pinBuilder:c}=(0,a.useSelector)((e=>e.session)),u=(0,y.Z)(),p=c&&c.isInputOpen,m=c&&c.submittedLink,h=(0,f.Z)();return(0,l.jsx)(S,{...e,disabledPinCreation:i,history:s,i18n:t,isInputOpen:p,logContextEvent:u,requireAuthForLimitedLogin:h,submittedLink:m,updatePinBuilderInput:e=>r((0,b.p)(e))})}},57791:(e,t,n)=>{n.d(t,{MZ:()=>R,di:()=>D,Ai:()=>j});var i=n(667294),a=n(296679),o=n(8320),r=n(329900),l=n(926275),s=n(250059),d=n(149230),c=n(407043),u=n(48714),p=n(276775);const m=({children:e,external:t,externalQueryParams:n,target:i,href:a})=>{const{logContextEvent:o}=(0,c.v)(),r=(0,p.useHistory)(),l=(0,p.useLocation)();if(!a)return null;const m=(0,s.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,d.Z)({url:m})||t?(0,u.lI)({href:m,queryParams:n,location:l},o,null):(0,u.G3)({event:e,href:a,history:r,target:"blank"===i?"blank":null})}})};var h=n(883119),_=n(785893);const g=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:o,nofollow:r,onTouch:l,onBlur:d,onFocus:c,pressState:u,rounding:p,to:g})=>(0,_.jsx)(m,{external:n,target:o?"blank":null,externalQueryParams:i,href:g,children:({navigate:n})=>(0,_.jsx)(h.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,s.Z)(g),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==l||l(e),e.defaultPrevented||n(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),v=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...r})=>(0,_.jsx)(m,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,_.jsx)(o.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...r})});var y=n(938917),f=n(112690),b=n(19121),x=n(30287),P=n(598615),S=n(948376),w=n(773285),T=n(780280),k=n(698330),E=n(844974),I=n(339363),A=n(53987);const C=(e,t=!1)=>function({isAppUpsellDisabled:n,...o}){const{children:s,clientTrackingParams:d,deeplinkUri:c,external:u,onTouch:m,refresh:g,to:v,viewParameter:C,viewType:R}=o,j=(0,y.Z)(),[D,O]=(0,i.useState)(!1),[L,N]=(0,i.useState)(!1),[F,M]=(0,i.useState)(!1),[z,U]=(0,i.useState)("control"),{isAuth:B}=(0,b.Z)(),{userAgent:{platform:Z},locale:V}=(0,T.B)(),H=(0,k.Tt)(),K=(0,f.Z)(),{checkExperiment:G}=(0,w.F)(),W=(0,p.useLocation)();(0,i.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){M(!0);(await navigator.getInstalledRelatedApps()).length>0&&N(!0)}}()}),[]);const $=()=>{K({event_type:1701,view_type:R,view_parameter:C}),D&&O(!1)};return(0,_.jsxs)(h.xu,{"data-test-id":"deeplink-wrapper",children:[D&&(0,_.jsx)(a.Z,{clientTrackingParams:d,copyChangeGroup:z,deepLinkUri:c,isOpen:!0,onDismiss:()=>{K({component:14157,element:10308,event_type:10220,view_type:R||202,view_parameter:C,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,E.Nh)("deeplinkBehavior","branchfallback"),$()},shouldTrackDismiss:!0,to:v,viewParameter:C,viewType:R,within:"deep-link-app-upsell-modal"}),(0,_.jsx)(r.Z,{children:i=>(0,_.jsx)(e,{...o,onTouch:e=>{const a=j&&!n&&B&&!u&&!g&&!(0,x.FP)(window)&&!("ios"===Z&&(V||"").startsWith("ar"))&&(0,S.kp)((0,l.Z)(null==H?void 0:H.created_at));if(a){let t=!0;if("string"==typeof c&&(c||"").startsWith("/pin/")&&((0,A.uM)(W)||(0,A.am)(W)||(0,A.C$)(W))){if(F){if(L&&G("mweb_auth_deep_link_app_installed_user").anyEnabled){const e=G("mweb_auth_deep_link_app_installed_user").group;"enabled_triggering_change"===e?t=!1:U(e)}!L&&G("mweb_auth_deep_link_no_app_installed_user").anyEnabled&&U(G("mweb_auth_deep_link_no_app_installed_user").group)}}else G("mweb_auth_deep_link_other_triggering").anyEnabled&&(t=!1);e.stopPropagation(),e.preventDefault(),t?O(!0):i(null!=c?c:(0,P.B)(W))}else"branchfallback"!==(0,E.qn)("deeplinkBehavior")||(0,I.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,I.Nh)("fallbackAttempt",1),i(c,`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),$());var o;t&&a||!m||m(e)},children:s})})]})},R=C(g),j=C(v),D=C(o.Z,!0)},329900:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(172071),a=n(826067);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,s=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?l(e,n):"ios"===t||"ipad"===t?l(e.iOS,n):"android"===t?l(e.android,n):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,logContextEvent:l,platform:d,redirectToLite:c,unauthId:u,userAgent:p})=>{if(e){const m=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:o})=>({deeplink_path:s(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:o,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:d,unauthId:u,userAgent:p});if(i.Z.increment("mweb.deeplink",1,{platform:d}),n&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(u)}),c){i.Z.increment("mweb.deeplink.lite_link",1),null==l||l({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844});const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:u});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===d){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const o=JSON.stringify({deeplink_path:s(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:i});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:n,platform:d,unauthId:u});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,a.ru)(window.location.href,m);window.open(e)}else null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844}),window.location.href=(0,a.ru)(o,t)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):(null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844}),window.location.href=(0,a.ru)(o,t))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===d&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",m));null==l||l({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844}),window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",m)}}};var c=n(619277),u=n(948376),p=n(407043),m=n(780280),h=n(785893);function _({children:e,invite_code:t}){const{unauthId:n,userAgent:{platform:i,raw:a}}=(0,m.B)(),{logContextEvent:o}=(0,p.v)();return e((async(e,r)=>{d({deeplinkUri:e,fallbackUrl:r,invite_code:t,logContextEvent:o,platform:i,redirectToLite:(0,u.Rp)({platform:i,userAgent:a}),unauthId:n,userAgent:a})}))}const g=e=>(0,h.jsx)(c.ty,{children:t=>(0,h.jsx)(_,{...e,invite_code:t})});g.displayName="DeepLinkNavigator";const v=g},79113:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(124580),o=n(740990),r=n(223815),l=n(643010),s=n(968121),d=n(965900),c=n(883119),u=n(785893);const p={border:(0,l.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,l.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},m={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function h({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:l}){const{setAppFocusState:p}=(0,d.I)(),h=(0,i.useRef)(null);return(0,i.useEffect)((()=>(l&&(a.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{l&&(a.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[l,p]),(0,u.jsx)(r.Z,{allowClickAndDrag:t,children:(0,u.jsx)(c.mh,{zIndex:s.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:h,dangerouslySetInlineStyle:{__style:l?m.modalOpen.__style:m.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:h.current,children:n})})})})})}},326960:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(172071),o=n(883119),r=n(813401),l=n(112690),s=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:o,isChromeOnIOS:r,isUnauth:l,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:h}=this.props,{href:_}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,o)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==_&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${l?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:h}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:r}=this.props,{href:l}=this.state,d=null!=l&&l!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&n?(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,a),href:l})})]})}}function p(e){const t=(0,r.xC)(),n=(0,l.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},920085:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(867820);async function a({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:a,isUnauth:o,pinId:r,viewParameter:l,viewType:s},d){return"undefined"==typeof window?Promise.resolve():((0,i.My)(`web.${o?"unauth":"auth"}.download.click.${a||"no_category"}`),d({event_type:82,object_id_str:r,view_type:s||3,view_parameter:l||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,a;const o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.setAttribute("download",e&&e.replace(".","_")),o.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(o),o.click(),null===(a=document.body)||void 0===a||a.removeChild(o),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},857752:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(194249),a=n(240684),o=n(785893);const r=(0,a.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(72586),n.e(46888),n.e(35978)]).then(n.bind(n,400049)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 400049}});function l(e){return(0,o.jsx)(r,{...e,fallback:(0,o.jsx)(i.Z,{})})}},194249:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),a=n(883119),o=n(785893);function r(){const e=(0,i.ZP)();return(0,o.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(a.$j,{accessibilityLabel:e.bt("  ", "Loading editor", "EditorWithMentionsFallback.loading", undefined, true),show:!0})})}},235872:(e,t,n)=>{n.d(t,{N:()=>l,SF:()=>i,XN:()=>d,XU:()=>o,b7:()=>a,fL:()=>s,z5:()=>r});const i=5,a=5,o=1,r="var(--color-border-container)",l="var(--color-border-error)",s="var(--color-gray-roboflow-400)",d="4px solid #0084ff80"},765980:(e,t,n)=>{n.d(t,{Zt:()=>be,iK:()=>xe,ZP:()=>Pe,cV:()=>ve});var i=n(667294),a=n(702664),o=n(157796),r=n(391254),l=n(283698),s=n(313047),d=n(100183),c=n(639952),u=n(81636),p=n(898781),m=n(883119),h=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="BizNuxHomefeedLoader",v=[140,220,265],y=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{}}),b=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{},x=[`${g}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${g}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class P extends i.PureComponent{constructor(...e){super(...e),_(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),_(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),_(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||(0,l.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(e=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,a=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*a+16*(e+1),top:n,width:a,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(s.DEFAULT_HEIGHT),i=this.gridCellDimensionsByColumn,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,r=Math.floor(a/this.numberOfColumns),l=y[a%y.length],s=n[o],d=this.computeGridCellLayout(o,r,s),c=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const a=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:l,startAnimation:t,originDimension:d,destinationDimension:i&&i[o][r]});return n[o]+=16+d.height,(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,h.jsx)(m.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:b(t)},children:(0,h.jsx)(m.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(r.Z,{unsafeCSS:(0,d.Ll)(x)}),(0,h.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:f(e)},children:(0,h.jsxs)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,h.jsx)(m.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}},children:(0,h.jsx)(m.X6,{children:this.props.i18n.bt("    ...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function S(e){const t=(0,p.ZP)(),n=(0,a.useSelector)((({topics:e})=>e)),i=(0,a.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,h.jsx)(P,{...e,dismissLoader:()=>i((0,c.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var w=n(223019),T=n(491563),k=n(920231),E=n(698629),I=n(204283),A=n(439506),C=n(368156),R=n(934494),j=n(112690),D=n(19121),O=n(773285),L=n(861411),N=n(276775);function F({pin:e,width:t,height:n,showDivider:i}){var a,o,r,l,s,d,c;const u=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,h.jsx)(m.GH,{contentAspectRatio:(null!==(o=null==u?void 0:u.width)&&void 0!==o?o:1)/(null!==(r=null==u?void 0:u.height)&&void 0!==r?r:1),height:n,width:t,children:(0,h.jsx)(m.Ee,{alt:null!==(l=e.description)&&void 0!==l?l:"",naturalWidth:null!==(s=null==u?void 0:u.width)&&void 0!==s?s:1,naturalHeight:null!==(d=null==u?void 0:u.height)&&void 0!==d?d:1,src:null!==(c=null==u?void 0:u.url)&&void 0!==c?c:""})})})}function M({storyId:e,slotIndex:t}){const n=(0,N.useHistory)(),o=(0,N.useLocation)(),{isAuth:r}=(0,D.Z)(),{checkExperiment:l}=(0,O.F)(),[s,d]=(0,i.useState)(0),c=(0,i.useRef)(),u=(0,j.Z)();(0,i.useLayoutEffect)((()=>{const e=c.current;e&&d(e.offsetWidth)}),[]);const p=(0,a.useSelector)((({stories:t})=>t[e])),_=(0,a.useSelector)((({pins:e})=>p.objects.map((t=>e[t.id])))).slice(0,2),{story_type:g,action:v}=p,y=`${o.pathname}products/${o.search}`,f=()=>{u({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(y)};return l(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(L.qS,{auxData:{story_type:g,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>s?(0,h.jsx)(m.xu,{padding:2,ref:e,children:(0,h.jsx)(m.zd,{rounding:2,children:(0,h.jsxs)(m.iP,{onTap:f,children:[(0,h.jsx)(m.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,h.jsx)(F,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!t},e.id)))}),(0,h.jsx)(m.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(m.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(m.xv,{weight:"bold",children:v.text})})})})]})})}):(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,h.jsx)(L.Hs,{auxData:{story_type:g,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:s?(0,h.jsx)(m.xu,{padding:2,children:(0,h.jsx)(m.zd,{rounding:2,children:(0,h.jsxs)(m.iP,{onTap:f,children:[(0,h.jsx)(m.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,h.jsx)(F,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!t},e.id)))}),(0,h.jsx)(m.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(m.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(m.xv,{weight:"bold",children:v.text})})})})]})})}):(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:c})})}var z=n(172071),U=n(706794),B=n(566102),Z=n(946036),V=n(350118),H=n(57791);const K="49.5%";function G({buttonAction:e,buttonText:t,colorImgs:n}){if(!n||n.length<4)return null;const i=e=>{var t,n,i,a;return(0,h.jsx)(m.xu,{width:K,height:"100%",children:(0,h.jsx)(m.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(n=e.height)&&void 0!==n?n:1,naturalWidth:null!==(i=e.width)&&void 0!==i?i:1,src:null!==(a=e.url)&&void 0!==a?a:"",fit:"cover"})})};return(0,h.jsx)(m.xu,{position:"relative",padding:1,marginBottom:2,children:(0,h.jsxs)(H.MZ,{to:e,children:[(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,h.jsx)(m.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[n.slice(0,2),n.slice(2,4)].map((e=>(0,h.jsx)(m.kC,{width:"100%",height:K,justifyContent:"between",children:e.map(i)})))})})}),(0,h.jsx)(m.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,h.jsx)(m.xv,{weight:"bold",children:(0,h.jsx)(m.xu,{children:t})})})]})})}var W=n(163321),$=n(962551),q=n(826067);const Y=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],X=e=>Y[e.charCodeAt(0)%Y.length];function J({guides:e,storyId:t,slotIndex:n,titleFormat:a}){var o;const{isAuth:r}=(0,D.Z)(),{checkExperiment:l}=(0,O.F)(),s=null!==(o=(0,q.mB)((0,N.useLocation)().search).q)&&void 0!==o?o:"";return l(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(L.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,h.jsxs)(m.xu,{ref:t,children:[a&&(0,h.jsx)(m.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(m.xv,{align:"center",children:a})}),(0,h.jsx)($.Z,{guides:e.map((e=>({display:e.display,dominant_color:X(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})}):(0,h.jsx)(L.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,h.jsxs)(i.Fragment,{children:[a&&(0,h.jsx)(m.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(m.xv,{align:"center",children:a})}),(0,h.jsx)($.Z,{guides:e.map((e=>({display:e.display,dominant_color:X(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})})}function Q({slotIndex:e,storyId:t,viewParameter:n,viewType:a,storyData:o}){const{actionText:r,actionUrl:l,colorImgsFromObjects:s,contextualSearchFromObjects:d,customProperties:c,descriptionFormat:u,displayOptions:p,experience:_,storyType:g,titleFormat:v}=o;switch((0,i.useEffect)((()=>{z.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:g})}),[a,g]),g){case Z.q:{var y,f,b;if(!c||!p)return null;const{numColumnsRequested:e,titleTextColor:t}=p;return 2===e?null:(0,h.jsx)(A.Z,{isFullWidth:!1,actionType:c.actionType,buttonAction:null!=l?l:"",buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,avatarImageDetails:null!==(y=c.avatar_image_details)&&void 0!==y?y:{},examplePinImage:null!==(f=null===(b=c.example_pin_image_details)||void 0===b?void 0:b.originals)&&void 0!==f?f:{},titleText:null!=v?v:"",titleTextColor:W.e[t],titleTextCustomization:c.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:c.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,h.jsx)(W.Z,{buttonAction:null!=l?l:"",buttonCustomization:c.button_customization,buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,storyType:g,titleText:null!=v?v:"",titleTextColor:W.e[p.titleTextColor],titleTextCustomization:c.title_text_customization,videoPin:c.video_pin,videoPlaceholderImage:c.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,h.jsx)(W.Z,{buttonAction:null!=l?l:"",buttonText:null!=r?r:"",imageAlt:null==c?void 0:c.image_alt,imageUrl:null==c?void 0:c.image,storyType:g,titleText:null!=v?v:"",titleTextColor:W.e[p.titleTextColor]});case"user_color_story_v1":return(0,h.jsx)(G,{buttonAction:null!=l?l:"",buttonText:null!=r?r:"",colorImgs:s});case"BUBBLE_ONE_COL":return(0,h.jsx)(m.xu,{padding:2,children:(0,h.jsx)(C.Z,{slotIndex:e,storyId:t,viewType:a,viewParameter:n})});case"pinner_authority":case"pinner_authority_unified":return(0,h.jsx)(U.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,h.jsx)(M,{storyId:t,slotIndex:e});case"search_guides":return(0,h.jsx)(J,{guides:null!=d?d:[],slotIndex:e,storyId:t,titleFormat:null!=v?v:""});default:return null}}const ee=(0,R.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,V.S6)(),n=(0,a.useSelector)((({stories:t})=>t[e]));if(!n)return null;const{action:i,container_type:o,custom_properties:r,display_options:l,experience:s,story_type:d,title:c,description:u,objects:p}=n;if(!d)return null;const m=p,h=null==m?void 0:m.filter((e=>"contextual_search"===e.schema)).map((e=>{var t,n;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(n=e.term)&&void 0!==n?n:""}})),_=null==m?void 0:m.filter((e=>"pin"===e.schema)).slice(0,4).map((e=>{var n,i,a,o,r,l;const s=t(e.id);return{title:null==s?void 0:s.description,height:null==s||null===(n=s.images)||void 0===n||null===(i=n["736x"])||void 0===i?void 0:i.height,width:null==s||null===(a=s.images)||void 0===a||null===(o=a["736x"])||void 0===o?void 0:o.width,url:null==s||null===(r=s.images)||void 0===r||null===(l=r["736x"])||void 0===l?void 0:l.url}}));return{actionText:null==i?void 0:i.text,actionUrl:null==i?void 0:i.url,customProperties:r,displayOptions:l?{numColumnsRequested:l.num_columns_requested,titleTextColor:l.title_text_color}:null,experience:s,storyType:(0,B.Z)({containerTypeIsItemGrid:56===o,numColumnsRequested:null==l?void 0:l.numColumnsRequested,storyType:d})?"BUBBLE_ONE_COL":d,titleFormat:null==c?void 0:c.format,descriptionFormat:null==u?void 0:u.format,contextualSearchFromObjects:h,colorImgsFromObjects:_}}}),te=e=>(0,h.jsx)(ee,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,h.jsx)(Q,{...e,storyData:t})});var ne=n(889884),ie=n(740990),ae=n(182476),oe=n(784590),re=n(844887),le=n(780280),se=n(317254),de=n(50286),ce=n(444445),ue=n(679031);const pe=e=>`BREAK_IN_${e}`,me=new Map,he=e=>{const t=me.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",id:pe(e)});return me.set(e,n),n};function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge={},ve=e=>{ge[e]&&ge[e].handlePullToRefresh()},ye=()=>{const{plpImageRenderData:e}=(0,re.HW)(),[t]=e;return t?t.pin_id:null};class fe extends i.PureComponent{constructor(...e){super(...e),_e(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ye(),feedItem:null}:null}),_e(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),_e(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),_e(this,"gridContainerRef",(0,i.createRef)()),_e(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:a,renderSquarePins:o,showSeoMetadata:r,squarePins:l,trafficSource:s,duploUnauthRelatedPinsAutoplayExpGroup:d,unauthRelatedProductsExpGroup:c}=this.props,{auxData:u,componentType:p,feedback:m,imageOnly:_,impressionData:g,objectIdStr:v,oneTapSave:y,onFeedItemClick:f,onPinLinkClick:b,shouldAllowProductPriceIndicator:x,showSeoMetadata:P,viewData:S,viewParameter:w,viewType:T}=n||{},k=(i.search||"").includes("force_seo"),E=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,A=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,h.jsx)(I.default,{auxData:u,componentType:p||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:b,showSeoMetadata:r||k||P},duploIsSquarePin:o||l,duploLazyLoadImage:E,duploOneTapSave:y,duploPriorityFetchImage:A,duploShouldAllowProductPriceIndicator:x,feedback:m,imageOnlyOption:_?"image-only":"default",impressionData:g,objectIdStr:v,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:s,viewData:S,viewParameter:w,duploUnauthRelatedPinsAutoplayExpGroup:d,unauthRelatedProductsExpGroup:c,viewType:T||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,ge[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ge[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:a}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),a&&n){const t=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:n,feedItems:a,feedItemsAdjustment:o,feedKey:r,gridConfig:l,pagination:s,pullToRefresh:d,renderFeedItem:c,serverRender:u,showBizNuxHomefeedLoader:p,trafficSource:_,visuallyCompleteProfilerOptions:g}=this.props,{unauthLandingPinStateForAuthHomefeed:v}=this.state,y=null!=v&&v.feedItem&&a.length?[v.feedItem,...a]:a,{viewParameter:f,viewType:b}=n||{},{key:x}=l||{},P=r+(x?`|${x}`:""),I="user_search"===_,A=I?window.innerWidth-16:200,C={columnWidth:"desktop"===e?ce.yF:A,renderItem:({data:e,itemIdx:t})=>{if(c){const n=c(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,h.jsx)(ue.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,h.jsx)(T.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===_,viewParameter:f,viewType:b});case"board":return(0,h.jsx)(w.Z,{boardId:e.id,type:"grid",viewParameter:f,viewType:b});case"topic":return(0,h.jsx)(ae.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:f,viewType:b});case"story":return"number"==typeof f?(0,h.jsx)(te,{slotIndex:t,storyId:e.id,viewParameter:f,viewType:b||1}):null;case"FEED_BREAK_IN":return o&&"breakIn"===o.type&&o.value.content;default:return null}},gutterWidth:"desktop"===e?4*ce.jC:void 0,loadItems:s.loadNext,minCols:I?1:2,...l},R=!p&&s.isLoadingNext&&0===y.length&&!this.state.refreshing,[j,D,O]="fullWidthBreakIn"===(null==o?void 0:o.type)?[y.slice(0,o.value.index),o.value.content,y.slice(o.value.index)]:[y,null,[]],L="desktop"===e&&"flashlight"===_,N=L?0:ce.qG;return(0,h.jsxs)(m.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(ne.Z,{enabled:!!d,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,h.jsxs)(m.xu,{marginStart:N,marginEnd:N,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,h.jsx)(se.Z,{includeBackgroundImages:null==g?void 0:g.includeBackgroundImages,includeVideos:null==g?void 0:g.includeVideos,isAtEndOfFeed:!s.hasNext,itemCount:y.length,pinData:null==g?void 0:g.pins,children:y.length?(0,h.jsx)(m.xu,{"data-test-id":"feed",marginTop:(0,ue.kk)({isDesktop:"desktop"===e}),children:(0,h.jsx)(ie.Z.Consumer,{children:e=>(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(ue.c$,{feedRef:this.gridContainerRef,viewParameter:f,viewType:b||1,children:[(0,h.jsx)(k.Z,{cacheKey:P,id:u?r:void 0,items:j,scrollContainerRef:e,serverRender:u,...C}),D,O.length>0&&(0,h.jsx)(k.Z,{cacheKey:`${P}_afterBreak`,items:O,scrollContainerRef:e,...C})]})})})}):s.isLoadingNext?(0,h.jsx)(ue.gG,{}):null!=t?t:null}),R&&(0,h.jsx)(m.xu,{column:12,paddingY:2,children:(0,h.jsx)(E.Z,{partialViewportWidth:L})}),p&&(0,h.jsx)(S,{homefeedLoading:s.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function be({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,o=(0,N.useLocation)(),r=(0,de.ZP)(),{isAuthenticated:l,isBot:s}=(0,le.B)(),{isBizNuxHomefeedLoadShown:d}=(0,a.useSelector)((({session:e})=>e));let c=e;return"breakIn"===(null==i?void 0:i.type)?c=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),he(e),...t.slice(e)])({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(c=e.slice(i.value)),(0,h.jsx)(fe,{...n,deviceType:r,feedItems:c,isAuthenticated:l,pagination:t,location:o,showBizNuxHomefeedLoader:!!d,showSeoMetadata:s||!l})}function xe({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...o}){const r=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[o.feedKey])&&void 0!==t?t:[]}));return(0,h.jsx)(be,{...o,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function Pe({resourceConfig:e,...t}){const n=(0,oe.Z)(e);return(0,h.jsx)(xe,{...t,resource:n})}},815613:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(829407),a=n(898781),o=n(112690),r=n(927383),l=n(201155),s=n(667679),d=n(52022),c=n(19121),u=n(945698),p=n(62409),m=n(773285),h=n(350118),_=n(698330),g=n(50286),v=n(343341),y=n(640064),f=n(867820),b=n(883119),x=n(785893);const P=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(b.xu,{position:"relative","data-test-id":n,children:(0,x.jsxs)(b.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(b.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(b.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(b.o3,{})})]})}):(0,x.jsx)(b.xu,{"data-test-id":n,children:e});function S({auxData:e,disabled:t,disableLog:n,followEventType:S,id:w,inline:T,invertColors:k,isFollowed:E,isIdeaPin:I,isLegoEnabled:A,isSecondaryButton:C,isUserFollowButton:R,isUserMe:j,onFollow:D,onUnfollow:O,pinId:L,shouldUseLegoColors:N,showPulsar:F,size:M,textType:z="FollowFollowing",unfollowEventType:U,viewParameter:B,viewType:Z}){const V=(0,a.ZP)(),H=(0,g.HG)(),{showToast:K}=(0,v.F9)(),G=(0,d.Z)(),W=(0,o.Z)(),$=(0,s.Z)(),{checkExperiment:q}=(0,m.F)(),Y=(0,r.Z)(),X=(0,c.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,y.f)(),te=(0,_.mN)()(w),ne=(0,h.S6)()(null!=L?L:""),{link_domain:ie,native_creator:ae,origin_pinner:oe,pinner:re}=ne||{},le=(0,p.wS)(ie,ae,oe,re),se=null!=te?te:le;(0,i.Z)((()=>{!H&&J&&Q&&w&&Q===w&&D(w)}));const de=Y({fn:()=>{J?E?(O(w),n||W({event_type:U,view_type:Z,view_parameter:B,object_id_str:w,aux_data:e})):(D(w),R&&K((({hideToast:e})=>{if(!se)return null;const t=se.username?`/${se.username}/`:"";return(0,x.jsx)(l.Z,{handleHide:e,text:(0,x.jsx)(b.xv,{children:V.bt(" !      !", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:w,href:t,imageUrl:se.image_medium_url})})),n||W({event_type:S,view_type:Z,view_parameter:B,object_id_str:w,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(Z)}`),5===Z&&26===S&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(E?"press_profile_unfollow":"press_profile_follow"),G({action:"click",item:"board-follow-button"}),$({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:I?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:H&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||ee(null!=w?w:""),(0,f.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:V,toFollow:!E})}),ce=!E&&!!F,ue=()=>{if(j)return V.bt(" !", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===z)return E?V.bt("", "Remove", "unfollowButton.removeText", undefined, true):V.bt("", "Add", "followButton.addText", undefined, true);const e="FollowUnfollow"===z?V.bt("", "Unfollow", "unfollowButton.unfollowText", undefined, true):V.bt("", "Following", "Follow button label - followed state", undefined, true);return E?e:V.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,x.jsx)(P,{pulsar:ce?{show:!0,onClick:de}:{show:!1},testId:j||E?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(b.zx,{color:N||"AddRemove"===z||!A&&C||E?"gray":"red",disabled:j||t,fullWidth:T,onClick:ce?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||W({event_type:101,component:13672,element:11951,object_id_str:w,view_type:Z,view_parameter:B,aux_data:e}),de()},selected:k?!E:N&&E||!!E&&C,size:M,text:ue(),accessibilityLabel:ue()})})}},999594:(e,t,n)=>{n.d(t,{C:()=>a,e:()=>i});const i=0,a=new Set(["/","/today"])},889884:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(883119),o=n(785893);function r({text:e,isSelected:t,icon:n,animationType:i,position:r,hasStartPulling:l,isExecuted:s}){return(0,o.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,o.jsx)(a.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:l?4:0,dangerouslySetInlineStyle:t&&s?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,o.jsx)(a.JO,{size:100*r<24?100*r:24,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,o.jsx)(a.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,o.jsx)(a.xv,{align:"center",size:"100",children:e})})]})}var l=n(898781);function s({enabled:e,onSelect:t,refreshing:n}){const a=(0,i.useRef)(null),[o,r]=(0,i.useState)(0),[l,s]=(0,i.useState)(!1),d=n?0:o/250,c=d>0,u=()=>{s(!1),r(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(a.current=e.touches[0].clientY)},i=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(r(t),e.preventDefault())}},l=e=>{a.current&&(s(!0),t({pullDistance:o,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",l)}}}),[e,t,o,n,d]);const p=a.current;return{pullDistance:o,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:l}}var d=n(407043),c=n(276775);function u({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),u=(0,c.useHistory)(),{logContextEvent:p}=(0,d.v)(),m=e=>e>=.6,h=e=>e>.4&&e<.6,{position:_,hasStartPulling:g,PULL_MENU_DISTANCE:v,isExecuted:y}=s({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;h(n)?setTimeout((()=>{p({view_type:1,event_type:158,view_parameter:92}),t(),i()}),500):m(n)?setTimeout((()=>{p({view_type:1,event_type:10144,view_parameter:92}),u.push("edit/"),i()}),500):i()},refreshing:n}),f=i.bt(" ", "Refresh", "pullMenu.refresh", undefined, true),b=i.bt(" ", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,o.jsx)(a.xu,{children:e&&(0,o.jsxs)(a.xu,{display:"flex",alignItems:"center",direction:"column",height:_*v,justifyContent:"center",marginBottom:g?4:0,children:[(0,o.jsx)(r,{text:b,isSelected:m(_),icon:"edit",animationType:"move",position:_,hasStartPulling:g,isExecuted:y}),(0,o.jsx)(r,{text:f,isSelected:h(_),icon:"refresh",position:_,hasStartPulling:g,isExecuted:y})]})})}function p({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),{logContextEvent:r}=(0,d.v)(),{position:c,startYRefCurrent:u,pullDistance:p}=s({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=120&&(r({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),m=Math.min(c,1),h=i.bt("  ", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,o.jsx)(a.xu,{children:e&&(0,o.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*c,dangerouslySetInlineStyle:{__style:{opacity:m,transition:null===u?"all .3s ease-out":void 0}},children:(0,o.jsx)(a.JO,{size:40,icon:u&&p<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:h})})})}var m=n(773285);function h({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:a}=(0,m.F)(),{anyEnabled:r}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,o.jsx)(i.Fragment,{children:r?(0,o.jsx)(u,{enabled:e,onPull:t,refreshing:n}):(0,o.jsx)(p,{enabled:e,onPull:t,refreshing:n})})}},861411:(e,t,n)=>{n.d(t,{fv:()=>v,GR:()=>m,Hs:()=>f,Mv:()=>_,uc:()=>g,dL:()=>h,qS:()=>y,Y4:()=>P,HE:()=>x,Cy:()=>b});var i=n(667294),a=n(973935),o=n(124580),r=n(407043),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,r.v)();return(0,l.jsx)(d,{...e,logImpression:t})}var u=n(773285);function p({auxData:e,component:t,eventData:n,eventType:a,impressionType:l,isPaused:s,objectIdStr:d,viewData:c,viewType:p,viewParameter:m}){const h=(0,i.useRef)(null),{logImpression:_}=(0,r.v)(),{checkExperiment:g}=(0,u.F)(),v=g("web_mweb_pin_impression_add_width_height").anyEnabled,y=(0,i.useCallback)((()=>{const i=i=>{var o,r,s,u;_({viewData:c||{},viewType:p,viewParameter:m,eventType:a,impressionType:l,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:v?(null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0:void 0,pinCellHeight:v?(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0:void 0,windowWidth:v?null===(s=window)||void 0===s?void 0:s.innerWidth:void 0,windowHeight:v?null===(u=window)||void 0===u?void 0:u.innerHeight:void 0,...n}})};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(h.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,i.useEffect)((()=>{s||y();const e=h.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,y]),h}const m=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),h=e=>{const t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const t=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),b=e=>{const t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},P=e=>{const t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},63552:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:o,rounding:r,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},194969:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(112690),a=n(52022),o=n(883119),r=n(785893);function l({breadcrumb:e,isLastBreadcrumb:t,viewType:n}){var l;const s=t?"secondary":void 0,d=(0,i.Z)(),c=(0,a.Z)();return(0,r.jsx)(o.xu,{color:s,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,r.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(o.rU,{href:null!==(l=e.url)&&void 0!==l?l:"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),c({action:"click",item:"breadcrumb"}),d({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,r.jsx)(o.xv,{color:"default",inline:!0,size:"100",overflow:"noWrap",children:e.name})}),!t&&(0,r.jsx)(o.xu,{paddingX:3,display:"inlineBlock",children:(0,r.jsx)(o.xv,{inline:!0,size:"100",color:"default",children:(0,r.jsx)(o.JO,{accessibilityLabel:"breadcrumb arrow",color:"default",icon:"arrow-forward",size:8})})})]})})}var s=n(166300),d=n(391254),c=n(748367),u=n(898781),p=n(276775),m=n(780280),h=n(53987),_=n(50286);function g({direction:e}){return(0,r.jsx)(o.xu,{width:16,height:32,position:"absolute",left:"left"===e,right:"right"===e,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`}}})}function v({breadcrumbs:e,shouldHideLazyExploreButton:t}){const n=(0,u.ZP)(),i=(0,p.useLocation)(),{origin:a}=(0,m.B)(),v=(0,_.ml)(),y=(0,_.HG)(),[f,b]=v?[2,3]:[4,4],x=(0,h.Q0)(i);let P=!1,S=202;(0,h.uM)(i)?S=3:(0,h.dr)(i)?(S=442,P=!0):(0,h.$Y)(i)||(0,h.E0)(i)?S=1:x&&(P=!0,S=580);const w=x?{name:n.bt("", "Watch", "unauth.header.tabs.videos", undefined, true),url:"/videos/"}:{name:n.bt("", "Explore", "unauth.header.tabs.ideas", undefined, true),url:"/ideas/"},T=[...x||!t?[w]:[],...P?e.slice(0,e.length-1):[...e]];return(0,r.jsxs)(o.xu,{"data-test-id":"breadcrumbs",children:[(0,r.jsx)(d.Z,{unsafeCSS:"\n  .article-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(o.xu,{"data-test-id":"breadcrumbs-list",display:"flex",height:50.5,alignItems:"center",direction:"column",paddingY:b,overflow:"scrollX",justifyContent:y?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},children:(0,r.jsxs)(o.xu,{display:"flex",alignItems:"center",margin:y?void 0:"auto",paddingX:f,justifyContent:"end",children:[(0,r.jsx)(g,{direction:"left"}),(0,r.jsx)(g,{direction:"right"}),T.map(((e,t,n)=>(0,r.jsx)(l,{breadcrumb:e,isLastBreadcrumb:t===n.length-1,viewType:S},e.url)))]})})}),(0,r.jsx)(c.Z,{type:"application/ld+json",testId:"breadcrumbs-list-metadata",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:n.bt("Pinterest", "Pinterest", "unauth.header.tabs.pinterest", undefined, true),url:""},w,...e].map(((e,t)=>{var n;return{"@type":"ListItem",position:t+1,name:e.name,item:`${a}${null!==(n=e.url)&&void 0!==n?n:""}`}}))}})]})}},356188:(e,t,n)=>{n.d(t,{Z:()=>u});var i,a=n(194969),o=n(934494),r=n(784590),l=n(167912),s=n(785893);const d=void 0!==i?i:i=n(313444),c=(0,o.Z)({useGraphQLAdapter:e=>{var t,n,i,a,o;return{breadcrumbs:null!==(t=null===(n=(0,l.useLazyLoadQuery)(d,{pinId:e}).v3GetPinQuery)||void 0===n||null===(i=n.data)||void 0===i||null===(a=i.pinJoin)||void 0===a||null===(o=a.seoBreadcrumbs)||void 0===o?void 0:o.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""}))))&&void 0!==t?t:[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{var t;const{data:n,isLoaded:i}=(0,r.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!i,breadcrumbs:(null==n||null===(t=n.pin_join)||void 0===t?void 0:t.seo_breadcrumbs)||[]}}});function u({pinId:e,shouldUseGraphQL:t}){return(0,s.jsx)(c,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,s.jsx)(a.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,s.jsx)(a.Z,{breadcrumbs:e,shouldHideLazyExploreButton:t})})}},94089:(e,t,n)=>{n.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var i=n(667294),a=n(311541),o=n(425288),r=n(505920),l=n(785893);const s=()=>n.e(18870).then(n.bind(n,218870)),{Provider:d,useHook:c}=(0,o.Z)("NativeEngagements");function u({children:e}){const[t,n]=(0,a.Z)(s,[]),o=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,r.Z8)("NativeInteractionsResource",o),(0,r.my)("NativeInteractionsResource",o);const c=(0,i.useMemo)((()=>({dispatch:n,nativeEngagements:t})),[n,t]);return(0,l.jsx)(d,{value:c,children:e})}function p(){const{dispatch:e}=c();return(0,i.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function m(){const{nativeEngagements:e}=c();return e}},44846:(e,t,n)=>{n.d(t,{Zk:()=>J,Z7:()=>ee,wt:()=>Q,ZP:()=>le});var i=n(667294),a=n(702664),o=n(333312);const r=e=>{const t=e.split("/");return 4===t.length?"pin"===t[1]&&""===t[3]:3===t.length&&("pin"===t[1]&&""!==t[2])};var l=n(926275),s=n(375574),d=n(898781),c=n(883119),u=n(785893);const p=({color:e="subtle",showLabel:t=!1,viewType:n})=>{const i=(0,d.ZP)();return(0,u.jsx)(c.xu,{rounding:3,flex:"grow",children:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"center",position:"relative",direction:"column",children:[(0,u.jsx)(c.xu,{display:"flex",justifyContent:"center",padding:1,children:(0,u.jsx)(s.Z,{elementType:249,iconButtonColor:"gray",iconButtonSize:"xl",viewType:n})}),t&&(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,u.jsx)(c.xv,{align:"center",size:"100",lineClamp:1,color:e,children:i.bt("", "Create", "nav.navFooterAdd.createPinButton", undefined, true)})})]})})};var m=n(116303);const h=({height:e,width:t})=>(0,u.jsx)(c.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",width:t,position:"absolute",rounding:"pill",children:(0,u.jsx)(c.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:" "})})}),_={zIndex:1,position:"relative"},g=(0,i.forwardRef)((({accessibilityLabel:e,avatarSrc:t,badge:n,badgeMargins:a,color:o,flyoutText:r,icon:l,onTouch:s,showFlyout:p,showFlyoutButton:g,showLabel:v,svgPath:y,title:f,to:b},x)=>{const P=(0,d.ZP)(),[S,w]=(0,i.useState)(!1),T=(0,i.useRef)(),k="nav-bar-"+String(l);return(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:S?_:{}},flex:"grow",children:(0,u.jsx)(c.iP,{onBlur:()=>w(!1),onFocus:()=>w(!0),onTap:({event:e})=>s(e),tapStyle:"compress",rounding:v?4:6,role:"link",href:b,children:(0,u.jsxs)(c.xu,{display:"flex",justifyContent:"center",position:"relative",color:"transparent",direction:"column",rounding:3,"data-test-id":k,children:[(0,u.jsxs)(c.xu,{position:"relative",display:"flex",justifyContent:"center",ref:x,children:[(0,u.jsx)(c.xu,{padding:2,ref:T,children:t?(0,u.jsx)(c.xu,{rounding:"circle",dangerouslySetInlineStyle:{__style:{boxShadow:"default"===o?"0 0 0 2px black":"0 0 0 2px transparent"}},children:(0,u.jsx)(m.Z,{name:e,src:t,size:"xs"})}):(0,u.jsx)(c.JO,{accessibilityLabel:e,icon:l,color:o,size:24,inline:!0,dangerouslySetSvgPath:y?{__path:y}:void 0})}),n&&(0,u.jsx)(c.xu,{marginStart:null==a?void 0:a.marginLeft,marginEnd:null==a?void 0:a.marginRight,marginTop:null==a?void 0:a.marginTop,marginBottom:null==a?void 0:a.marginBottom,position:"absolute",children:n.text?(0,u.jsx)(c.Ct,{position:"middle",type:"error",text:n.text.toString()||""}):(0,u.jsx)(h,{height:n.height,width:n.width})}),p&&(0,u.jsx)(c.J2,{anchor:T.current,color:"blue",onDismiss:()=>{},showCaret:!0,size:"flexible",children:(0,u.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",minHeight:70,paddingX:g?4:0,paddingY:g?4:1,width:g?200:132,children:[(0,u.jsx)(c.xv,{align:"center",color:"inverse",children:r||P.bt("   ", "Explore something new", "Flyout message prompting user to click on the explore icon.", undefined, true)}),g?(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(c.zx,{role:"link",accessibilityLabel:P.bt("", "Explore", "navFooter.flyout.button", undefined, true),color:"white",href:b,onClick:({event:e})=>s(e),text:P.bt("", "Explore", "navFooter.flyout.button", undefined, true)})}):null]})})]}),v&&(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitUserSelect:"none"}},children:(0,u.jsx)(c.xv,{align:"center",color:o,size:"100",lineClamp:1,children:f})})]})})})})),v=({accessibilityLabel:e,homeFlyoutText:t,isAuthenticated:n,onTouch:a,showHomeBadge:o,shouldUpsellHomePage:r,showHomeFlyoutWithButton:l,selectedItem:s,showLabel:d,title:p})=>{const m={badge:{width:8,height:8},badgeMargins:{marginLeft:6,marginTop:1}},h=(0,i.useRef)(null);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(g,{accessibilityLabel:e,badge:o?m.badge:void 0,badgeMargins:o?m.badgeMargins:void 0,color:"home"===s?"default":"subtle",flyoutText:t,onTouch:()=>{a()},showFlyout:l,showFlyoutButton:l,showLabel:d,svgPath:"M12 0L1 10v14h8v-7a3 3 0 116 0v7h8V10z",title:p,to:n?"/":"/ideas/",ref:h}),r&&(0,u.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,u.jsx)(c.o3,{size:90})})]})};var y=n(121093),f=n(461355),b=n(332611),x=n(378518),P=n(780280);const S=[501227],w={badge:{width:8,height:8,text:" "},badgeMargins:{marginLeft:6,marginTop:1}},T=(0,i.memo)((({avatarSrc:e,completeExperience:t,experience:n,isActive:a,locationPath:o,numUnauthSavedPins:r,onTouch:l,showLabel:s,username:c})=>{const p=(0,d.ZP)(),{isAuthenticated:m}=(0,P.B)(),h=o.startsWith(`/${c}`),_=n&&S.includes(n.experience_id);(0,i.useEffect)((()=>{if(_&&h){const{experience_id:e,placement_id:i}=n||{};t(i,e)}}));const v=t=>(0,u.jsx)(g,{accessibilityLabel:p.bt(" ", "My profile", "Nav bar icon", undefined, true),avatarSrc:e,color:a?"default":"subtle",icon:"person",onTouch:l,showLabel:s,title:p.bt("", "Saved", "Saved button on the Nav bar", undefined, true),to:c?`/${c}/`:m?"/":"/unauth-profile/",...t}),f=!m&&r?{badge:{text:r},badgeMargins:{marginLeft:6}}:{};return _&&!h?(0,u.jsx)(y.Z,{eligibleIds:S,experience:n,children:v(w)}):v(f)})),k=(0,a.connect)(null,(e=>({completeExperience:(t,n)=>e((0,b.CK)(t,n))})))((e=>{const t=(0,x._)({id:1000181});return(0,u.jsx)(f.Z,{children:(0,u.jsx)(T,{experience:t,...e})})})),E=({accessibilityLabel:e,onTouch:t,selectedItem:n,showLabel:a,title:o})=>{const r=(0,i.useRef)(null);return(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(g,{accessibilityLabel:e,color:"videos"===n?"default":"subtle",onTouch:()=>{t()},showLabel:a,svgPath:"M10.53 15.85A1 1 0 019 15V9a1 1 0 011.53-.85l4.98 3a1 1 0 010 1.7zM0 8a8 8 0 018-8h8a8 8 0 018 8v8a8 8 0 01-8 8H8a8 8 0 01-8-8zm4 0v8a4 4 0 004 4h8a4 4 0 004-4V8a4 4 0 00-4-4H8a4 4 0 00-4 4z",title:o,to:"/videos/",ref:r})})};var I=n(379764),A=n(214494);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.PureComponent{constructor(...e){super(...e),C(this,"state",{newsBadgeCount:0,unreadMessageCount:0,showBadge:!1}),C(this,"clearNotificationBadge",(()=>{const{isAuthenticated:e,onTouch:t}=this.props;e&&(A.Z.create("NewsHubBadgeResource",{}).callDelete({showError:!1}),this.setState({newsBadgeCount:0,showBadge:!1})),t&&t()})),C(this,"getBadging",(()=>{A.Z.create("NewsHubBadgeResource",{}).callGet().then((({resource_response:{data:e}})=>{const t=e.news_hub_count+e.conversations_unseen_count;this.setState({newsBadgeCount:e.news_hub_count,unreadMessageCount:e.conversations_unseen_count,showBadge:t>0})}))}))}componentDidMount(){this.props.isAuthenticated&&this.getBadging()}render(){const{isActive:e,showLabel:t,icon:n="speech-ellipsis",onTouch:i}=this.props,{newsBadgeCount:a,unreadMessageCount:o,showBadge:r}=this.state,l=a+o,s=l>0&&l<100?l:"99+",d=s.toString().length,c={width:1===d?16:2===d?24:30,height:16,text:s},p=o>0?"/inbox/":"/notifications/";return(0,u.jsx)(g,{accessibilityLabel:this.props.i18n.bt("   ", "News notifications and messages", "mweb.navbar.notifs_button.a11y", undefined, true),badge:r&&c||void 0,badgeMargins:{marginLeft:4},icon:n,to:p,color:e?"default":"subtle",onTouch:"/notifications/"===p?this.clearNotificationBadge:i,title:this.props.i18n.bt("", "Notifications", "Notifications button on the Nav bar", undefined, true),showLabel:t})}}function j(e){const t=(0,d.ZP)(),{isAuthenticated:n}=(0,P.B)();return(0,u.jsx)(R,{...e,i18n:t,isAuthenticated:n})}var D=n(765980),O=n(385740),L=n(276775);class N extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=null,(n="leftHomeTimeOut")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){const{location:t}=this.props;this.shouldRefreshHomefeed(t.pathname)?this.refreshHomefeed():this.shouldSetLeftHomeTimeout(t.pathname,e)?this.setLeftHomeTimeout():this.shouldClearLeftHomeTimeout(t.pathname)&&this.clearLeftHomeTimeout()}componentWillUnmount(){this.clearLeftHomeTimeout()}setLeftHomeTimeout(){this.leftHomeTimeOut=setTimeout((()=>{this.leftHomeTimeOut&&(this.clearLeftHomeTimeout(),this.leftHomeTimeOut=void 0)}),5e3)}clearLeftHomeTimeout(){this.leftHomeTimeOut&&(clearTimeout(this.leftHomeTimeOut),this.leftHomeTimeOut=null)}refreshHomefeed(){(0,D.cV)("homefeed"),this.leftHomeTimeOut=null}shouldClearLeftHomeTimeout(e){return this.leftHomeTimeOut&&"/"===e}shouldRefreshHomefeed(e){return"/"===e&&92===this.props.viewParameter&&void 0===this.leftHomeTimeOut}shouldSetLeftHomeTimeout(e,t){return null===this.leftHomeTimeOut&&"/"!==e&&"/"===t.location.pathname&&!e.startsWith("/pin/")}render(){return null}}function F(e){const t=(0,L.useLocation)(),{viewParameter:n,viewData:i}=(0,O.SU)();return(0,u.jsx)(N,{...e,location:t,viewParameter:n,viewData:i})}var M=n(941646),z=n(313047),U=n(995081),B=n(966113),Z=n(29857),V=n(867820),H=n(773285),K=n(50286),G=n(118405),W=n(112690),$=n(52022),q=n(999594),Y=n(534427);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=52,Q=160,ee=60,te={},ne=e=>{const t=e>100?e-100:5,n=Math.max(e-t,0);window.scrollTo(0,n),n>0&&window.requestAnimationFrame((()=>ne(n)))},ie=e=>"/"===e||r(e)||e.startsWith("/search/")||"/inbox/"===e||"/inbox/compose/"===e||"/notifications/"===e||e.includes("/report/"),ae=e=>{switch(e){case"home":return 146;case"notifications":return 139;case"profile":return 40;case"today":return 11674;case"videos":return 11924;case"search":return 43;default:return}},oe=(e,t,n)=>{const i=te[e.key];if(i)return i;const a=e.pathname;return"/"===a||!n&&"/ideas/"===a?"home":a.startsWith("/inbox")?"inbox":a.startsWith("/notifications")?"notifications":a.startsWith("/videos")?"videos":a.startsWith("/today")?"today":a.startsWith("/search")?"search":(0,L.matchPath)(a,{path:`/${t}/(|pins|boards|tried)?`,exact:!0})||!n&&a.startsWith("/unauth-profile")?"profile":null};class re extends i.PureComponent{constructor(...e){super(...e),X(this,"state",{bottom:0,hasScrolled:!1,isNavFooterHidden:!1,prevLocation:this.props.location,selectedItem:oe(this.props.location,this.props.username,this.props.isAuthenticated),showUnauthNavExplorePrompt:!1}),X(this,"profileButtonRef",(0,i.createRef)()),X(this,"handleScrollForIphoneX",(()=>{window.innerHeight!==this.currInnerHeight&&(this.currInnerHeight=window.innerHeight,this.forceUpdate())})),X(this,"selectItem",(e=>{const{logContextEvent:t,viewData:n,viewParameter:i,viewType:a}=this.props;this.setState({selectedItem:e}),t({component:8,element:ae(e),event_type:102,view_data:n,view_type:a,view_parameter:i})})),X(this,"handleHomeTouch",(()=>{const{activeHomefeedTabIndex:e,isAuthenticated:t,location:n,setHomeFlyoutText:i,setHomefeedAsActiveHomefeedTab:a,setShowHomeBadge:o,setShowHomeFlyoutWithButton:r,trackInteraction:l}=this.props;this.selectItem("home"),(0,Y.E)(!1),i(),o(!1),r(!1),l({action:"click",item:"nav-bar-home"}),t?(0,V.My)("mweb.auth.bottom-nav.home-tap"):(0,V.My)("mweb.unauth.bottom-nav.home-tap"),q.C.has(n.pathname)&&e!==q.e&&0===window.scrollY?a():0===window.scrollY&&"/"===n.pathname?(0,D.cV)("homefeed"):"/"===window.location.pathname&&window.scrollY>0&&ne(window.scrollY)})),X(this,"handleVideoIconTouch",(()=>{const{trackInteraction:e}=this.props;this.selectItem("videos"),e({action:"click",item:"nav-bar-videos"}),(0,V.My)("mweb.unauth.bottom-nav.videos-icon-tap")})),X(this,"handleInboxTouch",(()=>this.selectItem("inbox"))),X(this,"handleProfileTouch",(()=>{const{isAuthenticated:e,trackInteraction:t}=this.props;this.selectItem("profile"),t({action:"click",item:"nav-bar-profile"}),(0,V.My)(`mweb.${e?"auth":"unauth"}.bottom-nav.profile-tap`)})),X(this,"handleSearchTouch",(()=>{const{isAuthenticated:e,trackInteraction:t}=this.props;this.selectItem("search"),t({action:"click",item:"nav-bar-search"}),e?(0,V.My)("mweb.auth.bottom-nav.search-tap"):(0,V.My)("mweb.unauth.bottom-nav.search-tap")})),X(this,"handleNavFooterScroll",(e=>{const{experience:t,dismissExperience:n,setIsNavFooterHiddenAfterScroll:i}=this.props,{hasScrolled:a}=this.state;t&&502511===t.experience_id&&n&&!a&&n(1000151,502511),this.setState({isNavFooterHidden:e,hasScrolled:!0}),i(e)})),X(this,"currInnerHeight",0)}componentDidMount(){const{devicePlatform:e}=this.props;this.currInnerHeight=window.innerHeight,(0,U.Rq)(e)&&window.addEventListener("scroll",this.handleScrollForIphoneX)}static getDerivedStateFromProps(e,t){return e.location===t.prevLocation?null:{...t,prevLocation:e.location,selectedItem:oe(e.location,e.username,e.isAuthenticated)}}componentDidUpdate({location:e},{selectedItem:t}){const{location:n,history:{action:i}}=this.props,{selectedItem:a}=this.state;e!==n&&("REPLACE"===i||"PUSH"===i&&t!==a)&&(te[e.key]=t,te[n.key]=a)}componentWillUnmount(){const{devicePlatform:e,location:t}=this.props;te[t.key]=this.state.selectedItem,(0,U.Rq)(e)&&window.removeEventListener("scroll",this.handleScrollForIphoneX)}render(){var e;const{forceShowNavFooter:t,isAuthenticated:n,isTablet:a,showDockedNavBar:r,dockNavBarForAuthTablet:s,inUnauthVideosNavExp:d,homeFlyoutText:m,location:h,numUnauthSavedPins:_,shouldUpsellHomePage:y,showHomeBadge:b,showHomeFlyoutWithButton:x,username:P,viewingUser:S,viewType:w,history:T}=this.props,{isNavFooterHidden:A,selectedItem:C}=this.state,R=(0,l.Z)(null==S?void 0:S.created_at),D=n&&R,O=((e,t,n,i)=>t||i&&!n?i?"100%":e?320:264:200)(D,n,a,r),L=!h.pathname.startsWith(`/${P}`)&&h.pathname.startsWith("/notifications");return(0,u.jsxs)(z.FixedFooter,{forceShow:t,height:ee,location:h,showDockedNavBar:r,dockNavBarForAuthTablet:s,isTablet:a,isModal:(N=h.pathname,N.includes("/report/")),footerWidth:O,noPadding:!0,hideOnScroll:!r&&!s&&(!n||n&&ie(h.pathname)),onScroll:this.handleNavFooterScroll,footerInLego:!0,zIndex:I.Z,children:[(0,u.jsx)(F,{}),(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"around",marginEnd:"auto",marginStart:"auto",maxWidth:O,paddingX:2,width:O,children:[(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow","data-test-id":"nav-bar-home",children:(0,u.jsx)(v,{accessibilityLabel:this.props.i18n.bt("", "Home", "Nav bar icon", undefined, true),homeFlyoutText:m,isAuthenticated:n,onTouch:this.handleHomeTouch,selectedItem:C,shouldUpsellHomePage:y&&!A,showHomeBadge:b,showHomeFlyoutWithButton:x,showLabel:D,title:this.props.i18n.bt("", "Home", "Home button on the Nav bar", undefined, true)})}),!n&&(0,u.jsx)(c.xu,{flex:"grow","data-test-id":"nav-bar-search",children:(0,u.jsx)(M.Z,{id:"nav-bar-search",children:(0,u.jsx)(g,{accessibilityLabel:this.props.i18n.bt("", "Search", "bottomNavBar.searchButton", undefined, true),color:"search"===C?"default":"subtle",icon:"search",onTouch:this.handleSearchTouch,showLabel:D,title:this.props.i18n.bt("", "Search", "bottomNavBar.searchButton", undefined, true),to:"/search/"})})}),n&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(g,{icon:"search",to:"/search/",color:"search"===C?"default":"subtle",accessibilityLabel:this.props.i18n.bt("", "Search", "Nav bar icon", undefined, true),onTouch:this.handleSearchTouch,title:this.props.i18n.bt("", "Search", "Nav bar icon", undefined, true),showLabel:D}),(null==S?void 0:S.is_partner)&&(0,u.jsx)(p,{showLabel:D,viewType:w}),(0,u.jsx)(j,{isActive:"inbox"===C||"notifications"===C,onTouch:this.handleInboxTouch,showLabel:D,icon:"speech-ellipsis"})]}),d&&(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",flex:"grow","data-test-id":"nav-bar-videos",children:(0,u.jsx)(E,{accessibilityLabel:this.props.i18n.bt("", "Videos", "bottomNavBar.VideosButton", undefined, true),onTouch:this.handleVideoIconTouch,selectedItem:C,showLabel:D,title:this.props.i18n.bt("", "Videos", "bottomNavBar.VideosButton", undefined, true)})}),(0,u.jsx)(f.Z,{children:(0,u.jsx)(c.xu,{flex:"grow","data-test-id":"nav-bar-profile",ref:this.profileButtonRef,children:(0,u.jsx)(k,{avatarSrc:!S||null!==(e=S.image_small_url)&&void 0!==e&&e.includes("default")||"string"!=typeof S.image_small_url?"":S.image_small_url,isActive:"profile"===C,locationPath:h.pathname,numUnauthSavedPins:_,onTouch:this.handleProfileTouch,showLabel:D,username:P})})})]}),L&&(0,u.jsx)(o.default,{anchor:this.profileButtonRef.current,experienceIds:[505320],onClickComplete:()=>T.push(B.Gx),placementId:1000151,showCaret:!0,textWeight:"normal",hasFullWidthButton:!1,textAlign:"center",flyoutSize:"md"})]});var N}}const le=(0,a.connect)((function({homefeedTabUI:e,session:t,users:n}){return{activeHomefeedTabIndex:e.activeTabIndex,devicePlatform:t.userAgentPlatform,isAuthenticated:t.isAuthenticated,username:t.isAuthenticated&&n[t.userId]?n[t.userId].username:"",viewingUser:t.isAuthenticated?n[t.userId]:void 0}}),(function(e){return{dismissExperience:(t,n)=>e((0,b.Qu)(t,n)),setHomefeedAsActiveHomefeedTab:()=>e((0,Z.r)(null,q.e))}}))((e=>{const t=(0,Y.S)(),n=(0,L.useHistory)(),i=(0,L.useLocation)(),a=(0,d.ZP)(),{forceShowNavFooter:o,homeFlyoutText:r,numUnauthSavedPins:l,setHomeFlyoutText:s,setIsNavFooterHiddenAfterScroll:c,setShowHomeBadge:p,setShowHomeFlyoutWithButton:m,showHomeBadge:h,showHomeFlyoutWithButton:_}=(0,G.U)(),g=(0,x._)({id:1000151}),{viewParameter:v,viewType:y,viewData:f}=(0,O.SU)(),b=(0,W.Z)(),P=(0,$.Z)(),{checkExperiment:S}=(0,H.F)(),w=(0,K.Wb)();return S("community_engagement_holdout_2023_h1"),S("social_growth_holdout_2022_h2"),S("social_growth_holdout_2023_h1"),(0,u.jsx)(re,{...e,experience:g,forceShowNavFooter:o,history:n,location:i,logContextEvent:b,homeFlyoutText:r,isTablet:w,numUnauthSavedPins:l,setHomeFlyoutText:s,setIsNavFooterHiddenAfterScroll:c,setShowHomeBadge:p,setShowHomeFlyoutWithButton:m,showHomeBadge:h,showHomeFlyoutWithButton:_,shouldUpsellHomePage:t,trackInteraction:P,i18n:a,viewData:f,viewParameter:v,viewType:y})}))},118405:(e,t,n)=>{n.d(t,{U:()=>l,m:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("NavFooterContext");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(!1),[s,d]=(0,i.useState)(0),[c,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[h,_]=(0,i.useState)(!1);return(0,o.jsx)(r,{value:{forceShowNavFooter:h,homeFlyoutText:t,isNavFooterHiddenAfterScroll:a,numUnauthSavedPins:s,setForceShowNavFooter:_,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:l,setNumUnauthSavedPins:d,setShowHomeBadge:u,setShowHomeFlyoutWithButton:m,showHomeBadge:c,showHomeFlyoutWithButton:p},children:e})}},379764:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(183007);const a=new(n(883119).H3)([i.N])},872482:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>o});var i=n(425288);const{Provider:a,useMaybeHook:o}=(0,i.Z)("unauthPageWrapperContext")},948945:(e,t,n)=>{n.d(t,{Z:()=>ue});var i=n(667294),a=n(81226),o=n(702664),r=n(8320),l=n(977734),s=n(499128),d=n(898781),c=n(112690),u=n(927383),p=n(662089),m=n(52022),h=n(332611),_=n(639952),g=n(57791),v=n(881802),y=n(698330),f=n(883119),b=n(276775),x=n(785893);const P=new f.Ry(1);function S({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:a,experience:S,inline:w=!0,minWidth:T,onTouch:k,onUnsave:E,pinId:I,pinnedToBoardId:A,shape:C,shouldShowSavedButton:R,viewType:j,viewParameter:D,showSaveHandoffExperience:O}){var L;const N=(0,d.ZP)(),F=(0,o.useDispatch)(),M=(0,b.useHistory)(),z=(0,b.useLocation)().pathname.startsWith("/pin"),U=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),Z=null===(L=(0,y.Tt)())||void 0===L?void 0:L.pin_count,V=(0,c.Z)(),H=(0,m.Z)(),K=e=>M.push(e),{showToast:G,showRepinConfirmation:W}=(0,p.Z)(),$=()=>{F((0,l.Z)({history:M,i18n:N,logContextEvent:V,onSuccess:()=>{S&&F((0,h.CK)(S.placement_id,S.experience_id))},originalPinId:I,pinId:I,trackingParams:{clientTrackingParams:t,pinnedToBoardId:A},showRepinConfirmation:O&&!z?()=>{}:W,disableRepinAnimation:B===I,pinCount:Z,historyPush:K})).catch((e=>G((({hideToast:t})=>(0,x.jsx)(s.ZP,{variant:"error",text:e.message||N.bt(". Pinterest   .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t})))))},q=(0,i.useRef)(null),Y=O&&!U,X=(0,u.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),k&&k(e),R?R&&E&&E():$()},modalHeader:(0,v.Bx)(N)});(0,i.useEffect)((()=>{Y&&!q.current&&(H({action:"trigger",item:"unauth-save-button-quicksave"}),$(),F((0,_.e2)())),q.current=Y}));const J=()=>N.bt("", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),Q=()=>e||N.bt("", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return U&&!z?null:(0,x.jsx)(f.xu,{"data-test-id":"save-button-mobile",zIndex:P,children:a?(0,x.jsx)(g.di,{accessibilityLabel:J(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:w,minHeight:48,minWidth:T,onTouch:X,pressState:["compress","background"],shape:C,size:"lg",text:Q(),to:M.location.pathname,upsellType:"save",viewType:j,viewParameter:D}):(0,x.jsx)(r.Z,{accessibilityLabel:J(),color:n,customStyles:{padding:"14px 16px"},inline:w,minHeight:48,minWidth:T,onTouch:X,pressState:"compress",shape:C,size:"300",text:Q()})})}var w=n(364034),T=n(139574),k=n(826067),E=n(850431),I=n(867820),A=n(50286),C=n(780280),R=n(177891),j=n(343341);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){var t;super(...e),t=this,D(this,"state",{saveState:void 0}),D(this,"legoFixedZIndex",new f.Ry(2)),D(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:l,viewType:d,historyPush:c}=t.props;try{const i=await n((0,E.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:d,historyPush:c}));t.setState({saveState:"saved"}),n((0,R.a)({boardId:null==a?void 0:a.boardId,localPinId:i.id,pinId:o}))}catch(u){l((({hideToast:e})=>(0,x.jsx)(s.ZP,{variant:"error",text:u.message||i.bt(". Pinterest   .", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}})),D(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:a,savedInfo:o,showToast:r}=t.props;if(o){e((0,R.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,T.q)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:n})),r((({hideToast:e})=>(0,x.jsx)(s.ZP,{text:i.bt(" !", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),t.setState({saveState:void 0})}catch(l){r((({hideToast:e})=>(0,x.jsx)(s.ZP,{variant:"error",text:i.bt("!     .", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),t.setState({saveState:"saved"})}}})),D(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(t)||a&&o||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,v.Bx)(this.props.i18n)})),D(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:o,isRTL:r,oneTapSave:l,pinId:s,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p,useSmallSaveIcon:m}=this.props;if(!l&&!o&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:d,savedInfo:u}),_="#000",g="rgba(255, 255, 255, 0.8)",v="light",y="dark";return(0,x.jsxs)(i.Fragment,{children:[e,(0,x.jsx)(f.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:p?(0,x.jsx)(S,{buttonText:d?a.bt("", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:t,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:s,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,x.jsx)(f.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?_:g}},padding:2,rounding:"circle",children:(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,x.jsx)(f.JO,{accessibilityLabel:h?a.bt("", "saved", "checkmark icon to show pin has been saved", undefined, true):a.bt("", "save", "button for saving quickly with one click", undefined, true),icon:h?"check":"add",color:h?v:y,size:m?16:24})})})})})]})}}const L=(0,o.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,j.F9)(),n=(0,b.useLocation)(),a=(0,d.ZP)(),r=(0,c.Z)(),s=(0,u.Z)(),p=(0,o.useDispatch)(),m=(0,b.useHistory)(),{isRTL:h,isAuthenticated:_}=(0,C.B)(),g=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),v=_&&!!g&&g===e.pinId,{pins:y,clear:f}=(0,w.Z)(),P=(0,i.useRef)(!1),S=(0,k.mB)(n.search).ideas_referrer,T=!(0,A.HG)()&&S===String(25),E=e=>m.push(e);return(0,i.useEffect)((()=>{_&&!P.current&&y.length>0&&(P.current=!0,y.forEach((({id:e})=>{p((0,l.Z)({history:m,i18n:a,logContextEvent:r,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:E})).catch((e=>{(0,I.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,x.jsx)(O,{...e,i18n:a,requireAuthForLimitedLogin:s,history:m,logContextEvent:r,showToast:t,shouldShowSaveHandoffExp:v,isRTL:h,historyPush:E,useSmallSaveIcon:T})}));L.displayName="OneTapSave";const N=L;var F=n(883561),M=n(349700);function z({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:a}){const o=(0,d.ZP)(),r=(0,b.useHistory)(),l=new f.Ry(1),s=!!a&&`${e}${a}/`;return(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,x.jsx)(f.iP,{onTap:t=>{t.event.preventDefault(),r.push(n?"/me/":s||e)},children:(0,x.jsx)(f.xv,{color:"light",children:i?(0,M.nk)(o.bt("{{sectionName}} ", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,x.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:(0,F.ZP)(i,22)},`pincard-${i}`)}):(0,M.nk)(o.bt("{{boardName}} ", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,x.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:n?o.bt("", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,F.ZP)(t,22)},`pincard-${t}`)})})})})})}var U=n(167525),B=n(964082),Z=n(36971),V=n(463045);function H({isSquarePin:e,color:t,description:n,imageUrl:i,imageHeight:a,imageWidth:o,onError:r,onLoad:l}){const s=(0,x.jsx)(f.Ee,{alt:n||"",color:t,naturalHeight:null!=a?a:1,naturalWidth:null!=o?o:1,onError:r,onLoad:l,src:null!=i?i:"",fit:e?"cover":void 0});return e?(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:s})}):s}var K=n(350445),G=n(46584),W=n(926749),$=n(623568),q=n(965900);function Y({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:n,cropHeight:a,currentTime:o,onLoad:r,onError:l,onTimeChange:s,pin:c,playing:u,rootMargin:p,viewType:m,viewParameter:h,onVisibilityChanged:_,trackFullVisible:g,videoDuration:v,imageHeightModifier:y,image:b,isSquarePin:P}){var S,w,T,k;const E=(0,d.ZP)(),[I,C]=(0,i.useState)(!1),[R,j]=(0,i.useState)(!0),{is_downstream_promotion:D,promoter:O}=c,L=(0,$.jL)(D,O),N=L&&!c.is_eligible_for_web_closeup,F=3372===h||42===m,M=L&&c.is_eligible_for_web_closeup&&!F,{setCurrentVideo:z,pauseAutoplay:B}=(0,q.I)(),Z=N||!L,V=(0,G.Z)({onVisibilityChanged:_,inAdsDesktopVideoExperiment:e,trackFullVisible:g,rootMargin:p});let Y=!u;(e||null!=t&&t.startsWith("enabled"))&&(Y=R,n&&u&&R&&j(!1));const{url:X}=(null===(S=c.images)||void 0===S?void 0:S["236x"])||{},{id:J}=c,Q=(0,A.HG)()&&c.videos?null===(w=c.videos.video_list)||void 0===w?void 0:w.V_HLSV4:null===(T=c.videos)||void 0===T||null===(k=T.video_list)||void 0===k?void 0:k.V_720P,ee=(0,A.HG)()&&c.videos?"video/m3u8":"video/mp4",te=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),z({pinId:J,isPromoted:Boolean(L),currentTime:0}),C(!1)}),[L,J,z]),ne=(0,i.useCallback)((()=>{L&&C(M),B({pinId:J,isPromoted:Boolean(L),currentTime:0})}),[M,L,J,B]);if(!c.videos||!Q)return null;const{height:ie,thumbnail:ae,width:oe,url:re}=Q||{},le=c.videos.id,se=[{type:ee,src:re}];let de,ce=(null!=oe?oe:1)/(null!=ie?ie:1);return e&&P&&(ce=1,de="transparent",y&&(ce-=y-1)),I&&L?(0,x.jsx)(f.xu,{"data-test-id":"pin-video-mobile-end-card",ref:V,children:(0,x.jsx)(K.Z,{backgroundImage:null!=X?X:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=oe?oe:1,pin:c,onRestartVideo:te})}):Y?(0,x.jsxs)(f.xu,{"data-test-id":"pin-video-mobile-image",ref:V,children:[v&&(0,x.jsx)(U.Z,{text:v}),(0,x.jsx)(H,{imageHeight:null!==(ue=null==b?void 0:b.height)&&void 0!==ue?ue:1,imageWidth:null!==(pe=null==b?void 0:b.width)&&void 0!==pe?pe:1,onError:l,onLoad:r,imageUrl:null!==(me=null==b?void 0:b.url)&&void 0!==me?me:"",isSquarePin:P})]}):(0,x.jsx)(f.xu,{"data-test-id":"pin-video-mobile-video",ref:V,children:(0,x.jsx)(W.ZP,{isAutoPlay:!!n,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:h,component:0,objectId:c.id,video_id:le,view:m},accessibilityMaximizeLabel:E.bt("", "Maximize", "pinLayouts.PinVideo.accessibilityMaxVideoBtn", undefined, true),accessibilityMinimizeLabel:E.bt("", "Minimize", "pinLayouts.PinVideo.accessibilityMinVideoBtn", undefined, true),accessibilityMuteLabel:E.bt("", "Mute", "pinLayouts.PinVideo.accessibilityMuteVideoBtn", undefined, true),accessibilityPauseLabel:E.bt(" ", "Pause", "pinLayouts.PinVideo.accessibilityPauseVideoBtn", undefined, true),accessibilityPlayLabel:E.bt("", "Play", "pinLayouts.PinVideo.accessibilityPlayVideoBtn", undefined, true),accessibilityProgressBarLabel:E.bt(" ", "Progress bar", "pinLayouts.PinVideo.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:E.bt(" ", "Unmute", "pinLayouts.PinVideo.accessibilityUnmuteVideoBtn", undefined, true),aspectRatio:ce,backgroundColor:de,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:Z,onTimeChange:s,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:X||ae,src:null!=se?se:[],videoStartTime:o,volume:0,onEnded:ne})});var ue,pe,me}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends i.Component{constructor(...e){super(...e),X(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,a=(0,Z.Z)(i,n);return this.currentVideoCurrentTime||a||e})),X(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:a,videosAutoplaying:o}=this.props,{id:r,is_downstream_promotion:l,promoter:s}=n,d=(0,$.jL)(l,s),c=(0,V.Z)(r,o),u=(0,B.Z)(r,o);e?d?i({pinId:r,isPromoted:d,currentTime:this.calculateCurrentVideoTime()}):u&&i({pinId:r,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&a({pinId:r,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})})),X(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:a}=t;(0,V.Z)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pin:o,setCurrentVideo:r,videosAutoplaying:l}=this.props,{id:s,is_downstream_promotion:d,promoter:c}=o,u=(0,$.jL)(d,c),p=(0,V.Z)(s,l);n!==t&&!n&&p?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:Boolean(u),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:Boolean(u),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:a,is_downstream_promotion:o,promoter:r}=n,l=(0,$.jL)(o,r);(0,V.Z)(a,i)&&t({pinId:a,isPromoted:Boolean(l),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,videosAutoplaying:i,videoDuration:a,viewParameter:o,viewType:r,onError:l,onLoad:s,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:m,image:h,isHovering:_}=this.props,{id:g}=n,v=(0,Z.Z)(g,i),y="enabled_hover"===c,f=(0,V.Z)(g,i),b=_&&y||f&&t;return(0,x.jsx)(Y,{cropHeight:e,rootMargin:p,currentTime:v,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:t,isSquarePin:u,image:h,viewParameter:o,viewType:r,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:b,trackFullVisible:!1,onError:l,onLoad:s,imageHeightModifier:m,videoDuration:a})}}function Q(e){const{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:i},pauseAutoplay:a,setCurrentVideo:o}=(0,q.I)();return(0,x.jsx)(J,{...e,appInFocus:t,isAutoplay:n,pauseAutoplay:a,setCurrentVideo:o,videosAutoplaying:i})}var ee=n(690035),te=n(310227),ne=n(773285),ie=n(130460),ae=n(350118),oe=n(780679),re=n(627995);const le=({domainLinkData:e})=>{const t=(0,d.ZP)(),n=(0,oe.g)();return(0,x.jsxs)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,x.jsx)(f.X6,{size:"400",align:"center",color:"light",children:t.bt("", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,x.jsx)(f.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,x.jsx)(re.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var se=n(53987);const de=({width:e,height:t,minY:n,maxY:i})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":a(-1*n*t),bottom:i>=1?"0%":a(-1*(1-i)*t)}},ce=({children:e,margin:t,disableRounding:n})=>(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,x.jsx)(f.zd,{wash:!0,rounding:n?0:te.mv,children:e})}),ue=({clientTrackingParams:e,color:t,description:n,domainLinkData:o,hideBottomCardText:r,image:l,imageAltText:s,imageCrop:c,isPromoted:u,isMessenger:p,isOneTapExploreLocalTab:h,isSquarePin:_,lazyLoadImage:g,onError:v,oneTapSave:y,onLoad:P,pinId:S,priorityFetchImage:w,disableDefaultContextMenu:T,pinnedToBoardId:k,pinVideo:E,videoUrl:R,productPrice:j,disableRounding:D,storyDataExists:O,title:L,type:F,videoDuration:M,viewType:B,viewParameter:Z,unauthRelatedPinsAutoplayExpGroup:V})=>{var H,K,G,W,$,q,Y,X,J,te,oe;const re=(0,d.ZP)(),ue=(0,ee.Z)(),{checkExperiment:pe}=(0,ne.F)(),[me,he]=(0,i.useState)(!1),{isAuthenticated:_e}=(0,C.B)(),ge=(0,A.ZP)(),ve=(0,ae.S6)()(S),ye=(0,ie.gC)()(k||(ve?String(null===(H=ve.board)||void 0===H?void 0:H.id):"")),fe=k&&(null==ve?void 0:ve.savedThisSession),be=o&&o.link?"with-link":"without-link",xe=!_e&&"desktop"!==ge,Pe=(0,i.useRef)(Date.now()),Se=(0,i.useRef)(null),we=pe("mweb_video_ads_autoplay").anyEnabled,Te="video"===F&&(V&&"enabled_hover"===V),ke=(0,m.Z)();(0,i.useEffect)((()=>{Te||!me||_e||ke({action:"view",item:"unauth-video-autoplay-on-hover"})}),[Te,me,ke,_e]);const Ee=(0,x.jsx)(f.Ee,{alt:s||L||n||"",color:t,naturalHeight:null!==(K=l.height)&&void 0!==K?K:1,naturalWidth:null!==(G=l.width)&&void 0!==G?G:1,onError:v,onLoad:P,src:null!==(W=l.url)&&void 0!==W?W:"",fit:_?"cover":void 0,loading:g?"lazy":"auto",fetchPriority:w?"high":"auto"}),Ie=_?(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Ee})}):Ee,Ae=(0,b.useLocation)(),Ce=()=>(0,se.C$)(Ae)?"homefeed":(0,se.L6)(Ae)?"related_pins":(0,se.En)(Ae)?"search":"unknown";return(0,x.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,x.jsxs)(f.xu,{onContextMenu:e=>{if("desktop"!==ge){const t=Ce();(0,I.My)((_e?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),"related_pins"!==t||_e||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const t=Ce();if((0,I.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!_e&&(null==T||T(),Pe.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(Se.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const t=Ce();if((0,I.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-Pe.current>500&&!_e&&"related_pins"===t){const t=Se.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;null==T||T(),ue({pinId:S,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${F}-${be}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:xe?void 0:()=>he(!0),onMouseLeave:xe?void 0:()=>he(!1),position:"relative",rounding:D?0:4,children:[(0,x.jsxs)(N,{clientTrackingParams:e||"",oneTapSave:y,isOneTapExploreLocalTab:h,pinId:S,pinnedToBoardId:k,viewType:B,children:[(()=>{if("gif"===F&&!r&&!fe)return(0,x.jsx)(U.Z,{text:re.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===F&&M&&!r&&!fe)return(0,x.jsx)(U.Z,{text:M});if("storyPin"===F&&O&&!fe){const{page_count:e=0,total_video_duration:t=0}=(null==ve?void 0:ve.story_pin_data)||{};if(t>0)return(0,x.jsx)(U.Z,{text:(0,a.Z)(t)});if("number"==typeof e&&e>0)return(0,x.jsx)(U.Z,{icon:"idea-pin",text:e.toString()})}return"product"===F&&j?(0,x.jsx)(U.Z,{text:j}):null})(),(0,x.jsx)(ce,{disableRounding:D,margin:c?de({width:null!==($=l.width)&&void 0!==$?$:1,height:null!==(q=l.height)&&void 0!==q?q:1,minY:c.minY,maxY:c.maxY}):void 0,children:"video"===F&&p&&E?(0,x.jsx)(f.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:re.bt(" ", "Progress bar", "PinCardVisual.accessibilityProgressBarLabel", undefined, true),accessibilityUnmuteLabel:"",aspectRatio:E.width/E.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(Y=l.url)&&void 0!==Y?Y:"",src:E.url,volume:0}):E&&u&&we&&ve||null!=V&&V.startsWith("enabled")&&R&&ve?(0,x.jsx)(Q,{image:l,inAdsVideoExperiment:we,unauthRelatedPinsAutoplayExpGroup:V,isHovering:me,isSquarePin:_,onError:v,onLoad:P,pin:ve,videoDuration:M,viewParameter:Z,viewType:B}):Ie})]}),!Te&&me&&!_e&&(0,x.jsx)(le,{domainLinkData:o}),_e&&fe&&(0,x.jsx)(z,{boardName:null!==(X=null==ye?void 0:ye.name)&&void 0!==X?X:"",boardUrl:null!==(J=null==ye?void 0:ye.url)&&void 0!==J?J:"",sectionName:null==y||null===(te=y.section)||void 0===te?void 0:te.title,sectionSlug:null==y||null===(oe=y.section)||void 0===oe?void 0:oe.slug,isQuicksave:"quick_saves"===(null==ye?void 0:ye.layout)})]})})}},904779:(e,t,n)=>{n.d(t,{K:()=>r,T:()=>l});var i=n(667294),a=n(785893);const o=(0,i.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),r=()=>(0,i.useContext)(o);function l({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})})),[t]);return(0,a.jsx)(o.Provider,{value:r,children:e})}},204283:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be,pinRepPaddingInBoint:()=>Ce});var i=n(667294),a=n(702664),o=n(934494),r=n(319915),l=n(886076),s=n(248975),d=n(830157),c=n(958007),u=n(926275),p=n(63552),m=n(81226),h=n(116303),_=n(561195),g=n(883119),v=n(785893);function y({maxRating:e,rating:t,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(_.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var f=n(898781),b=n(62409),x=n(643010),P=n(350118);const S=({pinId:e})=>{var t;const n=(0,f.ZP)(),a=(0,P.S6)()(e),o=(0,x.Yc)();if(!a)return null;const{link_domain:r,rich_metadata:l,rich_summary:s}=a||{},d=(0,b.kb)({hasLinkDomain:!!r,richMetadata:l&&{recipe:l.recipe&&{fromAggregatedData:l.recipe.from_aggregated_data},products:l.products&&l.products.map((e=>({name:e.name,offerSummary:e.offer_summary})))},richSummary:s&&{products:s.products&&s.products.map((e=>({name:e.name,offerSummary:e.offer_summary})))}});if(!d||!d.price)return null;const c=d.standard_price||d.price,u=d.min_price||"",p=d.max_price||"",m=d.in_stock||!1,h=null===(t=a.rich_summary)||void 0===t?void 0:t.site_name,{textColor:_,inStockColor:y}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:o,inStock:m});return(0,v.jsxs)(i.Fragment,{children:[h&&(0,v.jsx)(g.xv,{color:_,size:"100",children:h}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[u&&p?(0,v.jsxs)(g.xv,{size:"100",color:y,weight:"bold",children:[u," - ",p]}):(0,v.jsx)(g.xv,{size:"100",color:y,weight:"bold",children:c}),!m&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:y,weight:"bold",children:""})}),(0,v.jsx)(g.xv,{size:"100",color:y,weight:"bold",children:n.bt(" ", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})};var w=n(947599),T=n(914142),k=n(941646),E=n(50286),I=n(865673),A=n(52022),C=n(350948),R=n(923297),j=n(867820),D=n(773285),O=n(130460),L=n(276775),N=n(780280),F=n(53987);const M=(0,i.lazy)((()=>n.e(94950).then(n.bind(n,494950)))),z=({title:e})=>{const t=(0,E.ZP)(),n=(0,A.Z)();return(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===t?"300":"100",weight:"bold",lineClamp:2,children:e})})})},U=({allowPriceIndicator:e,contextMenu:t,credits:n,hidePinMetadata:a,hasAffiliatedProducts:o,isPromotedPin:l,isSponsoredPin:s,isSquarePin:d,marginTop:c,marginStart:u,marginEnd:m,onCreditsClick:_,pinDescription:b,pinId:x,pinnedToBoardId:U,pinReactionCounts:B,recipeCookTime:Z,recipeMaxRating:V,recipeRating:H,recipeReviewCount:K,shouldShowReactions:G,style:W="default",title:$,type:q,duploConversationPin:Y})=>{var X,J,Q,ee,te,ne,ie,ae,oe;const re=(0,f.ZP)(),{checkExperiment:le}=(0,D.F)(),se=(0,L.useLocation)(),de=(0,A.Z)(),{isAuthenticated:ce}=(0,N.B)(),ue=(0,E.ZP)(),pe=$||b||"oneTap"===q,me=(0,P.S6)()(x),he=(0,O.gC)()(U||(me?String(null===(X=me.board)||void 0===X?void 0:X.id):"")),_e=null==me?void 0:me.pinner,ge=l&&(null==me||null===(J=me.promoter)||void 0===J?void 0:J.id)===(null==me||null===(Q=me.native_creator)||void 0===Q?void 0:Q.id),ve=null!=me&&me.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ye="overlay"===W,fe=G&&B&&Object.keys(B).length>0&&(0,v.jsx)(g.xu,{height:18,display:ye?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(r.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(M,{pinReactionCounts:B})})})}),be=a?0:c||1,xe=(0,v.jsx)(h.Z,{accessibilityLabel:(null==n?void 0:n.title)||"string"==typeof(null==n?void 0:n.subtitle)&&n.subtitle||re.bt(" ", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:(null==n?void 0:n.title)||"",outline:ye,size:ye?"lg":"sm",src:ye&&(null==n?void 0:n.largeAvatar)||(null==n?void 0:n.mediumAvatar)||(null==n?void 0:n.avatar)||void 0}),Pe=(0,v.jsxs)(i.Fragment,{children:[(null==n?void 0:n.title)&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:s&&!ge||o?"normal":"bold",children:n.title===(null==_e?void 0:_e.full_name)&&(null!=_e&&_e.is_verified_merchant||null!=_e&&null!==(ee=_e.verified_identity)&&void 0!==ee&&ee.verified)?(0,v.jsx)(I.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:_e.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),null!=n&&n.subtitle?(!s&&!a||ge)&&(0,v.jsx)(g.xv,{lineClamp:s||o?void 0:1,size:"desktop"===ue?"200":"100",weight:"desktop"===ue?"bold":"normal",children:n.subtitle}):!ce&&he&&"protected"!==he.privacy?(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(te=he.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:he.name})})}):null]});return(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:d?e?104:72:void 0,marginEnd:m||1,marginStart:u||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:be,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(i.Fragment,{children:[(s||o)&&!ge&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(T.Z,{hasAffiliatedProducts:o,isPromoted:l,sponsorName:ve,sponsorshipStatus:null==me||null===(ne=me.sponsorship)||void 0===ne?void 0:ne.status})})}),$&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:ce&&!a&&(0,v.jsx)(z,{title:$})}),"desktop"===ue&&!ce&&b&&!(0,F.$Y)(se)&&!(0,F.E0)(se)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{de({action:"click",item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:b})})})]}),e&&(0,v.jsx)(S,{credits:n,pinId:x}),"recipe"===q&&!!K&&(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!K&&(0,v.jsx)(y,{maxRating:V||"",rating:H||"",text:""}),!!Z&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:""})}),(0,v.jsx)(g.xv,{size:"100",children:(0,C.IS)({...(0,R.u)(Z),i18n:re})})]})]})})]})})}),!ye&&fe,n&&(0,v.jsx)(p.Z,{onTouch:e=>_&&_(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!a||s||ge)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:ye?-9:c||(pe&&!a?1:0),marginBottom:a?2:0,position:"relative",direction:ye?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:ye?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:le(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?xe:(0,v.jsx)(g.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:xe})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ye?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:le(ce?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?Pe:(0,v.jsx)(g.iP,{onTap:()=>{de({action:"click",item:"related-pins-name"})},children:Pe})})]})})}),!n&&"desktop"===ue&&!!_e&&((0,F.L6)(se)||(0,F.cD)(se)||(0,F.$Y)(se))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:pe?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{de({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:_e.username||"",size:"sm",src:null!==(ie=_e.image_small_url)&&void 0!==ie?ie:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${_e.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_board"),de({action:"click",item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:_e.full_name||_e.username})}),he&&"protected"!==he.privacy?(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ae=he.url)&&void 0!==ae?ae:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),de({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(oe=he.name)&&void 0!==oe?oe:""})})}):null]})]}),ye&&fe]}),(0,v.jsx)(g.xu,{position:ye?"absolute":void 0,right:!0,children:!Y&&t})]})})};var B,Z=n(857079),V=n(349700),H=n(296011),K=n(167912);const G=void 0!==B?B:B=n(7745),W=(e,t)=>{const{checkExperiment:n}=(0,D.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const n=(0,K.useRelayEnvironment)();return(0,v.jsx)(H.t,{invite_code:e,relayEnvironment:n,inviteQuery:G,children:e=>{const n=null!=e&&e.data?e.data.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",o=(0,V.nk)(t.bt("{{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:i});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(h.Z,{name:i,src:a})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,t):((e,t)=>(0,v.jsx)(H.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",o=(0,V.nk)(t.bt("{{ name }}     ", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:i});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(h.Z,{name:i,src:a})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}}))(e,t)},$=({inviteCode:e})=>{const t=(0,f.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(r.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(w.Z,{fallback:(0,v.jsx)(Z.Z,{accessibilityLabel:t.bt("   ", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:W(e,t)})})})};var q=n(948945),Y=n(55275);const X={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},J=(e,t,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:n})},e);function Q({color:e,getFeedbackText:t,onUnfollow:n,showing:a,unfollowed:o}){const r=(0,f.ZP)(),[l,s]=(0,i.useState)(a?"fadeIn":"initial"),d=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===l&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[l,s,a]);const{subTitle:c,title:u,unfollow:p}=t(J);let m=u,h=c;p&&o&&(m=p.title,h=p.subTitle);const _=()=>p?(0,Y.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...X[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"light",children:m}),!!h&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"light",size:"200",inline:!0,children:h}),(0,v.jsx)(g.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r.bt(" ", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:_})})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r.bt("", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:_})})]})})}var ee=n(21384),te=n(992750);function ne({description:e,gridTitle:t,pinId:n,placeSummaryName:i,richMetadataTitle:a,richSummaryDisplayName:o,storyPinDataId:r,storyPinDataMetadataPinTitle:l,title:s}){return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,te.fs)({pinTitle:s,gridTitle:t,richSummaryDisplayName:o,richMetadataTitle:a,storyPinDataId:r,storyPinDataMetadataPinTitle:l,placeSummaryName:i})||e})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(ee.Z,{pinId:n,size:"sm",graphqlRef:null})})]})}var ie=n(57791);const ae=({attribute:e,deviceType:t,location:n})=>{const i=(0,A.S)(n);(0,j.My)("unuath.product_attribution.click",{item:e,page:i,device:t})};function oe({description:e,domain:t,gridTitle:n,pinId:a,priceSummary:o,placeSummaryName:r,richMetadataTitle:l,richSummaryDisplayName:s,storyPinDataId:d,storyPinDataMetadataPinTitle:c,title:u,isUnauthRelatedProductsExp1LineGroup:p}){const m=(0,E.ZP)(),h=(0,L.useLocation)(),_=o&&(o.price||o.standardPrice||(({maxPrice:e,minPrice:t,price:n})=>e&&t?`${t}-${e}`:n)(o)),y=(0,i.useMemo)((()=>p?1:_?3:2),[_,p]);if(!a)return null;const f=(0,te.fs)({pinTitle:u,gridTitle:n,richSummaryDisplayName:s,richMetadataTitle:l,storyPinDataId:d,storyPinDataMetadataPinTitle:c,placeSummaryName:r})||e,b=`/pin/${a}/`;return(0,v.jsx)(g.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(ie.MZ,{to:b,accessibilityLabel:f,deeplinkUri:b,children:[_&&(0,v.jsx)(g.iP,{onTap:()=>ae({deviceType:m,attribute:"price",location:h}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",children:_})}),(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>ae({deviceType:m,attribute:"title",location:h}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:y,children:f})})}),t&&_&&(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>ae({deviceType:m,attribute:"merchant",location:h}),children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:t})})})]})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(ee.Z,{pinId:a,size:"sm",graphqlRef:null})})]})})}var re=n(248299),le=n(327476),se=n(394332),de=n(529195),ce=n(477802),ue=n(255607),pe=n(262794);const me=Object.freeze([pe.Country.BR,pe.Country.MX,pe.Country.ES,pe.Country.IT,pe.Country.CH,pe.Country.AT,pe.Country.NL]),he=Object.freeze([pe.Country.DE,pe.Country.CA,pe.Country.FR,pe.Country.AU]),_e=Object.freeze([pe.Country.US,pe.Country.GB]);Object.freeze([...he,...me,..._e]);var ge,ve=n(874317),ye=n(861411),fe=n(639952),be=n(772486),xe=n(378518),Pe=n(813401),Se=n(112690),we=n(680046),Te=n(305324),ke=n(904779),Ee=n(780679);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae=void 0!==ge?ge:ge=n(741316),Ce=({isDesktop:e})=>e?0:1,Re=e=>Boolean(e.isEligibleForWebCloseup),je=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),De={width:1,height:1,url:""},Oe=e=>{const{attribution:t,embed:n,isEligibleForWebCloseup:i,richSummary:a,videos:o,storyPinDataId:r}=e,l=n||t&&t.embed;return i?"oneTap":o||l&&"video"===l.type?"video":l&&"gif"===l.type?"gif":a&&"product"===a.typeName?"product":a&&"recipe"===a.typeName?"recipe":r?"storyPin":"image"},Le=e=>{if(("video"===Oe(e)||je)&&e.videos&&e.videos.videoList){const{duration:t}=e.videos.videoList[Object.keys(e.videos.videoList)[0]]||{};return(0,m.Z)(null!=t?t:0)}return""},Ne=e=>{var t;if("product"!==Oe(e))return null;const[n]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!n)return null;const i=n.offerSummary;return i&&(i.price||i.maxPrice)},Fe=(0,i.lazy)((()=>n.e(26332).then(n.bind(n,926332))));class Me extends i.Component{constructor(...e){super(...e),Ie(this,"state",{startImpressionTimer:!1,isShowingCustomContextMenu:!1}),Ie(this,"getPinImage",(()=>{const{pin:{imageSpec_136x136:e,imageSpec_170x:t,imageSpec_236x:n,imageSpec_474x:i,imageSpec_736x:a,imageSpec_orig:o},duploIsSquarePin:r}=this.props;return r?{height:136,url:null==n?void 0:n.url,width:136}:[n,t,e,a,i,o].find((e=>e&&e.url))||De})),Ie(this,"getImpressionData",(()=>{var e,t,n;const{pin:i}=this.props,a=null===(e=i.videos)||void 0===e||null===(t=e.videoList)||void 0===t?void 0:t.v720P,o=a?{isNativeVideoAndWatchable:!!(a&&a.url&&a.height&&a.width)||void 0,videoIdStr:a&&(null===(n=i.videos)||void 0===n?void 0:n.entityId)||void 0}:{},r=this.getPinImage();return{richTypes:i.shoppingFlags||[],imageURL:r.url||"",...o,...this.props.impressionData}})),Ie(this,"getAuxCommerceData",(()=>{var e;const{pin:t}=this.props;return(0,l.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:null!==(e=t.shoppingFlags)&&void 0!==e?e:void 0})})),Ie(this,"getAuxData",(()=>{const{auxData:e={},pwaType:t}=this.props;return{commerce_data:this.getAuxCommerceData(),pwa_type:t,...e}})),Ie(this,"getFeedbackType",(()=>{var e,t,n;const{feedback:i,viewParameter:a,pin:o}=this.props;return(0,we.hP)({boardFollowedByMe:!(null===(e=o.board)||void 0===e||!e.followedByMe),feedbackType:null==i?void 0:i.type,viewParameter:a,promotion:o&&o.promoter&&{isDownstreamPromotion:!!o.isDownstreamPromotion},pinnerFollowedByMe:!(null===(t=o.pinner)||void 0===t||!t.explicitlyFollowedByMe),recommendationReason:(null===(n=o.legacyOnly)||void 0===n?void 0:n.recommendation_reason)&&{hasBoard:!!o.legacyOnly.recommendation_reason.board,reason:o.legacyOnly.recommendation_reason.reason}})})),Ie(this,"getRecommendationDescription",(e=>{var t,n;const{pin:i,i18n:a}=this.props,o={i18n:a,makeNavigateLink:e};switch(this.getFeedbackType()){case"pfy":return(0,we.Ud)({...o,feedback:{type:"pfy"}});case"pfyBoard":return(0,we.Ud)({...o,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=i.legacyOnly)||void 0===t||null===(n=t.recommendation_reason)||void 0===n?void 0:n.board)&&{name:i.legacyOnly.recommendation_reason.board.name,url:i.legacyOnly.recommendation_reason.board.url}}});case"topic":return(0,we.Ud)({...o,feedback:{type:"topic",sourceInterest:i.sourceInterest&&i.sourceInterest.name&&i.sourceInterest.urlName?{name:i.sourceInterest.name,url_name:i.sourceInterest.urlName}:null}});case"followed":return(0,we.Ud)({...o,feedback:{type:"followed",followed:i.pinner&&i.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:i.pinner.fullName&&i.pinner.username?{full_name:i.pinner.fullName,username:i.pinner.username}:null}:{type:"board",board:i.board&&i.board.name&&i.board.url?{name:i.board.name,url:i.board.url}:null}}});case"promoted":return(0,we.Ud)({...o,feedback:{type:"promoted",promoter:!i.adMatchReason&&i.promoter&&i.promoter.fullName?{full_name:i.promoter.fullName,username:i.promoter.username}:null}});default:return null}})),Ie(this,"getPinHiddenFeedbackText",(e=>{const{pin:t,i18n:n}=this.props,i=t.promoter;if(je(t)&&null!=i&&i.fullName)return{title:"",subTitle:(0,V.nk)(this.props.i18n.bt("{{ promoter }}         .", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:i.fullName})};let a;switch(this.getFeedbackType()){case"followed":const{board:i,pinner:o}=t;i&&o&&(a=(0,we.oK)({boardId:i.entityId,i18n:n,makeNavigateLink:e,display:o.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:o.fullName,username:o.username}}}));break;case"topic":const{sourceInterest:r}=t;r&&(a=(0,we.Iv)({i18n:n,makeNavigateLink:e,sourceInterest:{id:r.entityId,name:r.name,url_name:r.urlName}}))}return a?{title:n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:n.bt(" ", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:n.bt(".      .", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}})),Ie(this,"logOneTap",(()=>{const{logContextEvent:e,trackingParams:t,viewType:n,viewParameter:i,auxData:a,pin:o}=this.props,{entityId:r}=o,l=(0,d.Z)(t,o.trackingParams),s={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:o.storyPinDataId?12372:35,component:this.props.componentType,object_id_str:r,aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:this.props.slotIndex,image_signature:o.imageSignature,...this.props.auxData},clientTrackingParams:l};e({event_type:8948,view_type:n,view_parameter:i,object_id_str:r,clientTrackingParams:l,aux_data:{image_signature:o.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,be.jC)(s),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:l,aux_data:{closeup_navigation_type:"web_closeup",image_signature:o.imageSignature},object_id_str:r})})),Ie(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),Ie(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),Ie(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,logContextEvent:a,pin:o,slotIndex:r,trackingParams:l,viewParameter:s,viewType:c,duploFeedItemProps:u,isAuth:p,trackInteraction:m,unauthDesktopSignupModalPageContext:h}=this.props,{onPinClick:_}=null!=u?u:{},{entityId:g}=o,v=e=>(0,j.My)(`unauth_pin_rep.${e}.${String(s)}`);if(v("click"),a({view_type:c,view_parameter:s,element:o.storyPinDataId?12372:35,event_type:101,component:n,object_id_str:g,clientTrackingParams:(0,d.Z)(l,o.trackingParams),aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:r,image_signature:o.imageSignature,...t}}),Re(o)||a({event_type:8948,view_type:c,view_parameter:s,object_id_str:g,clientTrackingParams:(0,d.Z)(l,o.trackingParams),aux_data:{image_signature:o.imageSignature,commerce_data:this.getAuxCommerceData(),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...t}}),!p)switch(m({action:"click",item:"pin"}),c){case 3:(0,j.NC)("click_pin_related_image");break;case 5:(0,j.NC)("click_board_pin_image");break;case 210:(0,j.NC)("click_topic_pin_image")}if(Re(o)&&this.logOneTap(),_&&_(),"desktop"===i){if(e.metaKey){v("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${g}/`,"_blank").focus()}else if(!p&&h){const{pinImageClickHandler:t}=h;t({event:e,pinId:g,linkTarget:"duploClientNav",seoUrl:o.seoUrl})}}})),Ie(this,"handleCreditsClick",(e=>{var t;const{history:n,logContextEvent:i,pin:a}=this.props,{entityId:o,sponsorship:r,storyPinDataId:l}=a,{creator:s,sponsor:d}=r||{},{entityId:c}=s||{},{entityId:u}=d||{},p=!!l;e.stopPropagation(),e.preventDefault();const m=null===(t=this.getCredits())||void 0===t?void 0:t.link;m&&n.push(m),i({view_type:3,element:27,event_type:102,object_id_str:o,component:p?230:void 0,aux_data:{pin_id:o,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),Ie(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed())),Ie(this,"handlePinSend",(e=>{var t;e&&e.stopPropagation&&e.stopPropagation();const{pin:n,setSharingOnBoardPage:i}=this.props;n.board&&i&&null!==(t=n.legacyOnly)&&void 0!==t&&t.isSocialSeasonalBoard&&i(!0,"pin",n.entityId)})),Ie(this,"isOverrideImageOnly",(()=>{const{pin:{richSummary:e},viewerIsNewUser:t,viewParameter:n}=this.props;return e&&43===n&&!t||3375===n})),Ie(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:t,viewParameter:n,location:i,pin:a}=this.props;if(!e&&0===t&&3070===n){var o,r,l;const e=i.pathname,{imageSignature:t,entityId:n,imageSpec_236x:s,description:d}=a;(0,de.H$)(e,t,n,s&&{dominant_color:null!==(o=s.dominantColor)&&void 0!==o?o:void 0,height:null!==(r=s.height)&&void 0!==r?r:void 0,url:s.url,width:null!==(l=s.width)&&void 0!==l?l:void 0},d)}}getIsClaimedContent(){var e,t;const{viewParameter:n,pin:i}=this.props;return 3375===n&&!(null===(e=i.linkDomain)||void 0===e||null===(t=e.officialUser)||void 0===t||!t.isPrimaryWebsiteVerified)}getCredits(){var e,t,n,i;const{adBlockTextTransform:a,viewParameter:o,pin:r}=this.props,{entityId:l}=r,s=r.storyPinData,d=r.pinner,c=r.promoter,u=null==s?void 0:s.hasProductPins,p=0===o,m=3173===o,h=3375===o,_=this.getIsClaimedContent(),g=r.nativeCreator,v=!!r.nativeCreator,y=je(r),{sponsorship:f}=r,{creator:b,sponsor:x}=f||{},P=y&&!!f&&(null==c?void 0:c.entityId)!==(null==g?void 0:g.entityId),S=!!f&&b;if(!(y||S||p||m||v||_))return;switch(P?"PROMOTED_SPONSORED":y?"PROMOTED":S?"SPONSORED":v?"AFFILIATED_PRODUCTS":u?"NATIVE_CONTENT":_?"CLAIMED_CONTENT":r.board&&"protected"===r.board.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==g?void 0:g.fullName,subtitle:null==c?void 0:c.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"PROMOTED":return{title:a(this.props.i18n.bt("", "Promoted by", "Grid pin annotation", undefined, true)),subtitle:null==c?void 0:c.fullName,avatar:this.getPinnerImage(null==c?void 0:c.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==c?void 0:c.imageMediumUrl),largeAvatar:this.getPinnerImage(null==c?void 0:c.imageLargeUrl),link:null!=c&&c.username?`/${c.username}/`:""};case"SPONSORED":if(!f)throw new Error("sponsorship doesn't exist when expected");return{title:null==g?void 0:g.fullName,subtitle:null==x?void 0:x.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==g?void 0:g.fullName,subtitle:"",avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"NATIVE_CONTENT":let o=(null===(e=r.board)||void 0===e?void 0:e.url)||`/pin/${l}/`;return h&&(o=null!=g&&g.username?`/${g.username}/`:""),{title:"",subtitle:null==g?void 0:g.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:o};case"CLAIMED_CONTENT":const s=null===(t=r.linkDomain)||void 0===t?void 0:t.officialUser;return s?{subtitle:s.fullName,avatar:this.getPinnerImage(s.imageSmallUrl),mediumAvatar:this.getPinnerImage(s.imageMediumUrl),largeAvatar:this.getPinnerImage(s.imageLargeUrl),link:s.username?`/${s.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n.bt(" ", "Saved by", "Grid pin annotation", undefined, true),subtitle:"",avatar:this.getPinnerImage(null==d?void 0:d.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==d?void 0:d.imageMediumUrl),largeAvatar:this.getPinnerImage(null==d?void 0:d.imageLargeUrl),link:(null===(n=r.board)||void 0===n?void 0:n.url)||`/pin/${l}/`};default:return{title:(null==d?void 0:d.fullName)||"",subtitle:"",avatar:this.getPinnerImage(null==d?void 0:d.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==d?void 0:d.imageMediumUrl),largeAvatar:this.getPinnerImage(null==d?void 0:d.imageLargeUrl),link:(null===(i=r.board)||void 0===i?void 0:i.url)||`/pin/${l}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pin:{entityId:i}}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{gridTitle:e,richSummary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.displayName,description:n}}renderPinCard(){var e,t,n,i,a,o,l,u,m,h,_,y,f,x,P,S,T,E,I,A,C,R,j,D,O,L,N,M,z,B,Z,V,H,K,G,W,Y,X,J,ee,ae,le,de,pe,me,he,_e,ge,ye,fe,be;const{checkExperiment:xe,country:Pe,disableAppUpsell:Se,duploDisablePinCardPadding:we,disableRounding:Te,disableReaction:ke,deviceType:Ee,experience:Ie,feedback:Ae,feedbackStatus:De,imageOnlyOption:Me,i18n:ze,isAuth:Ue,isBot:Be,duploIsSquarePin:Ze,isImageOnlyExp:Ve,location:He,duploFeedItemProps:Ke,duploLazyLoadImage:Ge,duploOneTapSave:We,duploPinCardDetailsMargin:$e,duploPriorityFetchImage:qe,pin:Ye,slotIndex:Xe,viewParameter:Je,viewType:Qe,duploShouldAllowProductPriceIndicator:et,topLevelTrafficSource:tt,topLevelTrafficSourceDepth:nt,trafficSource:it,duploUnauthRelatedPinsAutoplayExpGroup:at,unauthRelatedProductsExpGroup:ot,trackingParams:rt,trackInteraction:lt,vaseDisplayMode:st,createUnauthContextMenuHandler:dt,duploConversationPin:ct}=this.props,{onPinLinkClick:ut,showSeoMetadata:pt}=null!=Ke?Ke:{},{category:mt,entityId:ht,imageSpec_136x136:_t,imageSpec_170x:gt,imageSpec_236x:vt,imageSpec_474x:yt,imageSpec_736x:ft,imageSpec_orig:bt,linkDomain:xt,imageSignature:Pt,promoter:St,richMetadata:wt,richSummary:Tt,title:kt,sponsorship:Et,storyPinData:It}=Ye,{description:At,title:Ct}=this.getPinText(),Rt="desktop"===Ee,jt=Oe(Ye),Dt=0===Je,Ot=3475===Je,Lt=43===Je,Nt=je(Ye),Ft=!!Et,Mt=null==It?void 0:It.hasProductPins,zt=null==It?void 0:It.isDeleted,Ut=(0,d.Z)((He&&He.state||{}).trackingParams||rt,Ye.trackingParams),Bt=(e=>(0,F.f1)(e)||(0,F.OX)(e))(He),Zt="product"===Oe(Ye)&&!Ue&&(!Be||Bt)&&(!xe("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled||Ye.isEligibleForPdp),Vt=Ve&&!this.isOverrideImageOnly(),Ht=null===(e=Ye.legacyOnly)||void 0===e?void 0:e.isSocialSeasonalBoard,Kt=this.getPinImage(),Gt=Ht&&"gif"===jt?this.convertToGif(Ye):Kt,Wt=null===(t=Ye.videos)||void 0===t||null===(n=t.videoList)||void 0===n?void 0:n.v720P,$t=(null==Wt?void 0:Wt.url)||(null===(i=Ye.videos)||void 0===i||null===(a=i.videoList)||void 0===a||null===(o=a.vHLSV4)||void 0===o?void 0:o.url),qt=(0,te.hP)(null!==(l=Ye.description)&&void 0!==l?l:"",Ye.descriptionHtml||"",null===(u=Ye.pinJoin)||void 0===u?void 0:u.visualAnnotation,Ye.altText||""),Yt=Ue?At:(0,c.Z)({storyPinDataId:Ye.storyPinDataId,pinDescription:Ye.description,richMetadataDescription:null!==(m=null===(h=Ye.richMetadata)||void 0===h?void 0:h.description)&&void 0!==m?m:"",richSummaryDisplayName:null!==(_=null===(y=Ye.richSummary)||void 0===y?void 0:y.displayName)&&void 0!==_?_:"",placeSummaryName:null!==(f=null===(x=Ye.legacyOnly)||void 0===x?void 0:x.place_summary)&&void 0!==f?f:"",closeupDescription:null!==(P=Ye.closeupDescription)&&void 0!==P?P:"",closeupUnifiedDescription:null!==(S=Ye.closeupUnifiedDescription)&&void 0!==S?S:""}),Xt=Ie&&Ie.display_data.hideReactions||!1,Jt=Ie&&Ie.display_data.hideDesc||!1,Qt=!ke&&(0,ue.J6)({boardIsCollaborative:null===(T=Ye.board)||void 0===T?void 0:T.isCollaborative,isDownstreamPromotion:Ye.isDownstreamPromotion,isPromoted:Ye.isPromoted,storyPinDataId:Ye.storyPinDataId,videosId:null===(E=Ye.videos)||void 0===E?void 0:E.entityId})&&!Ot&&!Xt,en=!Ue;let tn;tn=Re(Ye)?Ye.trackedLink||Ye.link:en?(0,te.bN)({pinId:ht,seoUrl:Ye.seoUrl}):(0,te.BY)(ht);const nn=!At||Vt&&!Dt?void 0:At.trim(),an=this.getSharedHeaderInviteCode(),on={accessibilityLabel:qt||Ct||At||"",country:Pe,deeplinkUri:tn,external:Re(Ye),externalQueryParams:{pin:ht,client_tracking_params:rt},isAppUpsellDisabled:Se,onTouch:this.handleClick,pinCategory:Ye.category,pressState:"none",rounding:4,title:this.props.i18n.bt("  ", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:tn,state:{trackingParams:rt,trafficSource:it,topLevelTrafficSource:tt,topLevelTrafficSourceDepth:nt}},upsellType:"direct",viewParameter:Je,viewType:Qe,clientTrackingParams:Ut},rn=Ce({isDesktop:Rt}),ln=Ye.nativeCreator||Ye.pinner,sn="search"===it&&"storyPin"===jt&&xe("mweb_search_ideapin_module").anyEnabled,dn=(0,b.kb)({hasLinkDomain:!!xt,richMetadata:wt&&{recipe:wt.recipe&&{fromAggregatedData:wt.recipe.fromAggregatedData},products:wt.products},richSummary:Tt&&{products:Tt.products}});return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":ht,marginBottom:Rt?0:2,children:[(0,v.jsxs)(g.xu,{"data-test-id":qt||Ct||At?"pin-with-alt-text":"pin-missing-alt-text",padding:we?0:rn,marginBottom:0,onContextMenu:ln?dt({pinId:ht,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ve.Yw:{}},children:[(0,v.jsxs)(ie.MZ,{...on,children:[!!an&&(0,v.jsx)($,{inviteCode:an}),zt?(0,v.jsx)(re.Z,{isPinRep:!0}):(0,v.jsx)(q.Z,{clientTrackingParams:Ut,color:null!==(I=Ye.dominantColor)&&void 0!==I?I:"",description:nn,domainLinkData:Ye.domain&&Ye.link?{clickLoggingOptions:{auxData:{objectId:ht,grid_index:Xe,sanitized_url:Ye.link}},domain:Ye.domain,link:Ye.link,onClick:ut}:void 0,disableRounding:Te,hideBottomCardText:null!=Ht?Ht:void 0,image:Gt&&{dominant_color:null!==(A=Gt.dominantColor)&&void 0!==A?A:void 0,height:null!==(C=Gt.height)&&void 0!==C?C:void 0,url:null!==(R=Gt.url)&&void 0!==R?R:void 0,width:null!==(j=Gt.width)&&void 0!==j?j:void 0},imageAltText:qt,imageCrop:Ye.imageCrop&&"number"==typeof Ye.imageCrop.minY&&"number"==typeof Ye.imageCrop.maxY?{minY:Ye.imageCrop.minY,maxY:Ye.imageCrop.maxY}:void 0,isMessenger:null!=Ht?Ht:void 0,isPromoted:Nt,isSquarePin:Ze,lazyLoadImage:Ge,onError:this.handleError,oneTapSave:We,onLoad:this.handleLoad,priorityFetchImage:qe,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:dt,pinId:ht,pinnedToBoardId:null!==(D=null===(O=Ye.pinnedToBoard)||void 0===O?void 0:O.entityId)&&void 0!==D?D:"",pinVideo:(Ht||Nt)&&Wt||void 0,videoUrl:null!=$t?$t:void 0,productPrice:et&&!Zt?Ne(Ye):null,slotIndex:Xe,storyDataExists:!!It,title:!Vt||Dt?Ct:void 0,type:jt,videoDuration:Le(Ye),unauthRelatedPinsAutoplayExpGroup:at,viewType:Qe,viewParameter:Je})]}),!("image-only"===Me)&&(Ue||"desktop"===Ee)&&(0,v.jsxs)(g.xu,{children:[!Ot&&!Lt&&"desktopParity"===st&&(0,v.jsx)(se.Z,{pinId:ht,mode:"inlineWithScrollArrows",graphqlRef:null}),!Zt&&(0,v.jsx)(ie.MZ,{...on,children:(0,v.jsx)(U,{duploConversationPin:ct,allowPriceIndicator:!et&&!Zt&&["shop_feed"].includes(it),marginTop:$e,hidePinMetadata:Jt,contextMenu:Ue&&!zt?(0,v.jsx)(g.xu,{marginStart:1,marginTop:$e,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(r.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(Fe,{adMatchReason:Ye.adMatchReason,bestPinImgSrc:(0,s.Z)({embedSrc:null===(L=Ye.embed)||void 0===L?void 0:L.src,embedType:null===(N=Ye.embed)||void 0===N?void 0:N.type,images:{...[["136x136",_t],["170x",gt],["236x",vt],["474x",yt],["736x",ft],["orig",bt]].reduce(((e,[t,n])=>{var i,a,o,r;return n?(e[t]={dominant_color:null!==(i=n.dominantColor)&&void 0!==i?i:void 0,height:null!==(a=n.height)&&void 0!==a?a:void 0,url:null!==(o=n.url)&&void 0!==o?o:void 0,width:null!==(r=n.width)&&void 0!==r?r:void 0},e):e}),{})}}),feedback:Ae,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:null!=Pt?Pt:void 0,pinCategory:mt,pinDescription:Yt,pinId:ht,pinTitle:kt,sourceType:Nt?"ad":Dt?"following":void 0,viewParameter:Je,viewType:Qe,trackingParams:rt})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:null!=Mt?Mt:void 0,isPromotedPin:Nt,isSponsoredPin:Ft,isSquarePin:Ze,marginStart:$e,marginEnd:$e,onCreditsClick:this.handleCreditsClick,pinDescription:Yt,pinId:ht,pinnedToBoardId:null!==(M=null===(z=Ye.pinnedToBoard)||void 0===z?void 0:z.entityId)&&void 0!==M?M:"",pinReactionCounts:null!==(B=null===(Z=Ye.reactionCountsData)||void 0===Z?void 0:Z.reduce(((e,{reactionCount:t,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=t?t:0})),{}))&&void 0!==B?B:void 0,promoterName:null!==(V=null==St?void 0:St.fullName)&&void 0!==V?V:void 0,recipeCookTime:Vt?void 0:Ye.richSummary&&Ye.richSummary.displayCookTime,recipeMaxRating:Vt||null==Tt||null===(H=Tt.aggregateRating)||void 0===H?void 0:H.bestRating,recipeRating:Vt||null==Tt||null===(K=Tt.aggregateRating)||void 0===K?void 0:K.ratingValue,recipeReviewCount:Vt||null==Tt||null===(G=Tt.aggregateRating)||void 0===G?void 0:G.reviewCount,shouldShowReactions:Qt,style:sn?"overlay":"default",title:sn?void 0:Ct,type:jt})})]}),Zt&&(0,v.jsx)(oe,{description:Ye.description,domain:null===(W=Ye.richSummary)||void 0===W?void 0:W.siteName,gridTitle:null!==(Y=Ye.gridTitle)&&void 0!==Y?Y:void 0,pinId:ht,priceSummary:dn&&{maxPrice:dn.maxPrice,minPrice:dn.minPrice,price:dn.price,standardPrice:dn.standardPrice},placeSummaryName:null===(X=Ye.legacyOnly)||void 0===X?void 0:X.place_summary,richMetadataTitle:null===(J=Ye.richMetadata)||void 0===J?void 0:J.title,richSummaryDisplayName:null===(ee=Ye.richSummary)||void 0===ee?void 0:ee.displayName,storyPinDataId:Ye.storyPinDataId,storyPinDataMetadataPinTitle:null===(ae=Ye.storyPinData)||void 0===ae||null===(le=ae.metadata)||void 0===le?void 0:le.pinTitle,title:Ye.title,isUnauthRelatedProductsExp1LineGroup:(null==ot?void 0:ot.includes("square"))||(null==ot?void 0:ot.includes("1_line"))})]}),Ht&&Ue&&(0,v.jsx)(g.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:ze.bt("", "Send", " - ", undefined, true)})})})}),"reported"===De?(0,v.jsx)(Q,{color:null!==(de=Ye.dominantColor)&&void 0!==de?de:"",getFeedbackText:()=>({title:this.props.i18n.bt("", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:this.props.i18n.bt("!   Pinterest      .", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:ht,showing:!0}):(0,v.jsx)(Q,{color:null!==(pe=Ye.dominantColor)&&void 0!==pe?pe:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:ht,showing:!!De,unfollowed:"unfollowed"===De,viewParameter:Je,viewType:Qe}),pt&&"inlineHidden"===st&&!Zt&&(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{lt({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(ne,{description:Ye.description,gridTitle:null!==(me=Ye.gridTitle)&&void 0!==me?me:void 0,pinId:ht,placeSummaryName:null===(he=Ye.legacyOnly)||void 0===he?void 0:he.place_summary,richMetadataTitle:null===(_e=Ye.richMetadata)||void 0===_e?void 0:_e.title,richSummaryDisplayName:null===(ge=Ye.richSummary)||void 0===ge?void 0:ge.displayName,storyPinDataId:Ye.storyPinDataId,storyPinDataMetadataPinTitle:null===(ye=Ye.storyPinData)||void 0===ye||null===(fe=ye.metadata)||void 0===fe?void 0:fe.pinTitle,title:Ye.title})})}),(null===(be=Ye.legacyOnly)||void 0===be?void 0:be.debug)&&(0,v.jsx)(ce.W,{data:Ye.legacyOnly.debug})]})}render(){const{componentType:e,pin:{entityId:t},trackingParams:n,viewParameter:i,viewType:a,slotIndex:o,objectIdStr:r,viewData:l}=this.props,{startImpressionTimer:s}=this.state;return(0,v.jsx)(ye.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:t,objectIdStr:r,slotIndex:o,trackingParams:n,viewData:l,viewParameter:i,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})})}}function ze(e){const t=(0,f.ZP)(),n=(0,Ee.g)(),{checkExperiment:i}=(0,D.F)(),o=(0,L.useHistory)(),r=(0,L.useLocation)(),l=(0,E.ZP)(),s=(0,Te.M)(),d=(0,Pe.yz)(),c=(0,xe._)({id:1000107}),p=(0,Se.Z)(),m=(0,A.Z)(),{country:h,isAuthenticated:_,isBot:g}=(0,N.B)(),y=(0,le.Z)(),b=(0,a.useDispatch)(),{hasPoorConnection:x,viewedSharedPins:P}=(0,a.useSelector)((({session:e})=>e)),S=(0,a.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),w=(0,a.useSelector)((({session:e,users:t})=>(0,u.Z)(t[e.userId].created_at))),{getPinFeedbackStatus:T,setPinFeedbackStatus:k}=(0,ke.K)(),I=e.pin.entityId;return(0,v.jsx)(Me,{...e,adBlockTextTransform:y,checkExperiment:i,country:h,createUnauthContextMenuHandler:s,deviceType:l,experience:c,feedbackStatus:T({pinId:I}),hasPoorConnection:x,history:o,i18n:t,isAuth:_,isBot:g,isImageOnlyExp:S,location:r,logContextEvent:p,markPinUnfollowed:()=>k({pinId:I,pinFeedbackStatus:"unfollowed"}),pwaType:d,setSharingOnBoardPage:(e,t,n)=>b((0,fe.Mj)(e,t,n)),trackInteraction:m,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===l?"desktopParity":"inlineHidden",viewedSharedPins:P,viewerIsNewUser:w})}const Ue=(0,o.Z)({useGraphQLAdapter:e=>(0,K.useFragment)(Ae,e),useLegacyAdapter:e=>{var t,n,i,a,o,r,l,s,d,c,u,p,m;const h=(0,P.S6)()(e);if(!h)return null;const _=e=>e&&{entityId:e.id,fullName:e.full_name,imageLargeUrl:e.image_large_url,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},v=h.reaction_counts;return{adMatchReason:h.ad_match_reason,altText:h.alt_text,attribution:h.attribution&&{embed:h.attribution.embed&&{type:h.attribution.embed.type}},board:h.board&&{entityId:h.board.id,followedByMe:h.board.followed_by_me,isCollaborative:h.board.is_collaborative,name:h.board.name,privacy:h.board.privacy,url:h.board.url},category:h.category,closeupDescription:h.closeup_description,closeupUnifiedDescription:h.closeup_unified_description,descriptionHtml:h.description_html,description:h.description,domain:h.domain,dominantColor:h.dominant_color,embed:h.embed&&{height:h.embed.height,src:h.embed.src,type:h.embed.type,width:h.embed.width},entityId:h.id,gridTitle:h.grid_title,imageCrop:h.image_crop&&{minY:h.image_crop.min_y,maxY:h.image_crop.max_y},imageSignature:h.image_signature,imageSpec_136x136:g(null===(t=h.images)||void 0===t?void 0:t["136x136"]),imageSpec_170x:g(null===(n=h.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:g(null===(i=h.images)||void 0===i?void 0:i["236x"]),imageSpec_474x:g(null===(a=h.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:g(null===(o=h.images)||void 0===o?void 0:o["736x"]),imageSpec_orig:g(null===(r=h.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:h.is_downstream_promotion,isEligibleForPdp:h.is_eligible_for_pdp,isEligibleForWebCloseup:h.is_eligible_for_web_closeup,isOosProduct:h.is_oos_product,isPromoted:h.is_promoted,isStaleProduct:h.is_stale_product,linkDomain:h.link_domain&&{officialUser:h.link_domain.official_user&&{fullName:h.link_domain.official_user.full_name,entityId:null!==(l=h.link_domain.official_user.id)&&void 0!==l?l:"",imageLargeUrl:h.link_domain.official_user.image_large_url,imageMediumUrl:h.link_domain.official_user.image_medium_url,imageSmallUrl:h.link_domain.official_user.image_small_url,username:h.link_domain.official_user.username,isPrimaryWebsiteVerified:h.link_domain.official_user.is_primary_website_verified}},link:h.link,nativeCreator:_(h.native_creator),pinnedToBoard:h.pinned_to_board&&{entityId:null!==(s=h.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:h.pin_join&&{visualAnnotation:h.pin_join.visual_annotation},pinner:h.pinner&&{entityId:h.pinner.id,explicitlyFollowedByMe:h.pinner.explicitly_followed_by_me,fullName:h.pinner.full_name,imageLargeUrl:h.pinner.image_large_url,imageMediumUrl:h.pinner.image_medium_url,imageSmallUrl:h.pinner.image_small_url,username:h.pinner.username},promoter:_(h.promoter),reactionCountsData:v&&Object.keys(v).map((e=>({reactionType:Number(e),reactionCount:v[e]}))),richMetadata:h.rich_metadata&&{description:h.rich_metadata.description,title:h.rich_metadata.title,recipe:h.rich_metadata.recipe&&{fromAggregatedData:h.rich_metadata.recipe.from_aggregated_data},products:h.rich_metadata.products&&h.rich_metadata.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},richSummary:h.rich_summary&&{aggregateRating:h.rich_summary.aggregate_rating&&{bestRating:h.rich_summary.aggregate_rating.best_rating,ratingValue:h.rich_summary.aggregate_rating.rating_value,reviewCount:h.rich_summary.aggregate_rating.review_count},displayName:h.rich_summary.display_name,displayCookTime:h.rich_summary.display_cook_time,siteName:h.rich_summary.site_name,typeName:h.rich_summary.type_name,products:h.rich_summary.products&&h.rich_summary.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},seoUrl:h.seo_url,shoppingFlags:h.shopping_flags,sourceInterest:h.source_interest&&{entityId:null!==(d=h.source_interest.id)&&void 0!==d?d:"",name:h.source_interest.name,urlName:h.source_interest.url_name},sponsorship:h.sponsorship&&{creator:h.sponsorship.creator&&{entityId:null!==(c=h.sponsorship.creator.id)&&void 0!==c?c:"",fullName:h.sponsorship.creator.full_name,imageLargeUrl:h.sponsorship.creator.image_large_url,imageMediumUrl:h.sponsorship.creator.image_medium_url,imageSmallUrl:h.sponsorship.creator.image_small_url,username:h.sponsorship.creator.username},sponsor:h.sponsorship.sponsor&&{entityId:null!==(u=h.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:h.sponsorship.sponsor.full_name,imageLargeUrl:h.sponsorship.sponsor.image_large_url,imageMediumUrl:h.sponsorship.sponsor.image_medium_url,imageSmallUrl:h.sponsorship.sponsor.image_small_url,username:h.sponsorship.sponsor.username}},storyPinDataId:h.story_pin_data_id,storyPinData:h.story_pin_data&&{hasProductPins:h.story_pin_data.has_product_pins,isDeleted:h.story_pin_data.is_deleted,metadata:h.story_pin_data.metadata&&{pinTitle:h.story_pin_data.metadata.pin_title}},title:h.title,trackedLink:h.tracked_link,trackingParams:h.tracking_params,videos:h.videos&&{entityId:null!==(p=h.videos.id)&&void 0!==p?p:"",videoList:h.videos.video_list&&{vHLSV4:h.videos.video_list.V_HLSV4&&{duration:h.videos.video_list.V_HLSV4.duration,height:h.videos.video_list.V_HLSV4.height,width:h.videos.video_list.V_HLSV4.width,url:h.videos.video_list.V_HLSV4.url},v720P:h.videos.video_list.V_720P&&{duration:h.videos.video_list.V_720P.duration,height:h.videos.video_list.V_720P.height,width:h.videos.video_list.V_720P.width,url:h.videos.video_list.V_720P.url}}},legacyOnly:{debug:h.debug,isSocialSeasonalBoard:null===(m=h.board)||void 0===m?void 0:m.isSocialSeasonalBoard,place_summary:h.place_summary,recommendation_reason:h.recommendation_reason}}}});function Be(e){const{pinId:t,duploQueryRef:n,...i}=e;return(0,v.jsx)(Ue,{input:n?{enabled:!0,data:n}:{enabled:!1,data:t},children:({data:e})=>!!e&&(0,v.jsx)(ze,{...i,pin:e})})}},167525:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(643010),o=n(883119),r=n(785893);function l({text:e,icon:t,largeIdentifier:n,largeMargin:l}){const s=(0,i.ZP)();return(0,r.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,r.jsx)(o.xu,{marginEnd:n?2:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:s.bt("   ", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,r.jsx)(o.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},651745:(e,t,n)=>{n.d(t,{ER:()=>o,oB:()=>l,r5:()=>r});var i=n(844974),a=n(576272);const o="postDownloadAppUpsellLastViewed",r="postDownloadAppUpsellTimesViewed",l=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;const n=(0,i.qn)(o),l=!!(n&&Date.now()-Number(n)<864e5),s=(0,i.qn)(r)||0,d=Number(s)>=3,c=(0,i.qn)(a.V5),u=(Date.now()-Number(c)<a.UH?(0,i.qn)(a.QJ):0)>=a.km;return!e||l||d?u||(t="saveSend"):t="appUpsell",t}},831539:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(474236),a=n(941646),o=n(898781),r=n(892819),l=n(349700),s=n(780280),d=n(561195),c=n(883119),u=n(785893);const p=({rating:e,textSize:t,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,u.jsxs)(c.kC,{alignItems:"center",children:[(0,u.jsx)(d.A,{fill:"full",width:12}),(0,u.jsx)(c.xv,{size:t,children:n.toFixed(1)})]})}return(0,u.jsx)(d.Z,{rating:e,width:12})},m=({bracket:e,count:t,countFormat:n,countType:i,marginStart:d,textSize:p,underline:m})=>{const{locale:h}=(0,s.B)(),_=(0,o.ZP)(),g=(0,r.Z)();if(null==t)return null;let v=g(h,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===i?_.nbt([" {{ count }}"], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true):_.nbt([" {{ count }}"], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true);v=(0,l.nk)(e,{count:t}).join("")}return e&&(v=`(${v})`),(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:m?"1px solid gray":"none"}},marginStart:d,children:(0,u.jsx)(c.xv,{color:m?"subtle":"default",size:p,underline:m,children:(0,u.jsx)(a.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function h({bracket:e,count:t,countFormat:n,countType:a,rating:o,textSize:r,underline:l}){return(0,i.Z)({count:t,rating:o})?(0,u.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:o,textSize:r,type:"multiple"}),(0,u.jsx)(m,{bracket:e,count:t,countFormat:n,countType:a,textSize:r,underline:l})]}):null}},474236:(e,t,n)=>{function i({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}n.d(t,{Z:()=>i})},961385:(e,t,n)=>{n.d(t,{GY:()=>N,Jg:()=>L,bR:()=>F,fW:()=>M});var i=n(971908),a=n.n(i),o=n(30722),r=n.n(o),l=n(839730),s=n.n(l),d=n(815135),c=n.n(d),u=n(816559),p=n.n(u),m=n(757846),h=n.n(m),_=n(32684),g=n.n(_),v=n(859261),y=n.n(v),f=n(208388),b=n.n(f),x=n(370043),P=n.n(x),S=n(212713),w=n.n(S),T=n(508296),k=n.n(T),E=n(613508),I=n.n(E),A=n(16115),C=n.n(A),R=n(912746),j=n.n(R),D=n(163409),O=n.n(D);const L=["goodIdea","love","thanks","wow","haha"],N={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},F={goodIdea:7,love:1,thanks:13,wow:11,haha:5},M=({i18n:e,type:t})=>({default:{staticAsset:g()},goodIdea:{staticAsset:r(),animatedAsset:a(),gridAsset:s(),label:e.bt(" ", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:p(),animatedAsset:c(),gridAsset:h(),label:e.bt("", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:b(),animatedAsset:y(),gridAsset:P(),label:e.bt("", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:k(),animatedAsset:w(),gridAsset:I(),label:e.bt("", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:j(),animatedAsset:C(),gridAsset:O(),label:e.bt("", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}}[t]||null)},328896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var i=n(667294),a=n(702664),o=n(120285),r=n(63552),l=n(883119),s=n(785893);const d="cubic-bezier(0, 0, 0.58, 1)",c={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:d,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:d,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}},u={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:d,transitionProperty:"transform, opacity",transform:"translate(0, -60px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:d,transitionProperty:"transform, opacity",transform:"translate(0, -60px)",transformOrigin:"center"}};function p({reactionLabel:e,handleHideConfirmation:t,inMwebHorizontalActionBarExp:n}){const[a,o]=(0,i.useState)("loaded"),r=(0,i.useRef)();return(0,i.useEffect)((()=>{r.current=requestAnimationFrame((()=>{setTimeout((()=>o("fade")),1e3),setTimeout((()=>t()),1300)}))}),[]),(0,s.jsx)(l.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,s.jsx)(l.xu,{rounding:"pill",position:"absolute",color:n?"light":"selected",ref:r,height:"20px",display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...n?u[a]:c[a],whiteSpace:"nowrap"}},children:(0,s.jsx)(l.xv,{color:n?"dark":"inverse",size:"100",weight:"bold",overflow:"normal",children:e})})})}var m=n(784590),h=n(252417),_=n(391254),g=n(898781),v=n(112690),y=n(961385);const f=32,b=24,x="cubic-bezier(0.25, 0.1, 0.25, 1)",P={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:x,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:x,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:x,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:x,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:x,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:x}},S={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function w({handleReactionClick:e,isIdeaPinCloseUp:t,reactionButtonRect:n,shouldShowReactionTrayUp:a,viewType:o,viewParameter:d,inMwebHorizontalActionBarExp:c,reactionPickerRef:u}){const p=(0,g.ZP)(),m=(0,v.Z)(),[h,x]=(0,i.useState)("loading"),[w,T]=(0,i.useState)(""),[k,E]=(0,i.useState)(),[I,A]=(0,i.useState)(),[C,R]=(0,i.useState)(!1),[j,D]=(0,i.useState)({}),O=(0,i.useRef)(),L=(0,i.useRef)({}),N=c?30:-295,F=()=>{R(!0);const e={...j};y.Jg.forEach((t=>{L.current[t]&&!e[t]&&(e[t]=L.current[t].getBoundingClientRect())})),D(e)};(0,i.useEffect)((()=>{"loading"===h&&(O.current=requestAnimationFrame((()=>x("loaded")))),!k&&C&&(()=>{const e={...k};y.Jg.forEach((t=>{const i=j[t],{left:a,top:o}=n,{left:r,top:l}=i,s=a-r-7+1.25*y.Jg.indexOf(t),d=o-l-8.5;e[t]={translateX:s,translateY:d}})),E(e)})()}),[C]);const M=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},z=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},U=e=>{let t;return C&&y.Jg.forEach((n=>{const i=j[n];if(i&&i.left&&i.right){const{left:a,right:o}=i;e>=a&&e<=o&&(t=n)}})),t||null},B=t=>{F(),M();const n=t,{clientX:i}=n,a=U(i);if(a!==w&&a){if(I&&w){const{type:e}=(0,y.fW)(a);m({event_type:105,element:11354,view_type:o,view_parameter:d,aux_data:{reaction_type:e,duration:(Date.now()-I)/1e3+" seconds"}})}else!I&&w&&A(Date.now());T(a),x("clicked"),setTimeout((()=>{x("flying"),setTimeout((()=>{e(a)}),800),z()}),750)}},Z=y.Jg.map(((e,t)=>{const n={transitionDelay:t/y.Jg.length*.2+"s"};let i={};k&&(i={transform:`translateZ(0) translateX(${k[e].translateX}px) translateY(${k[e].translateY}px) scale(1)`});const{staticAsset:a,animatedAsset:o,label:d,htmlStyle:c,animationStyle:u}=(0,y.fW)({i18n:p,type:e});return(0,s.jsx)(l.xu,{display:"flex",alignSelf:"center",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===w&&"clicked"===h?"3":"2"}},children:(0,s.jsxs)(l.xu,{maxHeight:"flying"===h?b:f,maxWidth:"flying"===h?b:f,dangerouslySetInlineStyle:{__style:{..."loading"===h||"loaded"===h||w===e&&"clicked"===h||w===e&&"flying"===h?P[h]:{},...w===e||"clicked"!==h&&"flying"!==h?{}:P.loaded,..."loading"===h||"loaded"===h?n:{},...w===e&&"flying"===h?i:{},...w!==e&&"flying"===h?P.fading:{},transformOrigin:"left"}},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[w!==e&&(0,s.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)(l.xu,{width:f,height:f,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})}),(0,s.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",children:[(0,s.jsx)(_.Z,{unsafeCSS:c}),w===e&&"clicked"===h&&(0,s.jsx)(l.xu,{rounding:"pill",color:"selected",height:20,dangerouslySetInlineStyle:{__style:P.label},display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,children:(0,s.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:d})}),(0,s.jsx)(r.Z,{onTouch:B,pressState:"none",children:(0,s.jsx)(l.xu,{width:w===e&&"flying"!==h?82:"flying"===h?b:f,height:w===e&&"flying"!==h?82:"flying"===h?b:f,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{...P.icon,...w===e&&"clicked"===h?{animation:u}:{},backgroundImage:`url(${o})`}},ref:t=>{L.current[e]=t}})})]})]})})},t)}));return(0,s.jsx)(l.xu,{children:(0,s.jsx)(l.xu,{ref:u,"data-test-id":"reaction-tray",top:!0,left:!0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:t?N:0,marginTop:a?-80:80,userSelect:"none"}},children:(0,s.jsx)(l.Le,{top:0,children:(0,s.jsx)(l.xu,{color:"flying"===h?"transparent":"default",width:300,height:80,display:"flex",alignItems:"center",rounding:"pill",justifyContent:"center",dangerouslySetInlineStyle:{__style:{..."flying"!==h?S:{},userSelect:"none"}},children:(0,s.jsx)(l.xu,{width:"100%",children:(0,s.jsx)(l.xu,{display:"flex",justifyContent:"evenly",onTouchStart:()=>{F()},onTouchMove:e=>{M();const{clientX:t}=e.touches[0],n=U(t);if(n!==w){if(I&&w&&n&&(0,y.fW)(n)){const{type:e}=(0,y.fW)(n);m({event_type:105,element:11354,view_type:o,view_parameter:d,aux_data:{reaction_type:e,duration:(Date.now()-I)/1e3+" seconds"}})}else!I&&w&&A(Date.now());T(n)}x("clicked")},onTouchEnd:()=>{w&&(x("flying"),setTimeout((()=>{e(w)}),325)),z()},children:Z})})})})})})}var T=n(927383),k=n(95359);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.PureComponent{static getDerivedStateFromProps(e,t){const{reactions:n,viewer:i}=e,{isReactionsLoaded:a}=t;if(n.length>0&&!a){let e=!1,t=0;return n.forEach((n=>{i&&i.id&&n&&n.user===i.id&&(e=!0,t=n.reaction_type)})),{didViewerReact:e,userReaction:t?y.GY[t]:"",isReactionsLoaded:!0}}return null}constructor(e){super(e),E(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),E(this,"trayCloseTimer",null),E(this,"observer",null),E(this,"reactionPickerRef",(0,i.createRef)()),E(this,"handleClickOutside",(e=>{var t;const{isReactionTrayShowing:n}=this.state;n&&this.reactionPickerRef&&e.target instanceof Element&&(null===(t=this.reactionPickerRef.current)||void 0===t||!t.contains(e.target))&&this.setState({isReactionTrayShowing:!1})})),E(this,"setReactionButtonRect",(()=>{if(this.reactionButton){var e;const t=this.reactionButton.getBoundingClientRect(),{height:n,width:i,top:a,right:o}=t,r=document.createElement("div");r.style.height=n+"px",r.style.width=i+"px",r.style.top=a+"px",r.style.right=o+"px",r.style.position="absolute",r.style.zIndex="-1",null===(e=document.body)||void 0===e||e.append(r),this.setState({reactionButtonRect:t})}})),E(this,"handleIconPositionChange",(e=>{e.forEach((e=>{e.intersectionRatio<1&&this.setReactionButtonRect()}))})),E(this,"handleScroll",(()=>{const{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()})),E(this,"onReactionClick",(e=>{const{addReaction:t,i18n:n,reactionPinId:i,userId:a,clientTrackingParams:o,incrementReactionCount:r,pinId:l}=this.props,{type:s}=(0,y.fW)({i18n:n,type:e});t(s,i,a,o),r(l,s),this.handleShowConfirmation()})),E(this,"handleShowConfirmation",(()=>{this.setState({showConfirmation:!0})})),E(this,"handleHideConfirmation",(()=>{this.setState({showConfirmation:!1})})),E(this,"handleReactionClick",(e=>{this.setState({userReaction:e,didViewerReact:!0},(()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)}))})),E(this,"hideReactionTray",(()=>{this.setState({isReactionTrayShowing:!1})})),E(this,"handleClick",(e=>{const{didViewerReact:t,userReaction:n}=this.state,{removeReaction:i,reactionPinId:a,userId:o,requireAuthForLimitedLogin:r,decrementReactionCount:l,pinId:s,logContextEvent:d}=this.props;e.stopPropagation(),e.preventDefault(),t||d({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),r({fn:()=>{t?(i(a,o),n&&l(s,y.bR[n]),this.setState({isReactionTrayShowing:!1,userReaction:null,didViewerReact:!1})):this.setState({isReactionTrayShowing:!0})}})()})),E(this,"handleOneClickReact",(()=>{const{didViewerReact:e,userReaction:t}=this.state,{removeReaction:n,reactionPinId:i,userId:a,requireAuthForLimitedLogin:o,decrementReactionCount:r,pinId:l,logContextEvent:s}=this.props;e||s({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),o({fn:()=>{e?(n(i,a),t&&r(l,y.bR[t]),this.setState({userReaction:null,didViewerReact:!1})):this.onReactionClick("love")}})()})),this.reactionPickerRef=(0,i.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),clearTimeout(this.trayCloseTimer)}render(){const{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:n,showConfirmation:i,didViewerReact:a}=this.state,{experience:d,i18n:c,nativePinType:u,isIdeaPinCloseUp:m,iconColor:_,inMwebHorizontalActionBarExp:g,isTextButton:v=!1}=this.props,f=a&&n?n:"default",{animatedAsset:x,staticAsset:P,label:S}=(0,y.fW)({i18n:c,type:f}),T=a&&x?x:P;return(0,s.jsxs)(l.xu,{position:"relative",children:[e&&!!t&&!!t.left&&!!t.top&&(0,s.jsx)(w,{isIdeaPinCloseUp:m,handleReactionClick:this.handleReactionClick,reactionButtonRect:t,shouldShowReactionTrayUp:"storyPin"===u,viewParameter:156,viewType:3,inMwebHorizontalActionBarExp:g,reactionPickerRef:this.reactionPickerRef}),(0,s.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,s.jsx)(r.Z,{onTouch:v?this.handleOneClickReact:this.handleClick,rounding:"circle",pressState:"none",children:v?(0,s.jsx)(l.xv,{weight:"bold",children:c.bt("", "React", "Closeup.ReactionPicker.Text", undefined, true)}):(0,s.jsx)(l.xu,{minHeight:g?h.oZ:void 0,minWidth:g?h.oZ:void 0,rounding:"circle",display:"flex",alignItems:"center",justifyContent:"center",padding:g?void 0:3,children:(0,s.jsxs)(l.xu,{width:b,height:b,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[(0,s.jsx)(l.xu,{ref:e=>{this.reactionButton=e},display:"flex",alignItems:"center",justifyContent:"center",children:(0,s.jsx)(l.kC,{alignItems:"center",height:b,justifyContent:"center",width:b,children:a&&n?(0,s.jsx)(l.xu,{width:b,height:b,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${T})`}}}):(0,s.jsx)(l.hU,{accessibilityLabel:c.bt("", "React", "Accessibility label for reacting to a Pin", undefined, true),size:"lg",icon:"heart-outline",iconColor:_||"darkGray"})})}),(0,s.jsx)(l.xu,{position:"absolute",left:!0,top:!0,right:!0,children:!e&&!i&&!a&&(0,s.jsx)(o.Z,{experience:d,eligibleIds:[501979,501996],color:"blue",children:()=>null})})]})})})}),i&&!!n&&S&&(0,s.jsx)(p,{reactionLabel:S,handleHideConfirmation:this.handleHideConfirmation,inMwebHorizontalActionBarExp:g})]})}}function A(e){const t=(0,a.useDispatch)();(0,m.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});const n=(0,a.useSelector)((({feeds:t})=>t[`reactions:${e.pinId}`]||[])),i=(0,a.useSelector)((({reactions:e})=>n.length>0?n.map((t=>e[t.id])):[])),o=n.length>0?n[0].id.split(":")[0]:"",r=(0,a.useSelector)((({session:e,users:t})=>t[e.userId])),l=(0,a.useSelector)((({session:e})=>e.userId));return(0,s.jsx)(I,{...e,addReaction:(n,i,a,o)=>t((0,k.Gy)(e.pinId,n,i,a,o)),decrementReactionCount:(e,n)=>t((0,k.Ps)(e,n)),i18n:(0,g.ZP)(),incrementReactionCount:(e,n)=>t((0,k.xQ)(e,n)),logContextEvent:(0,v.Z)(),reactionPinId:o,reactions:i,removeReaction:(n,i,a)=>t((0,k.G3)(e.pinId,n,i,a)),requireAuthForLimitedLogin:(0,T.Z)(),userId:l,viewer:r})}},255607:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a}){return!(n||t||!a&&!i||null!=e&&e)}n.d(t,{At:()=>i,J6:()=>o,Ud:()=>a})},130460:(e,t,n)=>{n.d(t,{bn:()=>l,fJ:()=>d,gC:()=>s});var i=n(702664),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Boards");function s(){const e=l();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({boards:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},350118:(e,t,n)=>{n.d(t,{AF:()=>l,H0:()=>s,S6:()=>d,_S:()=>c});var i=n(702664),a=n(425288),o=n(785893);const{Provider:r,useHook:l,useMaybeHook:s}=(0,a.Z)("Pins");function d(){const e=l();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},698330:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var i=n(702664),a=n(19121),o=n(425288),r=n(785893);const{Provider:l,useHook:s}=(0,o.Z)("Users");function d(){const e=s();return t=>e[t]}function c(){const e=s();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,a.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,r.jsx)(l,{value:t,children:e})}},349741:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),a=n(327212),o=n(830157),r=n(499128),l=n(898781),s=n(349700),d=n(883119),c=n(785893);function u({hideToast:e,newPin:t,originalPinId:n}){var i,a;const o=(0,l.ZP)();return(0,c.jsx)(r.ZP,{primaryAction:{accessibilityLabel:o.bt("   ", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(i=null===(a=t.board)||void 0===a?void 0:a.id)&&void 0!==i?i:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:o.bt("", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,c.jsx)(d.xv,{children:(0,s.nk)(o.bt("{{ profile }} ", "Saved to {{ profile }}", "RepinRequest.ProfileSaveToastText", undefined, true),{profile:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:o.bt("", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})}),iconThumbnail:(0,c.jsx)(d.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:o.bt("", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})})})}var p=n(214494),m=n(483025),h=n(414327),_=n(332611),g=n(675752),v=n(56632),y=n(12918),f=n(782677);const b=({board:e,section:t})=>{const n=(0,l.ZP)();return t?(0,s.nk)(n.bt("{{boardName}} {{sectionName}} ", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xv,{color:"default",children:n.bt(" ", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,c.jsx)(d.xv,{color:"default",weight:"bold",children:e.name})]})};class x{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:a=!1,onSuccess:r,onUndo:l,originalPinId:s,pin:d,resourceName:c,section:u,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:h,trackingParams:_,userId:g,viewType:v=3,historyPush:y,suggestedBoardIds:b}){var x,P,S,w,T;T=e=>(0,f.Fv)(e.resource_response.data,m.Z[this.resourceName]),(w="_getNormalizedResponse")in(S=this)?Object.defineProperty(S,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[w]=T,this.boardId=e,this.trackingParams=_,this.clientTrackingParams=(0,o.Z)(_.clientTrackingParams||"",d.tracking_params),this.dispatch=t,this.history=n,this.onSuccess=r,this.onUndo=l,this.originalPinId=s,this.pin=d,this.pinnedToBoardId=_.pinnedToBoardId||(null!==(x=null===(P=d.pinned_to_board)||void 0===P?void 0:P.id)&&void 0!==x?x:""),this.resourceName=c,this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=h,this.section=u,this.isOneTapSave=i,this.isQuickSave=a,this.userId=g,this.viewType=v,this.historyPush=y,this.suggestedBoardIds=b}get resourceOptions(){const{link:e,title:t,promoted_is_removable:n,id:i}=this.pin,a=n?{is_removable:!0}:{};return{pin_id:i,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:a}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,g.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pin.id,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const n=t.resource_response.data,{board:i}=n,{isQuickSave:o,originalPinId:r,showNewUserSavetoProfileAnimation:s}=this,p=({hideToast:e})=>{var t;if(o&&!s)return(0,c.jsx)(u,{hideToast:e,newPin:n,originalPinId:r});const{thumbnail:p}=(0,v.L)(i.id);return(0,c.jsx)(a.Z,{button:(0,c.jsx)(l.oz,{children:e=>(0,c.jsx)(d.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const a=this.onUndo;var o;a&&!s?a(this.pin.id,n.id,i.id,null===(o=this.section)||void 0===o?void 0:o.id,e):s&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)},text:s?e.bt("", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt(" ", "Undo", "RepinRequest.UndoButton", undefined, true)})}),href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,c.jsx)(b,{board:i,section:this.section}),thumbnail:p})},m=this._getNormalizedResponse(t);if(this.dispatch((0,h.XM)(this.resourceName,this.resourceOptions,t,m)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,h.XM)(this.resourceName,e,t,m))}this.dispatch((0,y.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));const g=this.showRepinToasts;return g&&g(p),this.dispatch((0,_.fO)({event_type:5})),e(this.trackingData),n}))}}},81734:(e,t,n)=>{n.d(t,{Z:()=>D});var i=n(667294),a=n(702664),o=n(898781),r=n(926275),l=n(977734),s=n(499128),d=n(112690),c=n(927383),u=n(461355),p=n(118405),m=n(639952),h=n(343341);var _=n(52022),g=n(332611),v=n(881802),y=n(698330),f=n(276775),b=n(785893);const x=()=>{};function P({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,onError:P,onTouch:S,onUnsave:w,pinId:T,pinnedToBoardId:k,shouldShowSavedButton:E,showSingleToast:I}){const A=(0,o.ZP)(),C=(0,d.Z)(),R=(0,_.Z)(),j=(0,a.useDispatch)(),D=(0,f.useHistory)(),O=(0,f.useLocation)(),{showToast:L}=(0,h.F9)(),N=function({showSingleToast:e}){const t=(0,a.useDispatch)(),n=(0,h.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:i,setForceShowNavFooter:o}=(0,p.U)(),r=(0,a.useSelector)((({session:e})=>e.shouldHideNavBar));return(e,a)=>{a||(r&&t((0,m.Cp)()),t((0,m.WF)()),i||o(!0)),setTimeout((()=>{a||(r&&t((0,m.FK)()),t((0,m.a5)()),i||o(!1)),n(e)}),u.z)}}({showSingleToast:I}),F=O.pathname.startsWith("/pin"),M=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),z=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),U=(0,y.Tt)(),B=null==U?void 0:U.pin_count,Z=(0,r.Z)(null==U?void 0:U.created_at),V=(0,i.useRef)(null),H=n&&!M,K=(0,c.Z)(),G=e=>D.push(e),W=T?()=>{C({event_type:102,element:11933}),j((0,l.Z)({history:D,i18n:A,logContextEvent:C,onSuccess:()=>{t&&j((0,g.CK)(t.placement_id,t.experience_id))},originalPinId:T,pinId:T,trackingParams:{clientTrackingParams:e,pinnedToBoardId:k},showNewUserSavetoProfileAnimation:Z,showRepinConfirmation:n&&!F?()=>{}:N,disableRepinAnimation:z===T,pinCount:B,historyPush:G})).catch((e=>{L((({hideToast:t})=>(0,b.jsx)(s.ZP,{variant:"error",text:e.message||A.bt(". Pinterest   .", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t}))),null==P||P()}))}:x;if((0,i.useEffect)((()=>{H&&!V.current&&T&&(R({action:"trigger",item:"unauth-save-button-quicksave"}),W(),j((0,m.e2)())),V.current=H})),!T)return null;return K({fn:e=>{e.stopPropagation(),e.preventDefault(),S&&S(e),E?E&&w&&w(e):W()},modalHeader:(0,v.Bx)(A)})}var S=n(643010),w=n(252417),T=n(883119),k=n(57791);const E={__path:"M6.75 19.65V4h12v15.65l-6-3.67zm6-.15l5.96 3.64a2 2 0 003.04-1.7V4a3 3 0 00-3-3h-12a3 3 0 00-3 3v17.43a2 2 0 003.04 1.71z"},I={__path:"M3 4C3 2.34315 4.34315 1 6 1H18C19.6569 1 21 2.34315 21 4V21.4339C21 22.9957 19.2898 23.9549 17.9571 23.1404L12 19.5L6.0429 23.1404C4.71019 23.9549 3 22.9957 3 21.4339V4Z"},A=(e,t)=>{const n=(0,S.Yc)();return t&&n&&"default"===e?"lightWash":e},C=(0,i.forwardRef)((({accessibilityLabel:e,clickHandler:t,SVGPath:n},i)=>(0,b.jsx)(T.xu,{ref:i,children:(0,b.jsx)(T.hU,{accessibilityLabel:e,bgColor:"red",dangerouslySetSvgPath:n,iconColor:"white",onClick:({event:e})=>{t&&t(e)},size:"md"})}))),R=(e,t,n,i,a)=>{const o=A(i,a);return(0,b.jsx)(T.iP,{onTap:({event:e})=>{t&&t(e)},rounding:"pill",fullWidth:!1,children:(0,b.jsx)(T.xu,{color:o,height:40,rounding:6,display:"flex",justifyContent:"center",alignItems:"center",paddingX:3,children:(0,b.jsx)(T.xv,{color:"light",weight:"bold",size:n.length>5?"100":"300",children:n})})})},j=(e,t,n,i,a,o)=>{const r=A(i,o);return(0,b.jsx)(T.iP,{onTap:({event:e})=>{t&&t(e)},rounding:"pill",fullWidth:!1,children:(0,b.jsx)(T.xu,{color:r,height:w.oe,rounding:w.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:w.rM,paddingY:w.Ai,children:(0,b.jsx)(T.xv,{color:a,weight:"bold",size:n.length>5?"100":"300",children:n})})})},D=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:r,experience:l,hasQuickSave:s,hasSaveHandoffExperience:d,inline:c=!0,inMwebHorizontalActionBarExp:u,isLegoSaveStyle:p,isOnIdeaPinCloseup:m,onTouch:h,onUnsave:_,pinId:v,pinnedToBoardId:y,shape:f,shouldShowSavedButton:x,to:S,viewParameter:w,viewType:A})=>{const D=(0,o.ZP)(),O=(0,a.useDispatch)(),L=(0,i.useRef)(null),N=(0,a.useSelector)((({experiences:e})=>e))[1000112],F=504679===(null==N?void 0:N.experience_id);(0,i.useEffect)((()=>{l&&l.placement_id&&O((0,g.UT)(l.placement_id,l.experience_id))}),[l,O]);const M=P({clientTrackingParams:t,experience:l,hasSaveHandoffExperience:d,onTouch:h,onUnsave:_,pinId:v,pinnedToBoardId:y,shouldShowSavedButton:x}),z={accessibilityLabel:D.bt("", "Pin", "Pin accessibility label", undefined, true),color:n,inline:p?void 0:c,minHeight:p?48:void 0,onTouch:s?M:h,onUnsave:s?M:_,pressState:"compress",shape:p?"pill":f,size:"lg",text:e||D.bt("", "Save", "Auth mobile web save button for pin closeup", undefined, true),to:S,unsaveAccessibilityLabel:D.bt("", "Saved", "SaveButton.ExperimentalSavedButtonAccessibilityLabel", undefined, true)};let U=(0,b.jsx)(k.Ai,{...z,deeplinkUri:"deeplinkUri",upsellType:"save",viewType:A,viewParameter:w,clientTrackingParams:t,deviceType:r}),B=(0,b.jsx)(T.zx,{text:z.text,accessibilityLabel:z.unsaveAccessibilityLabel,size:z.size,fullWidth:z.inline,onClick:({event:e})=>{z.onUnsave&&z.onUnsave(e)},selected:!0});const Z={SaveButtonContent:(0,b.jsx)(C,{accessibilityLabel:z.accessibilityLabel,clickHandler:e=>{var t;F&&O((0,g.CK)(N.placement_id,N.experience_id)),null===(t=z.onTouch)||void 0===t||t.call(z,e)},SVGPath:E,ref:L}),UnsaveButtonContent:(0,b.jsx)(C,{accessibilityLabel:z.unsaveAccessibilityLabel,clickHandler:z.onUnsave,SVGPath:I})},V={enabled_logging:{SaveButtonContent:R(z.accessibilityLabel,z.onTouch,z.text,"primary",x||!1),UnsaveButtonContent:R(z.unsaveAccessibilityLabel,z.onUnsave,z.text,"dark",x||!1)},hbar:{SaveButtonContent:j(z.accessibilityLabel,z.onTouch,z.text,"primary","light",x||!1),UnsaveButtonContent:j(z.unsaveAccessibilityLabel,z.onUnsave,z.text,"default","dark",x||!1)},employees:Z};var H;return m&&"desktop"!==r&&(H=V[u?"hbar":"enabled_logging"].SaveButtonContent,U=(0,b.jsx)(k.MZ,{...z,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:r,isActionButton:!0,upsellType:"save",viewParameter:w,viewType:A,children:H}),B=V[u?"hbar":"enabled_logging"].UnsaveButtonContent),(0,b.jsx)(T.xu,{"data-test-id":"save-button-mobile",children:x?B:U})}},613736:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),a=n(50286),o=n(784590),r=n(883119),l=n(643010),s=n(378518),d=n(780280),c=n(698330),u=n(81734),p=n(898781),m=n(785893);const h=0;function _({buttonText:e,clientTrackingParams:t,pinId:n,pinnedToBoardId:_,shouldShowSavedButton:g,to:v,...y}){const f=(0,p.ZP)(),b=(0,a.ZP)(),{isAuthenticated:x}=(0,d.B)(),P=(0,c.Tt)(),S=x?P:null,w=(({i18n:e,isSaved:t})=>{const n=(0,l.Yc)()?"darkGray":"white";return t?{buttonText:e.bt("", "Saved", "closeup.savedButton.text", undefined, true),color:n,inline:!1}:Object.freeze({})})({i18n:f,isSaved:g});(0,o.Z)(S?{name:"UserResource",options:{user_id:S.id,field_set_key:"save_behavior"}}:null);const T=null==S?void 0:S.save_behavior,k=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),E=x&&!!k,I=(0,s._)({id:1000152}),A=T===h||E;return(0,m.jsx)(r.xu,{"data-test-id":"standard-save-button",children:(0,m.jsx)(u.Z,{experience:I,pinnedToBoardId:_,pinId:n,to:v,hasQuickSave:A,shouldShowSavedButton:g,hasSaveHandoffExperience:E,clientTrackingParams:t,deviceType:b,...y,...w,isLegoSaveStyle:!0})})}},576272:(e,t,n)=>{n.d(t,{QJ:()=>a,UH:()=>o,V5:()=>i,km:()=>r});const i="saveSendEducationModalLastDismissed",a="saveSendEducationModalTimesDismissed",o=864e5,r=2},954063:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);class r extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){const e=this.props.children?i.Children.only(this.props.children):null;return(0,o.jsx)(a.xu,{ref:e=>this.anchor=e,children:e})}}},21384:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),a=n(702664),o=n(373420),r=n(430322),l=n(121151),s=n(898781),d=n(643010),c=n(883119),u=n(50286),p=n(785893);function m({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,s.ZP)(),o=(0,u.HG)(),m=(0,u.Wb)();return m||o?(0,p.jsx)(l.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!m,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,p.jsx)(r.default,{accessibilityModalLabel:a.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a.bt("", "Close", "Close modal window", undefined, true),children:i})}var h,_=n(784590),g=n(690035),v=n(52022),y=n(385801),f=n(623568),b=n(867820),x=n(350118),P=n(780280),S=n(992750),w=n(167912);const T=void 0!==h?h:h=n(276667);function k({iconColor:e,size:t,isMainPin:n,isAuth:r,pinCreditPrefix:l,onClickTitleOrDomain:d,richMetadataDescription:h,richMetadataTitle:_,richSummaryDisplayName:x,placeSummaryName:w,closeupUnifiedDescription:T,gridTitle:k,storyPinDataId:E,storyPinDataMetadataPinTitle:I,pinDescription:A,pinDomain:C,pinTitle:R,boardId:j,boardUrl:D,boardName:O,boardPrivacy:L,pinnerFullName:N,pinnerImageSmallUrl:F,pinnerImageLargeUrl:M,pinId:z,graphqlRef:U}){const B=(0,s.ZP)(),Z=(0,v.Z)(),{isBot:V}=(0,P.B)(),{unauthInterstitialDismissed:H}=(0,a.useSelector)((({session:e})=>e)),[K,G]=(0,i.useState)(!1),W=(0,u.HG)(),$=(0,u.Wb)(),q=(0,g.Z)(),Y=(0,f._S)(C)?C:"",X=!$&&!r,{description:J}=(0,S.eK)({richMetadataDescription:h,richSummaryDisplayName:x,placeSummaryName:w,closeupUnifiedDescription:T}),Q=(0,S.fs)({pinTitle:R,gridTitle:k,richSummaryDisplayName:x,richMetadataTitle:_,storyPinDataId:E,storyPinDataMetadataPinTitle:I,placeSummaryName:w})||A,ee=!W,te=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:X?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:B.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,b.My)("mweb.unauth.see_more.dismissed"),Z({action:"click",item:"close-seo-vase-see-more-button"}),G(!1),n&&(0,b.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:X?0:8,children:(0,p.jsx)(c.xv,{align:X?"start":"center",weight:X?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:X?null:B.bt(" ", "More information", "more information label", undefined, true)})})}),(0,p.jsx)(y.Z,{description:J,title:Q,pinCreditPrefix:l,onClickTitleOrDomain:d,pinDomain:Y,boardId:j,boardUrl:D,boardName:O,boardPrivacy:L,pinnerFullName:N,pinnerImageSmallUrl:F,pinnerImageLargeUrl:M,pinId:z,graphqlRef:U})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:B.bt(" ", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,b.My)("mweb.unauth.see_more.shown."+(n?"main_pin":"related_pins")),Z({action:"click",item:"seo-vase-see-more-button"}),$||r?(G(!0),n&&(0,b.My)("mweb.unauth.see_more.main_pin.shown")):q({pinId:z||"",location:n?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:J,titleText:Q,pinCreditPrefix:l,onClickTitleOrDomain:d,cleanPinDomain:Y,boardId:j,boardUrl:D,boardName:O,boardPrivacy:L,pinnerFullName:N,pinnerImageSmallUrl:F,pinnerImageLargeUrl:M,pinId:z,graphqlRef:U}})}}),V&&ee?(0,p.jsx)(c.xu,{display:K?"flex":"none",children:te}):(0,p.jsx)(m,{showFullScreenInfo:K,isOpen:K&&!$,interstitialUpsellDismissed:!!H,children:te}),$&&K&&(0,p.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:te})]})}function E(e){var t,n,i,a,o,r,l,s,d,c,u,m,h,_,g,v;const y=(0,w.useFragment)(T,e.graphqlRef);return(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==y||null===(n=y.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==y||null===(a=y.richMetadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",richSummaryDisplayName:null!==(o=null==y||null===(r=y.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(l=null==y?void 0:y.closeupUnifiedDescription)&&void 0!==l?l:"",gridTitle:null==y?void 0:y.gridTitle,storyPinDataId:null==y?void 0:y.storyPinDataId,storyPinDataMetadataPinTitle:null==y||null===(s=y.storyPinData)||void 0===s||null===(d=s.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==y?void 0:y.description,pinDomain:(null==y?void 0:y.domain)||void 0,pinTitle:null==y?void 0:y.title,boardId:null==y||null===(c=y.board)||void 0===c?void 0:c.entityId,boardUrl:(null==y||null===(u=y.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==y||null===(m=y.board)||void 0===m?void 0:m.name)||void 0,boardPrivacy:(null==y||null===(h=y.board)||void 0===h?void 0:h.privacy)||void 0,pinnerFullName:(null==y||null===(_=y.pinner)||void 0===_?void 0:_.fullName)||void 0,pinnerImageSmallUrl:null==y||null===(g=y.pinner)||void 0===g?void 0:g.imageSmallUrl,pinnerImageLargeUrl:null==y||null===(v=y.pinner)||void 0===v?void 0:v.imageLargeUrl,pinId:null==y?void 0:y.entityId,graphqlRef:y})}function I(e){var t,n,i,a,o,r,l,s,d,c,u;const m=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==m?void 0:m.board,_=null==m?void 0:m.pinner;return(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==m||null===(i=m.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null==m||null===(o=m.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==m||null===(l=m.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(s=null==m?void 0:m.place_summary)&&void 0!==s?s:"",closeupUnifiedDescription:null!==(d=null==m?void 0:m.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==m?void 0:m.grid_title,storyPinDataId:null==m?void 0:m.story_pin_data_id,storyPinDataMetadataPinTitle:null==m||null===(c=m.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==m?void 0:m.description,pinDomain:null==m?void 0:m.domain,pinTitle:null==m?void 0:m.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==_?void 0:_.full_name,pinnerImageSmallUrl:null==_?void 0:_.image_small_url,pinnerImageLargeUrl:null==_?void 0:_.image_large_url,pinId:null==m?void 0:m.id})}function A(e){var t,n,i,a,o,r,l,s,d,c,u;const m=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==m?void 0:m.board,g=null==m?void 0:m.pinner;return(0,_.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==m||null===(i=m.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null==m||null===(o=m.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==m||null===(l=m.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(s=null==m?void 0:m.place_summary)&&void 0!==s?s:"",closeupUnifiedDescription:null!==(d=null==m?void 0:m.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==m?void 0:m.grid_title,storyPinDataId:null==m?void 0:m.story_pin_data_id,storyPinDataMetadataPinTitle:null==m||null===(c=m.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==m?void 0:m.description,pinDomain:null==m?void 0:m.domain,pinTitle:null==m?void 0:m.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==m?void 0:m.id})}function C(e){return e.graphqlRef?(0,p.jsx)(E,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(A,{...e}):(0,p.jsx)(I,{...e})}},108234:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>_});var i=n(667294),a=n(121151),o=n(608575),r=n(898781),l=n(349700),s=n(883119),d=n(785893);const c=()=>{var e;const t=(0,r.ZP)(),{dismissWarning:n}=null!==(e=_())&&void 0!==e?e:{};return(0,d.jsx)(s.xu,{paddingX:3,children:(0,d.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:n,text:t.bt("", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},u=()=>{const e=(0,r.ZP)();return(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e.bt(" ", "Learn more", "Link text leading to policy website", undefined, true)})})},p=({message:e,sanitized_url:t})=>{var n;const i=(0,r.ZP)(),{dismissWarning:p}=null!==(n=_())&&void 0!==n?n:{};return(0,d.jsx)(a.ZP,{accessibilityModalLabel:i.bt("  .", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),onDismiss:p,heading:i.bt("!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),footer:(0,d.jsx)(c,{}),children:(0,d.jsxs)(s.xu,{padding:6,children:[(0,d.jsx)(s.xv,{children:(0,l.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(u,{},"learnMoreLink")})}),(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(s.xu,{marginEnd:3,children:(0,d.jsx)(s.JO,{accessibilityLabel:i.bt("  ", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})};var m=n(425288);const{Provider:h,useMaybeHook:_}=(0,m.Z)("SpammyClickthrough");function g({children:e}){const[t,n]=(0,i.useState)(null),a=(0,i.useCallback)((()=>{n(null)}),[n]),o=(0,i.useCallback)((e=>{n(e)}),[n]),r=(0,i.useMemo)((()=>({dismissWarning:a,showWarning:o})),[a,o]);return(0,d.jsxs)(h,{value:r,children:[t&&(0,d.jsx)(p,{...t}),e]})}},914142:(e,t,n)=>{n.d(t,{Z:()=>d,j:()=>s});var i=n(898781),a=n(883119),o=n(773285),r=n(349700),l=n(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,i.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;t?m=(0,r.nk)(u.bt(": {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,r.nk)(u.bt("{{ name }}  ", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:n}):2!==d&&(m=u.bt(" ", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(m=u.bt("  ", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const h=p&&!t?"Ad  ":"";return(0,l.jsxs)(a.xv,{color:c,size:"100",children:[h,m]})}},640064:(e,t,n)=>{n.d(t,{f:()=>l,w:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},466365:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(598615),a=n(938917),o=n(898781),r=n(867820),l=n(872482),s=n(883119),d=n(785893);function c({pinId:e}){const t=(0,o.ZP)(),n=(0,l.a)(),c=(0,a.Z)();if(!n)return null;const{setShouldShowLearningUpsell:u}=n;return c?(0,d.jsx)(i.Z,{within:"mweb-unauth-plp-learning-upsell",children:({handleOpenApp:n})=>(0,d.jsx)(s.xu,{alignItems:"center",direction:"row",display:"flex",left:!0,minHeight:70,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},position:"absolute",right:!0,top:!0,width:"100%",zIndex:new s.Ry(99999),children:(0,d.jsx)(s.iP,{onTap:()=>{(0,r.My)("learning.upsell.click.background"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",direction:"row",width:"100%",children:[(0,d.jsx)(s.xu,{marginStart:4,marginEnd:2,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,r.My)("learning.upsell.click.icon"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 17.123 3.211 21.497 7.73 23.218C7.62 22.281 7.503 20.736 7.755 19.652C7.972 18.72 9.156 13.714 9.156 13.714C9.156 13.714 8.799 12.999 8.799 11.94C8.799 10.28 9.761 9.04 10.96 9.04C11.98 9.04 12.472 9.805 12.472 10.722C12.472 11.747 11.819 13.279 11.482 14.7C11.201 15.889 12.079 16.859 13.251 16.859C15.374 16.859 17.007 14.62 17.007 11.388C17.007 8.527 14.951 6.528 12.016 6.528C8.618 6.528 6.623 9.077 6.623 11.712C6.623 12.739 7.018 13.839 7.512 14.438C7.609 14.557 7.624 14.66 7.595 14.781C7.504 15.159 7.302 15.97 7.263 16.136C7.21 16.354 7.09 16.401 6.863 16.295C5.371 15.601 4.439 13.42 4.439 11.668C4.439 7.899 7.176 4.439 12.331 4.439C16.475 4.439 19.696 7.392 19.696 11.338C19.696 15.455 17.101 18.769 13.497 18.769C12.286 18.769 11.149 18.139 10.759 17.396C10.759 17.396 10.16 19.678 10.015 20.236C9.733 21.32 8.951 22.692 8.466 23.471C9.584 23.815 10.77 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12Z",fill:"#111111"})})}),(0,d.jsxs)(s.xu,{marginStart:2,marginEnd:2,children:[(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,r.My)("learning.upsell.click.description"),n({deepLinkUri:`/pin/${e}`})},children:t.bt("        ! ", "If you like this idea, see all the details in the app! ", "mweb.unauth.main.pin.learning.app.upsell.description.like", undefined, true)}),(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",fontWeight:"600",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,r.My)("learning.upsell.click.cta"),n({deepLinkUri:`/pin/${e}`})},children:t.bt("", "Download", "mweb.unauth.main.pin.learning.app.upsell.cta", undefined, true)})]}),(0,d.jsx)(s.xu,{marginStart:2,marginEnd:4,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{u(!1),e.preventDefault(),e.stopPropagation(),(0,r.My)("learning.upsell.click.cancel")},children:(0,d.jsx)(s.JO,{icon:"cancel",accessibilityLabel:"cancel",color:"dark"})})]})})})}):null}},394332:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(391254),r=n(941646),l=n(862193),s=n(898781),d=n(52022),c=n(992750),u=n(350118),p=n(883119),m=n(167912),h=n(785893);const _=void 0!==i?i:i=n(85934);function g({direction:e,handleClick:t,testId:n}){const i=(0,s.ZP)(),a=(0,d.Z)();return(0,h.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,h.jsx)(r.Z,{id:"board-pills-arrow",children:(0,h.jsx)(p.JO,{accessibilityLabel:i.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function v({name:e,url:t}){const[n,i]=(0,a.useState)(!1),o=(0,d.Z)();return(0,h.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,h.jsx)(p.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,h.jsx)(p.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function y({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const[i,l]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),m=(0,d.Z)(),_=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=_.current,t=()=>{if("inlineWithScrollArrows"===n&&_.current){const e=_.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;l(0!==t),u(n<e.scrollWidth)}else l(!1),u(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n]);const y=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&m({action:"click",item:"board-pills-arrow-button-right"});const n=_.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+i,0),n.scrollWidth)},{annotationsWithLinks:f}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,h.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,h.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),i&&(0,h.jsx)(g,{direction:"left",handleClick:y("left"),testId:"left-scroll-arrow"}),(0,h.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:_,children:f.map((({name:e,url:t})=>(0,h.jsx)(v,{name:e,url:t},t||e)))}),s&&(0,h.jsx)(r.Z,{id:"board-pills-arrow-button-right",children:(0,h.jsx)(g,{direction:"right",handleClick:y("right"),testId:"right-scroll-arrow"})})]})})}function f(e){var t;const n=(0,m.useFragment)(_,e.graphqlRef),i=(0,l.Z)(n),a=(null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return a.length<1?null:(0,h.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:i||void 0})}function b(e){var t,n,i;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,h.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function x(e){return e.graphqlRef?(0,h.jsx)(f,{...e}):(0,h.jsx)(b,{...e})}},385801:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(927104),o=n(941646),r=n(52022),l=n(867820),s=n(50286),d=n(883119),c=n(785893);function u({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:a,pinnerImageLargeUrl:u}){const p=(0,s.HG)(),m=(0,r.Z)();if(!e||!t)return null;const h=e.split("/")[1],_=i||h,g=a||u;return(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[g?(0,c.jsx)(d.iP,{role:"link",href:`/${h}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,l.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),m({action:"click",item:"see-more-button-creator"})},children:(0,c.jsx)(d.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,c.jsx)(d.Ee,{naturalHeight:32,naturalWidth:32,alt:_,fit:"cover",color:"rgb(231, 186, 176)",src:g})})},"profile-link"):null,(0,c.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,c.jsx)(o.Z,{id:"see-more-button-creator-full-name",children:(0,c.jsx)(d.iP,{onTap:()=>{(0,l.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),m({action:"click",item:"see-more-button-creator-full-name"})},children:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,c.jsx)(d.rU,{href:`/${h}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:_},"profile-link")},"profileLink")})}),"protected"===n?null:(0,c.jsx)(d.xv,{color:"default",inline:!0,size:"100",children:(0,c.jsx)(d.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var p,m=n(898781),h=n(394332),_=n(349700),g=n(780280),v=n(298024),y=n(167912);const f=void 0!==p?p:p=n(877821);function b({onClickTitleOrDomain:e,title:t,description:n,pinId:o,graphqlRef:p,pinCreditPrefix:b,pinDomain:x,boardId:P,boardUrl:S,boardName:w,boardPrivacy:T,pinnerFullName:k,pinnerImageSmallUrl:E,pinnerImageLargeUrl:I}){const A=(0,m.ZP)(),C=(0,s.ml)(),R=(0,s.Wb)(),{isAuthenticated:j,isBot:D}=(0,g.B)(),O=(0,r.Z)(),L=(0,y.useFragment)(f,p),N=!j&&!D&&C,F=e||null,[M,z]=(0,i.useState)(!1),U=(0,v.si)(),B=(0,v.Re)(),Z=(t||"").length>B,V=n.length>U,[H,K]=(0,i.useState)(!V&&!Z);return(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,c.jsx)(d.X6,{color:"default",size:"300",accessibilityLevel:3,children:M||D?t:(0,a.Z)(t||"",B)}),!!t&&(0,c.jsx)(d.xu,{height:n?8:0}),n&&(V||Z)?(0,c.jsxs)(d.iP,{onTap:()=>{M||j||((0,l.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),K(!H),z(!M)},fullWidth:!1,children:[(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:M||D?n:(0,a.Z)(n,U)}),(0,c.jsx)(d.xu,{display:"inlineBlock",paddingX:1,children:(0,c.jsx)(d.xv,{weight:"bold",size:"200",inline:!0,children:M||D?A.bt("", "Less", "Toggle less description button", undefined, true):A.bt(" ", "More", "Toggle more description button", undefined, true)})})]}):(0,c.jsx)(d.xv,{color:"default",size:"200",inline:!0,children:n})]}),N&&(H||D)&&!!x&&(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(A.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)(d.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,c.jsx)(d.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,c.jsx)(d.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,l.My)("mweb_pin_page.pin_link.clickthrouh"),j||(0,l.NC)("click_pin_closeup_link_clickthrough"),F&&F()},tapStyle:"compress",children:(0,c.jsx)(d.xv,{size:"200",lineClamp:1,children:(0,c.jsx)("span",{style:{textDecoration:"underline"},children:x})},"pinLinkDomain")})},"pinCredits")})})})]}),!!P&&(H||D)&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(u,{boardUrl:S,boardName:w,boardPrivacy:T,pinnerFullName:k,pinnerImageSmallUrl:E,pinnerImageLargeUrl:I})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(h.Z,{pinId:o,mode:"expanded",graphqlRef:L})})]})}},156637:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(618446),o=n.n(a),r=n(999023),l=n(385740),s=n(785893);class d extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&o()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:o,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:d,viewData:a,viewParameter:o,viewType:l,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:n}=(0,l.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},999023:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(112690),o=n(867820);const r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:r,clientTrackingParams:l,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:r,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function l(e){const{auxData:t,clientTrackingParams:n,children:o,component:l,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),h=JSON.stringify(t),_=JSON.stringify(c);return(0,i.useEffect)((()=>{r(e,m)}),[m,h,n,l,s,d,_,u,p]),i.Children.only(o)}},598615:(e,t,n)=>{n.d(t,{B:()=>h,Z:()=>_});var i=n(667294),a=n(329900),o=n(172071),r=n(938917),l=n(53987),s=n(407043),d=n(385740),c=n(52022),u=n(867820),p=n(276775),m=n(785893);const h=e=>"/"===e.pathname?"/":(0,l.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,within:n}){const l=(0,p.useLocation)(),{flushContextEvents:_,logContextEvent:g}=(0,s.v)(),{viewType:v,viewParameter:y}=(0,d.SU)(),f=(0,c.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[l,n,f]);const b=(0,i.useRef)(!1);(0,i.useEffect)((()=>{v&&202!==v?(g({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:b.current}}),b.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:b.current})}),[t,g,y,v,n]);const x=(0,r.Z)();return(0,i.useEffect)((()=>{x||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[x,n]),(0,m.jsx)(a.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,u.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),g({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),_(!0),i)&&(g({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:h(l)))}})})}},789448:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(414221),a=n(898781),o=n(19121),r=n(53987),l=n(313047),s=n(773285),d=n(276775),c=n(664166),u=n(883119),p=n(50286),m=n(785893);function h({onOpenInAppClick:e,pageIsEligible:t}){const n=(0,a.ZP)(),h=(({pageIsEligible:e})=>{const{isAuth:t}=(0,o.Z)(),n=(0,d.useLocation)(),{checkExperiment:a}=(0,s.F)(),{anyEnabled:l}=a("mweb_mini_renux",{dangerouslySkipActivation:!0}),c=null!=e?e:()=>!0,u=(0,p.ml)(),m=(0,p.Wb)();return()=>"undefined"!=typeof window&&!(t&&(0,r.wy)(n)&&l&&!(0,i.Z)())&&c()&&!(t&&u&&a("auth_docked_nav_bar_exp").anyEnabled||t&&m&&a("auth_tablet_docked_nav_bar_exp").anyEnabled)})({pageIsEligible:t});return(0,m.jsx)(l.FixedFooter,{footerInLego:!0,appUpsellFooterConfig:{shouldShowAfterScroll:()=>{const e=h();return e&&(0,c.y)(),e}},hideOnScroll:!0,noPadding:!0,children:(0,m.jsx)(u.xu,{alignItems:"center",display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,maxWidth:264,children:(0,m.jsx)(u.iP,{onTap:e,children:(0,m.jsxs)(u.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,m.jsx)(u.xu,{marginEnd:2,children:(0,m.jsx)(u.JO,{accessibilityLabel:n.bt("Pinterest ", "Pinterest logo", "AppUpsellFooter.icon", undefined, true),color:"brandPrimary",icon:"pinterest",inline:!0,size:24})}),(0,m.jsx)(u.xv,{weight:"bold",children:n.bt(" ", "Open in app", "AppUpsellFooter.text.open", undefined, true)})]})})})})}function _({clientTrackingParams:e,pageIsEligible:t,onOpenInApp:n,viewParameter:i,viewType:a}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewParameter:i,viewType:a,children:(0,m.jsx)(h,{onOpenInAppClick:()=>{(0,c.y)(),n()},pageIsEligible:t})})}},296679:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(598615),a=n(821997),o=n(430322),r=n(898781),l=n(287072),s=n(948376),d=n(50286),c=n(780280),u=n(664166),p=n(883119),m=n(785893);const h=({copyChangeGroup:e,deepLinkUri:t,isOpen:n,onDismiss:u,onOpenInApp:h,to:_,within:g})=>{var v;const y=(0,r.ZP)(),f=(0,d.Wb)(),{userAgent:{platform:b,raw:x}}=(0,c.B)(),P=(0,s.Rp)({platform:b,userAgent:x}),S=(0,l.Z)({href:null!=_?_:""}),w=f?60:40,T={control:{valueProp:y.bt("      ", "The best experience is on the app", "mweb.unauth.app_upsell.app_value_prop", undefined, true),description:y.bt("    .", "Free, unlimited access to ideas", "mweb.app_upsell.description", undefined, true)},enabled_copy_change_1:{valueProp:y.bt("   .", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt("Pinterest      .", "Continue in the Pinterest app for the best experience", "mweb.app_upsell.description1", undefined, true)},enabled_copy_change_2:{valueProp:y.bt("   .", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt("Pinterest     .", "Looks like youve already downloaded the Pinterest app", "mweb.app_upsell.description2", undefined, true)},enabled_copy_change_3:{valueProp:y.bt("   .", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(" Pinterest   .     .", "Looks like youve already downloaded Pinterest. Use the app for the best experience.", "mweb.app_upsell.description3", undefined, true)},enabled_copy_change_4:{valueProp:y.bt("     Pinterest", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("     ", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)},enabled_copy_change_5:{valueProp:y.bt("     Pinterest", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("       ", "Continue in the app for more ways to discover ideas", "mweb.app_upsell.description5", undefined, true)}},{valueProp:k,description:E}=null!==(v=T[e||"control"])&&void 0!==v?v:{},I=null!=e&&e.startsWith("enabled_copy_change")?y.bt(" ", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true):y.bt(" ", "Get the app", "mweb.app_upsell.app_upsell_button_text", undefined, true);return(0,m.jsx)(o.default,{accessibilityModalLabel:"",isOpen:n,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(i.Z,{componentType:14157,within:g,children:({handleOpenApp:e})=>(0,m.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(p.hU,{accessibilityLabel:y.bt("  ", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{u({event:e}),S&&!e.defaultPrevented&&(t(),S({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:P?(0,m.jsx)(a.Z,{size:w}):(0,m.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,m.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(p.xu,{paddingY:2,children:(0,m.jsx)(p.X6,{align:"center",size:"400",children:P?y.bt("Pinterest Lite  ", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):k})}),(0,m.jsx)(p.xv,{align:"center",size:"300",children:P?y.bt("     ", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):E}),(0,m.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{e({deepLinkUri:t}),h()},text:I})})]})]})]})})})};function _({clientTrackingParams:e,copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:a,onOpenInApp:o,shouldTrackDismiss:r,to:l,viewParameter:s,viewType:d,within:c}){return(0,m.jsx)(u.Z,{clientTrackingParams:e,viewType:d,viewParameter:s,children:(0,m.jsx)(h,{copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:e=>{r&&(0,u.y)(),a(e)},onOpenInApp:()=>{(0,u.y)(),o()},to:l,within:c})})}},664166:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(807609),o=n(999023),r=n(30287),l=n(339363),s=n(844974),d=n(785893);const c=()=>{(0,s.Nh)("appUpsell",Date.now()),(0,s.qn)("firstUpsellTime")||(0,s.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:l}){return(0,a.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(o.Z,{viewType:l,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},207484:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(598615),a=n(898781),o=n(999023),r=n(385740),l=n(883119),s=n(785893);function d(e){const{viewParameter:t,viewType:n}=(0,r.SU)(),d=(0,a.ZP)(),c=d.bt("   ", "Search this image with the app", "mweb.visual.search.app.upsell.heading.text.hard.ask", undefined, true),u=d.bt(" Pinterest        ", "Download the free Pinterest app to find ideas inspired by parts of this image", "mweb.visual.search.app.upsell.description.text.soft.ask", undefined, true);return(0,s.jsx)(o.Z,{component:13106,viewType:null!=n?n:202,viewParameter:t,children:(0,s.jsxs)(l.xu,{direction:"column",justifyContent:"center",alignItems:"center",display:"flex",paddingX:7,"data-test-id":"mweb-visual-search-app-upsell",children:[(0,s.jsx)(l.kC,{direction:"row",height:48,width:"100%",justifyContent:"center",children:(0,s.jsx)(l.xu,{height:48,width:48,rounding:"circle",color:"secondary",justifyContent:"center",direction:"row",display:"flex",alignItems:"center",marginTop:-3,children:(0,s.jsx)(l.JO,{accessibilityLabel:d.bt(" ", "Visual search", "mweb.visual.search.app.upsell.flashlight.icon", undefined, true),icon:"flashlight",size:24,color:"default"})})}),(0,s.jsx)(l.xu,{marginTop:4,children:(0,s.jsx)(l.X6,{size:"400",align:"center",children:c})}),(0,s.jsx)(l.xu,{marginTop:2,maxWidth:300,children:(0,s.jsx)(l.xv,{align:"center",size:"300",children:u})}),(0,s.jsx)(l.xu,{marginTop:4,marginBottom:6,direction:"row",justifyContent:"center",display:"flex",children:(0,s.jsx)(i.Z,{componentType:14157,within:e.within,children:({handleOpenApp:t})=>(0,s.jsx)(l.zx,{color:"red",text:d.bt(" ", "Get app", "mweb.visual.search.app.upsell.get.app.button", undefined, true),size:"lg",onClick:()=>t({deepLinkUri:`/pin/${e.pinId}`})})})})]})})}},236617:(e,t,n)=>{n.d(t,{G:()=>s,L:()=>l});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("AppUpsell");function s({children:e}){const[t,n]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),[s,d]=(0,i.useState)(!1),c=(0,i.useCallback)((e=>{n(e)}),[]),u=(0,i.useCallback)((e=>{l(e)}),[]),p=(0,i.useCallback)((e=>{d(e)}),[]),m=(0,i.useMemo)((()=>({type:t,setTypeVal:c,appUpsellFooterScrollDismissed:a,setAppUpsellFooterScrollDismissedVal:u,showLearningRelatedPinAppUpsell:s,setShowLearningRelatedPinAppUpsellVal:p})),[t,c,a,u,s,p]);return(0,o.jsx)(r,{value:m,children:e})}},938917:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},80811:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),a=n(948618),o=n(815613),r=n(298361),l=n(112690),s=n(892819),d=n(19121),c=n(349700),u=n(867820),p=n(50286),m=n(758127),h=n(722556),_=n(898781),g=n(883119),v=n(526760),y=n(785893);function f(e,t){const{full_name:n,username:i}=e,a=(0,y.jsx)(g.rU,{href:`/${i}`,display:"inlineBlock",underline:"hover",children:n});return(0,c.nk)(t.bt("{{ linkToUser }}     ", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:a})}const b=({children:e})=>{const t=(0,d.Z)(),n=(0,p.HG)(),i=t&&t.isAuth;return n&&i?(0,y.jsx)(g.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(g.xv,{lineClamp:1,weight:"bold",children:e})};function x({archivedDate:e,boardUrl:t,canEdit:n,collaborators:d,collaboratorsCount:x=0,containerBackgroundColor:P,coverPhoto:S,followedByMe:w,fullSizeDrawer:T,sensitivityScreen:k,handleInviteResponse:E,hideMeta:I,id:A,invite:C,imagesLego:R=[],isBoardInviteAccepted:j,isActive:D,isAuthenticated:O,isCollaborative:L,isCollaborator:N,isOwner:F,isProtected:M,isSecret:z,lastModifiedDate:U,layout:B,locale:Z,name:V,numCols:H,onEditClick:K,onFollow:G,onUnfollow:W,owner:$,pinCount:q=0,sectionCount:Y,showFollowButton:X,viewParameter:J,viewType:Q,viewerId:ee}){const te=(0,_.ZP)(),ne=(0,r.Z)(),ie=(0,s.Z)(),ae=(0,l.Z)(),oe=(0,p.HG)(),re=oe&&O,le="square"===B?v.M0:v.z9,se=R.map((e=>({url:e.url,name:V}))),de=!!$&&!n&&X,ce=!F&&!N&&!(null==k||!k.show_warning),ue={board_id:A,reason:null==k?void 0:k.reason};(0,i.useEffect)((()=>{ce&&ae({event_type:13,component:13861,view_type:215,aux_data:ue})}),[]);const pe=$?$.id:void 0,me=[...d.filter((({id:e})=>e===pe)),...d.filter((({id:e})=>e===ee&&e!==pe)),...d.filter((({id:e})=>![pe,ee].includes(e)))].map((e=>{var t,n;return{name:null!==(t=re?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let he=x>=me.length?x-me.length:0;he=he>99?100:he;const _e=[...me,...Array(he).fill({name:"",src:""})],ge=re?24:16,ve=ge/3*(2*(me.length>2?3:me.length)+1);return(0,y.jsxs)(g.xu,{"data-test-id":`boardCard-${V}`,position:"relative",height:de?"max(calc(25vh + 10px), 220px)":"100%",width:re?le:"100%",children:[(0,y.jsx)(h.Z,{canEdit:n,containerBackgroundColor:P,coverPhoto:S,images:se,isProtected:M,isSecret:z,fullSize:T,showSensitivityScreen:ce,isActive:D,onEditClick:K,layout:B}),!I&&(0,y.jsx)(i.Fragment,{children:C?(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(g.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(g.xu,{width:"100%",children:[(0,y.jsx)(g.rU,{href:null!=t?t:"",children:(0,y.jsx)(g.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(b,{children:V})})}),j?(0,y.jsx)(g.xv,{size:"200",lineClamp:1,children:te.bt("", "Youve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,y.jsx)(g.xv,{size:"200",children:f(C.invited_by_user,te)})]}),(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ve,minWidth:ve,height:ge,children:(0,y.jsx)(g.HE,{accessibilityLabel:m.U+(te.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:_e})})]}),j?(0,y.jsx)(g.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(g.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(g.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te.bt(" ", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,y.jsxs)(g.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(g.zx,{fullWidth:!0,onClick:()=>{null==E||E(!1)},size:"lg",text:te.bt("", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,y.jsx)(g.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(g.zx,{fullWidth:!0,color:"red",onClick:()=>{null==E||E(!0)},size:"lg",text:te.bt("", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,y.jsxs)(g.xu,{height:re?void 0:v.s0,marginTop:re?0:1,paddingX:2,paddingY:re?2:0,children:[(0,y.jsxs)(g.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(b,{children:V}),L&&(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ve,minWidth:ve,height:ge,children:(0,y.jsx)(g.HE,{accessibilityLabel:m.U+(te.bt("  ", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:_e})})]}),(0,y.jsxs)(g.xu,{alignItems:oe?"center":"start",direction:oe?"row":"column",display:"flex",marginTop:1,children:[(0,y.jsxs)(g.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),(0,c.nk)(te.nbt([" {{ count }}"], q, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:ie(Z,q,{})}),!!Y&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(a.Z,{ariaHidden:!0}),(0,y.jsx)(m.Z,{}),(0,c.nk)(te.nbt(["  {{ count }}"], Y, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:Y})]})]}),!e&&(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{display:re?"inline-flex":"inline",paddingLeft:oe?7:0}},children:(0,y.jsxs)(g.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),ne(U,!0)]})})]}),de&&(0,y.jsx)(g.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,y.jsx)(o.Z,{disabled:null==$?void 0:$.blocked_by_me,followEventType:26,id:A,isFollowed:w,onFollow:e=>{O||(0,u.NC)("press_follow_board"),G&&G(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),W&&W(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:J,viewType:Q})})]})})]})}},223019:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(80811),o=n(340494),r=n(52022),l=n(19121),s=n(867820),d=n(130460),c=n(780280),u=n(883119),p=n(712055),m=n(853492),h=n(785893);const _=["thumbnail","imageOnly"];function g({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:g,showFollowButton:v=!0,showPinCount:y=!0,type:f,viewParameter:b,viewType:x}){var P,S,w;const T=(0,l.Z)(),k=T&&T.isAuth,E=(0,i.useDispatch)(),{locale:I}=(0,c.B)(),A=(0,r.Z)(),C=(0,d.gC)()(e),R=(0,o.Z)(),j=T.isAuth?T.id:"";if(!C)return null;const D=C.owner,O=[D,...C.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),L=(null==D?void 0:D.id)===j,N=O.filter((({id:e})=>e===j)).length>0;if("secret"===C.privacy&&!N)return null;const F="grid"===f||"thumbnail"===f?2:4,M=R(C,F),z={isCustom:C.has_custom_cover,url:M,position:(0,m.Bw)(C.cover_pin)},U=(0,m.Jx)(C,M).map((({url:e})=>({name:(0,m.po)(e),url:e}))),B=(0,h.jsx)(a.Z,{archivedDate:null!==(P=C.archived_by_me_at)&&void 0!==P?P:void 0,canEdit:!!C.access&&C.access.includes("write"),collaborators:O,collaboratorsCount:C.collaborator_count,containerBackgroundColor:t,coverPhoto:M?z:null,followedByMe:C.followed_by_me,fullSizeDrawer:g,hideMeta:_.includes(f),id:C.id,imagesLego:U,isAuthenticated:k,isCollaborative:C.is_collaborative,isCollaborator:N,isOwner:L,isProtected:"protected"===C.privacy,isSecret:"secret"===C.privacy,lastModifiedDate:"full"===f?C.board_order_modified_at:"",locale:I,name:null!==(S=C.name)&&void 0!==S?S:"",numCols:F,onFollow:e=>E((0,p.Z)(e)),onUnfollow:e=>E((0,p.f)(e)),owner:D,pinCount:y&&C.pin_count?C.pin_count:void 0,sectionCount:null!==(w=C.section_count)&&void 0!==w?w:0,sensitivityScreen:C.sensitivity_screen,showFollowButton:v,viewParameter:b,viewType:x,viewerId:j});return!_.includes(f)&&C.url?(0,h.jsx)(u.iP,{role:"link",href:C.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,s.NC)("click_go_to_board"),A({action:"click",item:"board-card"}))},children:(0,h.jsx)(u.xu,{ref:n,paddingY:3,children:B})}):B}},686844:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({customCover:e,height:t,imgUrl:n,imgPos:o,width:r}){const l=t/r;let s="center center";if(e&&o){let e=1;e=o.height/o.width>l?r/o.width:t/o.height;s=`-${o.x*e}px -${o.y*e}px`}const d={backgroundImage:`url(${n})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:r}},children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(686844),a=n(108211),o=n(898781),r=n(50286),l=n(780280),s=n(883119),d=n(526760),c=n(785893);const u="100%";function p(e){var t,n;const p=(0,o.ZP)(),{containerBackgroundColor:m="white",coverPhoto:h,fullSize:_,images:g,isProtected:v,isSecret:y,showSensitivityScreen:f,isActive:b,canEdit:x,onEditClick:P,layout:S}=e,w=(0,r.HG)(),{isRTL:T,isAuthenticated:k}=(0,l.B)(),E=w&&k,I=g[0],A=!h&&(null===(t=g[0])||void 0===t?void 0:t.name)||p.bt(" ", "Cover image", "DrawerImageGroup", undefined, true),C=Array(2).fill(),R=new s.Ry(1),j="square"===S?d.M0:d.z9,D="square"===S?d.FP:d.FC,O=null!=I&&I.url?(0,c.jsx)(s.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:I.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"}),L=f?{filter:"blur(20px)"}:{};return(0,c.jsx)(s.zd,{height:_?"100%":void 0,rounding:4,width:"100%",wash:b,children:(0,c.jsxs)(s.xu,{"aria-hidden":!0,display:"flex",height:E?D:"100%",direction:"row",children:[(0,c.jsx)(s.sg,{span:8,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:L},position:"relative",height:_?"100%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(s.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||y)&&(0,c.jsx)(s.xu,{left:!T,right:T,margin:2,position:"absolute",top:!0,zIndex:R,children:(0,c.jsx)(a.Z,{backgroundColor:"default",iconColor:"default",privacy:y?"secret":"protected",size:E?32:24})}),E&&null!=h&&h.url?(0,c.jsx)(i.Z,{customCover:h.isCustom,imgPos:h.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=h.url)&&void 0!==n?n:"",width:Math.floor(j/3*2),height:D}):O]})})})}),(0,c.jsx)(s.sg,{span:4,children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:L},height:"100%",children:[x&&b&&(0,c.jsx)(s.xu,{left:T,right:!T,margin:2,position:"absolute",bottom:!0,zIndex:R,children:(0,c.jsx)(s.hU,{accessibilityLabel:p.bt("", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==P?void 0:P(e),size:"sm"})}),C.map(((e,t)=>{const n=g[E?t:t+1];return(0,c.jsx)(s.xu,{position:"relative",height:_?"50%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=n&&n.url?(0,c.jsx)(s.Ee,{alt:n&&n.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),f&&(0,c.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(s.X6,{align:"center",color:"light",size:"400",children:p.bt("       ", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},526760:(e,t,n)=>{n.d(t,{FC:()=>l,FP:()=>o,M0:()=>a,Xq:()=>s,s0:()=>i,z9:()=>r});const i=40,a=236,o=157,r=320,l=213,s=7},108211:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),a=n(883119),o=n(785893);function r({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:r,size:l=20}){const s=(0,i.ZP)();return(0,o.jsx)(a.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:l,height:l,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(a.JO,{accessibilityLabel:s.bt("  ", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"secret"===r?"lock":"security",size:null!=n?n:l/2})})}},876442:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(351356),a=n(272029);function o({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:o}){const r=(0,i.Z)(o),l=(0,a.Z)(t);return r||l&&!(null==n||!n.includes(e))}},351356:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(19121);function a(e){return e===(0,i.Z)().id}},272029:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(19121);function a(e){return(0,i.Z)().isAuth&&e}},340494:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(19121),a=n(50286);function o(){const e=(0,a.HG)(),t=(0,i.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||o}}return(e,t)=>{var n,i;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(n=null!==(i=null!=o?o:r)&&void 0!==i?i:l)&&void 0!==n?n:"",d=e.image_cover_url||"";return a||(t&&t>2&&s?s:"")||d}}},853492:(e,t,n)=>{n.d(t,{Bw:()=>l,Jx:()=>r,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},r=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(t)).map(a):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},650165:(e,t,n)=>{n.d(t,{Z:()=>f});var i,a=n(116303),o=n(985913),r=n(954931),l=n(898781),s=n(215292),d=n(407043),c=n(773285),u=n(350118),p=n(883119),m=n(167912),h=n(785893);const _=void 0!==i?i:i=n(82364);function g({hasPinner:e,pinnerFullName:t,pinnerAvatarUrl:n,pinnerUsername:i,pinnerIsAdsOnlyProfile:u,pinnerAdsOnlyProfileSite:m,savedToText:_}){const g=(0,l.ZP)(),{checkExperiment:v}=(0,c.F)(),{logContextEvent:y}=(0,d.v)();if(!e)return null;const f=v("web_ads_only_profiles_link_redirect").anyEnabled&&u&&m?m:`/${i||""}/`,b=(0,o.Z)(g.bt("{{ pinnerFullName }}  ", "{{ pinnerFullName }} avatar link", "aggregatedCloseupSavedToBoardInfo.avatar.accessibilityLabel", undefined, true),{pinnerFullName:null!=t?t:""});return(0,h.jsx)(p.xu,{marginBottom:5,children:(0,h.jsx)("div",{className:"AggregatedCloseupCard",style:{padding:"0",borderTop:"none"},children:(0,h.jsx)(p.iP,{children:(0,h.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(p.rU,{accessibilityLabel:b,href:f,onClick:()=>((e,t)=>{e===t&&y({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})})(f,m),rel:(0,r.Z)(f)?"none":"nofollow",target:f===m?"blank":null,children:(0,h.jsx)(s.q,{children:({active:e,focused:i,hovered:o,onBlur:r,onFocus:l,onMouseEnter:s,onMouseLeave:d})=>(0,h.jsx)(p.xu,{marginEnd:2,onFocus:l,onBlur:r,onMouseEnter:s,onMouseLeave:d,children:(0,h.jsx)(p.zd,{wash:o||e||i,rounding:"circle",children:(0,h.jsx)(a.Z,{size:"sm",name:null!=t?t:"",src:null!=n?n:""})})})})}),(0,h.jsx)(p.kC,{alignItems:"center",flex:"grow",justifyContent:"start",width:"100%",children:(0,h.jsx)(p.xu,{display:"flex",justifyContent:"between",marginStart:-5,marginEnd:-5,children:(0,h.jsx)(p.xu,{paddingX:5,children:(0,h.jsx)(p.xv,{size:"200",children:t&&_?_:null})})})})]})})})})}const v=({graphqlRef:e,savedToText:t})=>{const n=(0,m.useFragment)(_,e),{pinner:i}=n;return(0,h.jsx)(g,{hasPinner:!!i,pinnerFullName:null==i?void 0:i.fullName,pinnerAvatarUrl:null==i?void 0:i.imageMediumUrl,pinnerUsername:null==i?void 0:i.username,pinnerIsAdsOnlyProfile:null==i?void 0:i.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==i?void 0:i.adsOnlyProfileSite,savedToText:t})},y=({pinId:e,savedToText:t})=>{const n=(0,u.S6)()(e),{pinner:i}=null!=n?n:Object.freeze({});return(0,h.jsx)(g,{hasPinner:!!i,pinnerFullName:null==i?void 0:i.full_name,pinnerAvatarUrl:null==i?void 0:i.image_medium_url,pinnerUsername:null==i?void 0:i.username,pinnerIsAdsOnlyProfile:null==i?void 0:i.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==i?void 0:i.ads_only_profile_site,savedToText:t})};function f({graphqlRef:e,pinId:t,savedToText:n}){return e?(0,h.jsx)(v,{graphqlRef:e,savedToText:n}):(0,h.jsx)(y,{pinId:t,savedToText:n})}},529581:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(954931),o=n(898781),r=n(717615),l=n(19121),s=n(231947),d=n(349700),c=n(407043),u=n(773285),p=n(130460),m=n(350118),h=n(883119),_=n(167912),g=n(785893);const v=void 0!==i?i:i=n(396190);function y({boardLayout:e,boardName:t,boardPrivacy:n,boardUrl:i,hasSection:p,isOwnPin:m,pinnerName:_,pinnerUsername:v,pinnerIsAdsOnlyProfile:y,pinnerAdsOnlyProfileSite:f,sectionSlug:b,sectionTitle:x}){const P=(0,o.ZP)(),S=(0,l.Z)(),{checkExperiment:w}=(0,u.F)(),T=(0,r.Z)(),{logContextEvent:k}=(0,c.v)(),E=(0,s.lJ)(S,T),I=E?`?orbac_subject_id=${E}`:"",A=w("web_ads_only_profiles_link_redirect").anyEnabled&&y&&f?f:`/${v||""}/`,C="quick_saves"===e,R="quick_creates"===e,j=(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",href:`${null!=i?i:""}${I}`,underline:"hover",children:t})},"board"),D=(e,t)=>{e===t&&k({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})};if(R)return(0,d.nk)(P.bt(" : {{ pinnerName }}", "Created by {{ pinnerName }}", "closeup.AggregatedCloseupCard.quickCreatesPinText", undefined, true),{pinnerName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:_})},"pinner")});if(m){if(C)return(0,d.nk)(P.bt("{{ You }}    .", "{{ You }} saved this Pin", "closeup.AggregatedCloseupCard.quickSavesOwnPinText", undefined, true),{You:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:P.bt("", "You", "closeup.AggregatedCloseupCard.quickSavesOwnPinYouText", undefined, true)})},"you")});if(p){const e=`${null!=i?i:""}${null!=b?b:""}/${I}`;return(0,d.nk)(P.bt("{{ boardName }} {{ sectionName }} ", "You saved to {{ sectionName }} in {{ boardName }}", "Showing that you saved this pin to a section within a board on closeup", undefined, true),{sectionName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",href:e,underline:"hover",children:x})},"section"),boardName:j})}return(0,d.nk)(P.bt("{{ You }}  {{ boardName }} ", "{{ You }} saved to {{ boardName }}", "Indicating you saved this pin to a board on closeup", undefined, true),{You:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:P.bt("", "You", "\"you\" in \"{{ You }} saved to {{ boardName }}\"", undefined, true)})},"you"),boardName:j})}if("protected"===n||C)return(0,d.nk)(P.bt("{{ pinnerName }}    ", "{{ pinnerName }} saved this Pin", "Showing who saved this pin, but not which board (private board), on closeup", undefined, true),{pinnerName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:_})},"pinner")});if(p){const e=`${null!=i?i:""}${null!=b?b:""}/${I}`;return(0,d.nk)(P.bt("{{ pinnerName }}  {{ boardName }}  {{ sectionName }}  ", "{{ pinnerName }} saved to {{ sectionName }} in {{ boardName }}", "Showing who saved this pin to a section within a board on closeup", undefined, true),{pinnerName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:_})},"pinner"),sectionName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",href:e,underline:"hover",children:x})},"section"),boardName:j})}return(0,d.nk)(P.bt("{{ pinnerName }}  {{ boardName }} ", "{{ pinnerName }} saved to {{ boardName }}", "Showing who saved this pin to which board on closeup", undefined, true),{pinnerName:(0,g.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,g.jsx)(h.rU,{display:"inlineBlock",onClick:()=>D(A,f),href:A,underline:"hover",rel:(0,a.Z)(A)?"none":"nofollow",target:A===f?"blank":null,children:_})},"pinner"),boardName:j})}const f=({graphqlRef:e,isOwnPin:t})=>{const n=(0,_.useFragment)(v,e),{board:i,pinner:a,section:o}=n;return(0,g.jsx)(y,{boardLayout:null==i?void 0:i.layout,boardName:null==i?void 0:i.name,boardPrivacy:null==i?void 0:i.privacy,boardUrl:null==i?void 0:i.url,hasSection:!!o,isOwnPin:t,pinnerName:null==a?void 0:a.fullName,pinnerUsername:null==a?void 0:a.username,pinnerIsAdsOnlyProfile:null==a?void 0:a.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==a?void 0:a.adsOnlyProfileSite,sectionSlug:null==o?void 0:o.slug,sectionTitle:null==o?void 0:o.title})},b=({pinId:e,isOwnPin:t})=>{var n,i,a,o;const r=(0,m.S6)()(e),{board:l,pinner:s,section:d}=null!=r?r:Object.freeze({});let c=(0,p.gC)()(l);return"object"==typeof l&&(c=l),(0,g.jsx)(y,{boardLayout:null===(n=c)||void 0===n?void 0:n.layout,boardName:null===(i=c)||void 0===i?void 0:i.name,boardPrivacy:null===(a=c)||void 0===a?void 0:a.privacy,boardUrl:null===(o=c)||void 0===o?void 0:o.url,hasSection:!!d,isOwnPin:t,pinnerName:null==s?void 0:s.full_name,pinnerUsername:null==s?void 0:s.username,pinnerIsAdsOnlyProfile:null==s?void 0:s.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==s?void 0:s.ads_only_profile_site,sectionSlug:null==d?void 0:d.slug,sectionTitle:null==d?void 0:d.title})};function x({graphqlRef:e,pinId:t,isOwnPin:n}){return e?(0,g.jsx)(f,{graphqlRef:e,isOwnPin:n}):(0,g.jsx)(b,{pinId:t,isOwnPin:n})}},398061:(e,t,n)=>{n.d(t,{Z:()=>l,e:()=>r});var i=n(780280),a=n(883119),o=n(785893);const r=new a.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,i.B)();return(0,o.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},446713:(e,t,n)=>{n.d(t,{Z:()=>Je});var i=n(667294),a=n(702664),o=n(598615),r=n(789448),l=n(404508),s=n(194969),d=n(367438),c=n(775029),u=n(733867),p=n(584902),m=n(693582),h=n(241244),_=n(319915),g=n(163331),v=n(229646),y=n(248975),f=n(830157),b=n(296011),x=n(414221),P=n(411938),S=n(73491),w=n(755742),T=n(356188),k=n(240684),E=n(507712),I=n(121151),A=n(747593),C=n(605073),R=n(947599),j=n(971917),D=n(941646),O=n(700380),L=n(499128),N=n(466365),F=n(248299),M=n(876442),z=n(938917),U=n(829407),B=n(898781),Z=n(112690),V=n(759177),H=n(927383),K=n(797087),G=n(458996),W=n(667679),$=n(52022),q=n(995269),Y=n(207484),X=n(350576),J=n(574724),Q=n(332611),ee=n(62409),te=n(349700),ne=n(619277),ie=n(995081),ae=n(332215),oe=n(255607),re=n(790348),le=n(691720),se=n(826067),de=n(90326),ce=n(772486),ue=n(496793),pe=n(447409),me=n(236617),he=n(773285),_e=n(350118),ge=n(458882),ve=n(343341),ye=n(872482),fe=n(50286),be=n(881802),xe=n(623568),Pe=n(867820),Se=n(883119),we=n(167912),Te=n.n(we),ke=n(53987),Ee=n(844974),Ie=n(639952),Ae=n(276775),Ce=n(785893),Re,je;const De=300,Oe=(0,k.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(66508),n.e(43815),n.e(31954),n.e(28384)]).then(n.bind(n,4548)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 4548}}),Le=(0,i.lazy)((()=>n.e(44020).then(n.bind(n,505524)))),Ne=(0,i.lazy)((()=>n.e(40405).then(n.bind(n,40405)))),Fe=(0,i.lazy)((()=>n.e(84615).then(n.bind(n,184615)))),Me=(0,i.lazy)((()=>n.e(47297).then(n.bind(n,47297)))),ze=(0,i.lazy)((()=>n.e(12507).then(n.bind(n,712507)))),Ue=void 0!==Re?Re:Re=n(553061),Be=void 0!==je?je:je=n(78526),Ze=i.Fragment,Ve=i.Fragment,He=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,Ce.jsxs)(Se.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,Ke=(e,t)=>{e?(0,re.S$)({appLoadName:"initial_app_load_auth_closeup",clientNavName:"pin_closeup_details"},t):(0,re.S$)({appLoadName:"pin_page_interactive",clientNavName:"client_route_push_unauth_pin_closeup"},t)},Ge=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:o,pinnerDomainVerified:r,pinnerDomainUrl:l})=>i||n||o||!!r&&l===e&&!t||a,We=()=>{const e=(0,ge.l)(),t=!!e&&e.modal.isShown,n=(0,i.useRef)(t),a=n.current||t;return(0,i.useEffect)((()=>{n.current=a}),[a]),a},$e=({children:e,variables:t})=>e((0,we.useLazyLoadQuery)(Ue,t));function qe({boardCollaboratedByMe:e,boardCollaboratorPermissions:t,boardIsCollaborative:n,boardOwnerId:k,boardId:V,boardUrl:re,clickthroughInterstitialExperience:_e,closeupAttributionFullName:we,closeupIsFirstPageInHistoryStack:Te,embedSrc:Re,embedSubtype:je,embedType:Ue,experience:Be,hasLinkDomainOfficialUser:qe,hasLinkUserWebsiteOfficialUser:Ye,hasNativeCreator:Xe,hasRichMetadata:Je,hasRichMetadataProducts:Qe,hasRichMetadataArticle:et,hasRichMetadataRecipe:tt,hasThirdPartyPinOwner:nt,imageSignature:it,isAuthenticated:at,isChromeOnIOS:ot,isDeletedStoryPin:rt,isDownstreamPromotion:lt,isEligibleForAggregatedComments:st,isLimitedLoginUser:dt,isNewUser:ct,isPartner:ut,isProductPin:pt,isPromoted:mt,isSeoBot:ht,isSimplified:_t,isStoryPin:gt,isVideoPin:vt,link:yt,linkDomainName:ft,locale:bt,mobileLink:xt,onlyShowingRelatedPins:Pt,graphqlRef:St,origImageUrl:wt,pinCreatedAt:Tt,pinDomain:kt,pinTrackingParams:Et,pinId:It,pinImages:At,pinSectionId:Ct,pinnedToBoardId:Rt,pinnedToBoardUrl:jt,pinnerDomainUrl:Dt,pinnerDomainVerified:Ot,pinnerId:Lt,platform:Nt,postDownloadModalEligibilityType:Ft,promotedIsRemovable:Mt,promoterId:zt,pwtStaticContext:Ut,reduxPinSavedThisSession:Bt,seoBreadcrumbs:Zt,setHomeFlyoutText:Vt,setOnlyShowingRelatedPins:Ht,setShowHomeBadge:Kt,setShowHomeFlyoutWithButton:Gt,shoppable:Wt,storyPinDataId:$t,trackedLink:qt,trimmedUserNote:Yt,uanuthDesktopSocialLandingPopover:Xt,videosId:Jt,viewerId:Qt,viewingUser:en}){var tn;const nn=(0,B.ZP)(),an=(0,Ae.useHistory)(),on=(0,Ae.useLocation)(),rn=(0,Ae.useRouteMatch)(),ln=(0,fe.ZP)(),sn="desktop"===ln,dn=(0,a.useDispatch)(),cn=(0,z.Z)(),{checkExperiment:un}=(0,he.F)(),pn=(0,Z.Z)(),mn=(0,$.Z)(),hn=(0,me.L)(),{showToast:_n}=(0,ve.F9)(),gn=(0,ge.l)(),vn=(0,W.Z)(),yn=We(),fn=(0,H.Z)(),[bn,xn]=(0,i.useState)(!1),Pn=!(at||ht||sn||gt),Sn=(0,ke.Fr)(on)&&!gt&&(at||bn),wn=Lt===Qt;(0,i.useEffect)((()=>{Pn&&(0,ke.Fr)(on)&&xn(!0)}),[]),(0,i.useEffect)((()=>{!(0,d.Z)(on)&&at&&(0,P.Z)(en,null,28)&&pn({event_type:9956,view_type:3,userIdStr:null==en?void 0:en.id}),at&&(0,Pe.Nc)("view_pin_page")}),[]),(0,i.useEffect)((()=>{const e=e=>{switch(e.keyCode){case w.Z.LEFT:(0,Pe.My)("unauth_desktop_left_keydown");break;case w.Z.UP:(0,Pe.My)("unauth_desktop_up_keydown");break;case w.Z.RIGHT:(0,Pe.My)("unauth_desktop_right_keydown");break;case w.Z.DOWN:(0,Pe.My)("unauth_desktop_down_keydown")}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e,!1)}}),[]);const[Tn,kn]=(0,i.useState)(!1),[En,In]=(0,i.useState)(!1),[An,Cn]=(0,i.useState)(!1),[Rn,jn]=(0,i.useState)(!0),[Dn,On]=(0,i.useState)(null),{showUnauthSharingModals:Ln}=null!==(tn=(0,ge.l)())&&void 0!==tn?tn:Object.freeze({}),Nn=gt&&!sn,Fn=at&&!sn&&un("auth_mweb_inline_action_bar").anyEnabled,Mn=!pt&&!sn&&un(at?"closeup_auth_mweb_action_bar":"closeup_unauth_mweb_action_bar").anyEnabled,[zn,Un]=(0,i.useState)(!Mn&&(!at||Fn||sn)),Bn=zn?"body":"header",Zn=vt&&at&&!sn,Vn=!!It&&!((0,xe.rM)({link:yt,mobileLink:xt,trackedLink:qt})||ct&&!(0,ae.V0)(en))&&!(0,xe.ZE)(yt),Hn=Vn&&Zn,Kn=(0,i.useRef)(null),Gn=(0,M.Z)({action:4,collaboratedByMe:null!=e&&e,collaboratorPermissions:t,ownerId:k}),Wn=(0,ke.fY)(on),$n=()=>{!ht&&null!=en&&en.id&&"undefined"!=typeof window&&(0,ue.U)(window.location,en.id,!0,at,(e=>an.replace(e,on.state)))},qn=()=>(0,O.Z)((()=>{It&&pn({event_type:110,view_type:3,view_parameter:156,aux_data:{unauth_page_pin_id:It}})}),De);(0,i.useEffect)((()=>{const{appUpsellFooterScrollDismissed:e,setAppUpsellFooterScrollDismissedVal:t,setShowLearningRelatedPinAppUpsellVal:n,setTypeVal:i,showLearningRelatedPinAppUpsell:a,type:o}=hn,r=()=>{o.startsWith("learning_enabled_related_pin_click")&&!a&&(setTimeout((()=>{n(!0)}),2e3),"learning_enabled_related_pin_click"===o&&setTimeout((()=>{t(!0),n(!1),i("")}),5e3)),o.startsWith("postDownload_")&&!e&&setTimeout((()=>{t(!0),i("")}),2e3)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)}),[hn]);const Yn=(0,i.useCallback)((()=>{const e={pin_image_signature:it};dn((0,Q.pz)([1000112],ht,at?{...e,creator_username:we,is_creator_card_shown:!wn&&!!Ge({domain:kt,isPromoted:mt,hasLinkDomainOfficialUser:qe,hasLinkUserWebsiteOfficialUser:Ye,hasNativeCreator:Xe,hasThirdPartyPinOwner:nt,pinnerDomainVerified:Ot,pinnerDomainUrl:Dt})}:e))}),[dn,we,it,at,mt,ht,qe,Ye,Xe,nt,kt,Ot,Dt,wn]),Xn=e=>{gt&&pn({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),fn({fn:()=>{On("sendPinModal"),at||null==Ln||Ln()},modalHeader:(0,be.hg)(nn)})(e)},Jn=()=>{On("reportPinModal"),gt&&pn({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),pn({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:It||""})},Qn=(0,fe.ml)(),[ei,ti]=(0,i.useState)(!1);(0,U.Z)((()=>{$n(),(0,E.Z)(),Ke(at,Ut);const e=!(0,d.Z)(on),t=at&&Qn&&e&&un("auth_remove_drawer").anyEnabled;if(ti(Qn&&at&&e&&!t),at){if(!sn){(0,Ee.qn)(J.Hn)||(dn((0,de.Q_)("HAS_DONE_CLOSEUP",1)),(0,Ee.Nh)(J.Hn,!0))}}else window.addEventListener("scroll",qn),(0,Pe.My)(`mweb.pin_page.${Nt||"unknown"}`),Tt&&(0,Pe.My)("mweb_unauth.pin_page.publish_date"),(0,Pe.NC)("view_pin_page");return $t&&dn((0,Ie.FK)()),ht||Yn(),gn&&gn.upsellIsEnabledGlobally()&&(0,S.Z)()&&gn.showMobileSignupModal({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"landOnSimplifiedPinPage"}),"t"===(0,se.mB)(on.search).open_share&&Xn(),()=>{$t&&dn((0,Ie.Cp)()),at||window.removeEventListener("scroll",qn)}}));const ni=(0,i.useRef)({linkDomainName:ft,pinId:It});(0,i.useEffect)((()=>{const e=ni.current,t=It!==e.pinId,n=!e.pinId&&It,i=e&&e.linkDomainName!==ft;t&&($n(),Ke(at,Ut),at&&(0,Pe.Nc)("view_pin_page")),(n||t||i&&at)&&Yn(),ni.current={linkDomainName:ft,pinId:It}}));const ii=at&&Te&&Pt&&!En&&!An;(0,i.useEffect)((()=>{ii&&Cn((0,x.Z)())}),[ii]),(0,i.useEffect)((()=>{dn((0,Ie.Cp)())}),[dn]);const ai=(0,ye.a)(),{setShouldShowLearningUpsell:oi,shouldShowLearningUpsell:ri}=null!=ai?ai:Object.freeze({}),li=!at&&Qn&&["ios","android"].includes(Nt);(0,i.useEffect)((()=>{if(li&&oi){const e=(0,O.Z)((()=>{window.scrollY>400&&oi(!1)}),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}return()=>{}}),[li,oi]);const si=(0,K.Z)({embedSrc:Re,embedType:Ue,hasRichMetadata:Je,hasRichMetadataProducts:Qe,hasRichMetadataArticle:et,hasRichMetadataRecipe:tt,images:At,isStoryPin:gt,pinId:It}),di=(0,q.Z)({boardId:null!=V?V:"",embedSrc:Re,embedType:Ue,images:At,pinId:It,pinnerId:null!=Lt?Lt:"",pinnedToBoardId:null!=Rt?Rt:"",pinSectionId:null!=Ct?Ct:"",reduxPinSavedThisSession:Bt,trackingParams:Et}),ci=(0,G.Z)({embedSrc:Re,embedType:Ue,images:At,pinId:It,pinnerId:null!=Lt?Lt:"",reduxPinSavedThisSession:Bt});if(!It||!Lt||!V)return(0,Ce.jsx)(Se.xu,{margin:5,children:at||Wn&&sn?(0,Ce.jsx)(Se.$j,{accessibilityLabel:nn.bt("  ", "Loading pin", " - ", undefined, true),show:!0}):(0,Ce.jsx)(m.Z,{})});const ui=(0,xe.Zt)({link:yt,mobileLink:xt,origImageUrl:wt,trackedLink:qt}),pi=(0,oe.J6)({boardIsCollaborative:n,isDownstreamPromotion:lt,isPromoted:mt,storyPinDataId:$t,videosId:Jt}),mi=at&&pi,hi=!at&&!vt&&!(0,xe.cL)({embedSrc:Re,embedSubtype:je,embedType:Ue})&&("tablet"===ln||(0,ie.oy)()),_i="enabled"===(0,se.mB)(on.search).shopping,gi=(0,f.Z)(on.state?on.state.trackingParams:"",Et),vi={downloadImageUrl:!vt&&(0,y.Z)({images:At,embedSrc:Re,embedType:Ue})||null,isAuthenticated:at,saveButtonConfig:{shouldShowSavedButton:ci,onSaveButtonClick:si,onUnsaveButtonClick:di,repinPageLocation:(0,xe.NK)(It,on)},clientTrackingParams:gi,isStoryPin:gt,viewParameter:(0,ee.CK)({hasRichMetadata:Je,hasRichMetadataProducts:Qe,hasRichMetadataArticle:et,hasRichMetadataRecipe:tt}),pinId:It,canUpsellNativeApp:cn,shouldShowReactions:mi,onSendButtonClick:Xn,isChromeOnIOS:ot,handleDownloadPinImageClick:()=>{if(mn({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===Ft)On(null),sn||vn({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}});else if(Ft){hn.setAppUpsellFooterScrollDismissedVal(!1);const e=at?un("mweb_auth_post_download_app_upsell_update").group:"";e.startsWith("enabled_popover")?(hn.setTypeVal(`postDownload_${e}`),On(null)):e.startsWith("enabled_toast")?(On(null),_n((({hideToast:e})=>(0,Ce.jsx)(L.ZP,{duration:2e3,text:nn.bt("  ", "Image saved to device", "closeup.app_upsell.toaster.message", undefined, true),onHide:e}))),setTimeout((()=>{On("postDownloadModal")}),3e3)):On("postDownloadModal")}},shouldShowVisitInMoreOptions:Hn},yi=mi&&(Jt?"video":gt&&"storyPin")||null,fi=(0,Ce.jsx)(A.Z,{clickthroughInterstitialExperience:_e,experience:Be,isActionBarInline:zn,isEligibleForAggregatedComments:st,isNewUser:ct,isMaturedNewUser:(0,ae.V0)(en),isPartner:ut,isProductPin:pt,isRemovablePin:null!=Mt&&Mt,isUnavailableStoryPin:rt,nativePinType:yi,onNonDesktopOptionsButtonClick:Jn,onSendButtonClick:Xn,pinId:It,pinnedToBoardId:Rt,pinnedToBoardUrl:(wn?re:jt)||"",scrolledToRelatedPins:Pt,shouldShowReactions:mi,shoppingEnabled:_i,onEditButtonClick:wn||Gn?fn({fn:()=>an.push(rn.url+"edit/"),modalHeader:(0,be.oM)(nn),nextLocation:(0,be.wI)(on)}):void 0,shouldShowBackButton:"header"===Bn,shouldShowShareOnVideoCloseup:Zn,isEligibleToVisitPin:Vn,graphqlRef:St}),bi=_t&&!yn,xi=(on.search||"").includes("force_seo")||ht||!at,{appUpsellFooterScrollDismissed:Pi,showLearningRelatedPinAppUpsell:Si,type:wi}=hn;let Ti="";Si&&(Ti="learning"),wi.startsWith("postDownload_enabled_popover")&&(Ti="post-download");const ki=!Pi&&at&&!!Ti;return(0,Ce.jsxs)(Se.xu,{position:"relative",width:"100%",children:[li&&ri&&!bn&&(0,Ce.jsx)(Se.Le,{top:pe.n,zIndex:new Se.Ry(99999),children:(0,Ce.jsx)(N.Z,{pinId:It})}),ki&&(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_AppUpsellDismissableFooter",children:(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(ze,{appUpsellType:Ti,eligibilityType:Ft,shoppablePin:Wt,viewParameter:156,viewType:3})})}),(0,Ce.jsxs)(u.Z,{closeupPageContext:vi,graphqlRef:St,hasFixedHeader:!0,pinId:It,hasGutter:!gt,showAuthDrawer:ei,children:[(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(Se.xu,{display:Sn?"block":"visuallyHidden",opacity:Sn?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},children:Sn&&(0,Ce.jsx)(Ne,{postDownloadModalEligibilityType:Ft,isRemovablePin:Boolean(Mt),experience:Be,graphqlRef:St,mwebTapToZoomExpEnabled:bn,pinnedToBoardId:Rt,pinnedToBoardUrl:(wn?re:jt)||"",pinId:It,shouldShowSEOPinInfo:xi})})})}),(0,Ce.jsx)(Se.xu,{opacity:Sn?0:1,display:Sn?"visuallyHidden":"block",position:_i?"fixed":"static","data-layout-shift-boundary-id":"CloseupPageContainerInner",dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},children:!Sn&&(0,Ce.jsxs)(i.Fragment,{children:[(0,Ce.jsxs)(Ze,{children:[vi.isAuthenticated&&(0,Ce.jsxs)(i.Fragment,{children:[xt&&ui&&(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_AMPViewer",children:(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(Le,{ampCacheUrl:ui,graphqlRef:St,location:on,isOpen:on.hash===`#${X.rV}`,onDismiss:()=>{(0,ce.jC)(),(0,d.Z)(on)?an.goBack():an.push({...on,hash:""})},onSaveButtonClick:si,pinId:It,saveButtonTo:vi.saveButtonConfig.repinPageLocation,viewParameter:3172,viewType:3})})}),Be&&(0,Ce.jsx)(g.Z,{experience:Be}),Be&&(0,Ce.jsx)(v.Z,{experience:Be})]}),!vi.isAuthenticated&&Wn&&!sn&&(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(ne.ty,{children:e=>{if(!e)return null;const t=e=>{const{firstName:t,imageMediumUrl:n,username:i}=null!=e?e:Object.freeze({});return t&&i?(0,Ce.jsx)(Se.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,Ce.jsx)(j.Z,{inviter:{firstName:t,imageMediumUrl:n,username:i},isStoryPin:!!gt})}):null};return un("graphql_migration_sharelink_sgrowth_web").anyEnabled?(0,Ce.jsx)($e,{variables:{inviteCode:e},children:e=>{var n,i;const a=null===(n=e.v3GetInviteCodeQuery)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.sender;return t(a)}}):(0,Ce.jsx)(b.Z,{invite_code:e,children:e=>{const n=null==e?void 0:e.sender;return n?t({firstName:n.first_name,imageMediumUrl:n.image_medium_url,username:n.username}):null}})}})}),"header"===Bn&&!Tn&&fi,!at&&(sn?(0,Ce.jsx)(s.Z,{breadcrumbs:null!=Zt?Zt:[]}):!gt&&(ht?(0,Ce.jsx)(s.Z,{breadcrumbs:null!=Zt?Zt:[]}):(0,Ce.jsx)(T.Z,{pinId:It,shouldUseGraphQL:!!St})))]}),(0,Ce.jsxs)(He,{uanuthDesktopSocialLandingPopover:Xt,children:[(Mn||zn)&&!gt&&(0,Ce.jsx)(Se.Le,{top:at?0:pe.n,children:(0,Ce.jsx)(Se.xu,{position:"absolute",marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,Ce.jsxs)(Se.kC,{justifyContent:"between",children:[(0,Ce.jsx)(h.Z,{children:(0,Ce.jsx)(l.Z,{bgColor:"white",color:"darkGray",fallbackUrl:at?"/":"/ideas",padding:3,viewParameter:156,viewType:3})}),Mn&&(0,Ce.jsx)(h.Z,{children:(0,Ce.jsx)(D.Z,{id:"ellipsis-button",children:(0,Ce.jsx)(C.Z,{onNonDesktopClick:Jn,pinId:It,isAuthenticated:at,graphqlRef:St,overlayingPinImage:!0,nativePinType:yi})})})]})})}),Nn?(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,Ce.jsx)(Oe,{pinId:It,graphqlRef:St})}):rt?(0,Ce.jsx)(F.Z,{}):(0,Ce.jsx)(Se.xu,{ref:Kn,"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,Ce.jsx)(c.Z,{actionBarIsMinifiedToMainPinImage:Tn,pinActionBar:"body"===Bn?fi:null,clickthroughInterstitialExperience:_e,closeupIsFirstPageInHistoryStack:Te,isImagePinForUnauthOnTablet:hi,onLinklessPinTap:()=>{const e=!Tn;kn(e),dn(e?(0,Ie.Cp)():(0,Ie.FK)())},onMoreButtonClick:Jn,onSendPin:Xn,pinCloseupExperience:Be,pinId:It,pinnedToBoardId:Rt,shouldShowReactions:pi,shouldShowSEOPinInfo:xi,trimmedUserNote:Yt,viewerId:Qt,isSendPinModalOpen:"sendPinModal"===Dn,hideMetadata:ei&&"details",graphqlRef:St,setMwebTapToZoomExpEnabled:xn,isEligibleForTapToZoom:Pn,isActionBarInline:zn,setIsActionBarInline:Un})})]}),(0,Ce.jsxs)(Ve,{children:[!Nn&&(at||!zt&&!bi)&&(0,Ce.jsx)(p.Z,{graphqlRef:St,onRelatedPinsTitleEnter:()=>Ht(!1),onRelatedPinsTitleExit:()=>Ht(!0),pinId:It,marginTop:ei?4:0,feedData:Rn,setFeedData:jn,isProductPin:pt}),!at&&"phone"===ln&&cn&&(null==ai?void 0:ai.shouldShowVisualSearchAppUpsell)&&(0,Ce.jsx)(I.ZP,{mobileAccessibilityCloseIconLabel:nn.bt("", "Cancel", "mweb.visual.search.app.upsell.cancel.on.pin.page", undefined, true),accessibilityModalLabel:"",_dangerouslyDisableScrollBoundaryContainer:!0,isOpen:!0,onDismiss:()=>{ai.setShouldShowVisualSearchAppUpsell(!1),pn({component:14157,element:10308,event_type:10220,view_type:156,view_parameter:3,aux_data:{app_upsell_type:"visual-search-app-upsell-on-pin-page"}})},children:(0,Ce.jsx)(Y.Z,{pinId:It,within:"visual-search-app-upsell-on-pin-page"})}),at&&!dt&&Te&&Pt&&!En&&!An&&(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(Me,{onComplete:e=>{e&&(Vt((0,te.nk)(nn.bt("{{ interestName }}()    .", "We've added fresh ideas for {{ interestName }}", "navFooter.flyout.text", undefined, true),{interestName:(0,le.T_)(e,bt)}).join("")),Kt(!0),Gt(!0)),In(!0)},pinId:It,showRelatedInterestModal:()=>{On("relatedInterestsModal")}})})}),cn&&at&&!Nn&&(0,Ce.jsx)(o.Z,{componentType:14158,within:"footer-button",children:({handleOpenApp:e})=>(0,Ce.jsx)(r.Z,{clientTrackingParams:gi,onOpenInApp:()=>e({deepLinkUri:`pin/${It}`}),viewParameter:vi.viewParameter,viewType:3})})]}),(0,Ce.jsx)(_.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,Ce.jsx)(R.Z,{children:(0,Ce.jsx)(D.Z,{id:"close-action-bar",children:(0,Ce.jsx)(Fe,{graphqlRef:St,isAuthenticated:at,modal:Dn,onDismiss:()=>{mn({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===Dn&&In(!0),On(null)},onSendButtonClick:Xn,pinId:It,postDownloadModalEligibilityType:Ft,viewParameter:vi.viewParameter,clientTrackingParams:gi,clickthroughInterstitialExperience:_e,shouldShowShareOnVideoCloseup:Zn,nativePinType:yi})})})})]})})]})]})}function Ye(e){var t,n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f;const{pinId:b}=e,x=(0,_e.S6)()(b),P=null==x?void 0:x.board,S=null!=x&&x.promoter&&!x.is_downstream_promotion?x.promoter:null,w=null==x?void 0:x.pinner;return(0,Ce.jsx)(qe,{...e,boardCollaboratedByMe:null!==(t=null==P?void 0:P.collaborated_by_me)&&void 0!==t&&t,boardCollaboratorPermissions:null==P?void 0:P.collaborator_permissions,boardIsCollaborative:null==P?void 0:P.is_collaborative,boardOwnerId:null==P||null===(n=P.owner)||void 0===n?void 0:n.id,boardId:null==P?void 0:P.id,boardUrl:null==P?void 0:P.url,closeupAttributionFullName:null==x||null===(i=x.closeup_attribution)||void 0===i?void 0:i.full_name,embedSrc:null==x||null===(a=x.embed)||void 0===a?void 0:a.src,embedSubtype:null==x||null===(o=x.embed)||void 0===o?void 0:o.subtype,embedType:null==x||null===(r=x.embed)||void 0===r?void 0:r.type,hasLinkDomainOfficialUser:Boolean(null==x||null===(l=x.link_domain)||void 0===l?void 0:l.official_user),hasLinkUserWebsiteOfficialUser:Boolean(null==x||null===(s=x.link_user_website)||void 0===s?void 0:s.official_user),hasNativeCreator:Boolean(null==x?void 0:x.native_creator),hasRichMetadata:Boolean(null==x?void 0:x.rich_metadata),hasRichMetadataProducts:Boolean(null==x||null===(d=x.rich_metadata)||void 0===d?void 0:d.products),hasRichMetadataArticle:Boolean(null==x||null===(c=x.rich_metadata)||void 0===c?void 0:c.article),hasRichMetadataRecipe:Boolean(null==x||null===(u=x.rich_metadata)||void 0===u?void 0:u.recipe),hasThirdPartyPinOwner:Boolean(null==x?void 0:x.third_party_pin_owner),imageSignature:null==x?void 0:x.image_signature,isDownstreamPromotion:null==x?void 0:x.is_downstream_promotion,isPromoted:null==x?void 0:x.is_promoted,isVideoPin:(0,xe.iR)(null==x?void 0:x.videos),link:null==x?void 0:x.link,linkDomainName:null==x||null===(p=x.link_domain)||void 0===p?void 0:p.name,mobileLink:null==x?void 0:x.mobile_link,origImageUrl:null==x||null===(m=x.images)||void 0===m||null===(h=m.orig)||void 0===h?void 0:h.url,pinCreatedAt:null==x?void 0:x.created_at,pinDomain:null==x?void 0:x.domain,pinId:b,pinImages:null==x?void 0:x.images,pinSectionId:null==x||null===(_=x.section)||void 0===_?void 0:_.id,pinTrackingParams:null==x?void 0:x.tracking_params,pinnedToBoardId:null==x||null===(g=x.pinned_to_board)||void 0===g?void 0:g.id,pinnedToBoardUrl:null==x||null===(v=x.pinned_to_board)||void 0===v?void 0:v.url,pinnerDomainVerified:null==w?void 0:w.domain_verified,pinnerDomainUrl:null==w?void 0:w.domain_url,pinnerId:null==w?void 0:w.id,promoterId:null==S?void 0:S.id,promotedIsRemovable:null==x?void 0:x.promoted_is_removable,reduxPinSavedThisSession:null==x?void 0:x.savedThisSession,seoBreadcrumbs:null==x||null===(y=x.pin_join)||void 0===y?void 0:y.seo_breadcrumbs,shoppable:((null==x?void 0:x.shopping_flags)||[]).length>0,storyPinDataId:null==x?void 0:x.story_pin_data_id,trackedLink:null==x?void 0:x.tracked_link,trimmedUserNote:((null==x?void 0:x.unified_user_note)||"").trim(),videosId:null==x||null===(f=x.videos)||void 0===f?void 0:f.id})}function Xe({graphqlRef:e,...t}){var n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f,b,x,P,S,w,T,k,E,I,A,C,R,j,D;const{pinId:O}=t,L=(0,we.useFragment)(Be,e),N=(0,_e.S6)()(O),F=(0,V.Z)(L),M=null==L||null===(n=L.pinJoin)||void 0===n||null===(i=n.seoBreadcrumbs)||void 0===i?void 0:i.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""})));return(0,Ce.jsx)(qe,{...t,boardCollaboratedByMe:null!==(a=null==L||null===(o=L.board)||void 0===o?void 0:o.collaboratedByMe)&&void 0!==a&&a,boardCollaboratorPermissions:null==L||null===(r=L.board)||void 0===r?void 0:r.collaboratorPermissions,boardIsCollaborative:null==L||null===(l=L.board)||void 0===l?void 0:l.isCollaborative,boardOwnerId:null==L||null===(s=L.board)||void 0===s||null===(d=s.owner)||void 0===d?void 0:d.entityId,boardId:null==L||null===(c=L.board)||void 0===c?void 0:c.entityId,boardUrl:null==L||null===(u=L.board)||void 0===u?void 0:u.url,closeupAttributionFullName:null!==(p=null==L||null===(m=L.closeupAttribution)||void 0===m?void 0:m.fullName)&&void 0!==p?p:"",embedSrc:null==L||null===(h=L.embed)||void 0===h?void 0:h.src,embedSubtype:null==L||null===(_=L.embed)||void 0===_?void 0:_.subtype,embedType:null==L||null===(g=L.embed)||void 0===g?void 0:g.type,hasLinkDomainOfficialUser:Boolean(null==L||null===(v=L.linkDomain)||void 0===v?void 0:v.officialUser),hasLinkUserWebsiteOfficialUser:Boolean(null==L||null===(y=L.linkUserWebsite)||void 0===y?void 0:y.officialUser),hasNativeCreator:Boolean(null==L?void 0:L.nativeCreator),hasRichMetadata:Boolean(null==L?void 0:L.richMetadata),hasRichMetadataProducts:Boolean(null==L||null===(f=L.richMetadata)||void 0===f||null===(b=f.products)||void 0===b?void 0:b.length),hasRichMetadataArticle:Boolean(null==L||null===(x=L.richMetadata)||void 0===x?void 0:x.article),hasRichMetadataRecipe:Boolean(null==L||null===(P=L.richMetadata)||void 0===P?void 0:P.recipe),hasThirdPartyPinOwner:Boolean(null==L?void 0:L.thirdPartyPinOwner),imageSignature:null==L?void 0:L.imageSignature,isDownstreamPromotion:null==L?void 0:L.isDownstreamPromotion,isPromoted:null==L?void 0:L.isPromoted,isVideoPin:Boolean(null==L||null===(S=L.videos)||void 0===S?void 0:S.entityId),link:null==L?void 0:L.link,linkDomainName:null==L||null===(w=L.linkDomain)||void 0===w?void 0:w.name,mobileLink:null==L?void 0:L.mobileLink,origImageUrl:null==L||null===(T=L.images)||void 0===T?void 0:T.url,pinCreatedAt:null==L?void 0:L.createdAt,pinDomain:null==L?void 0:L.domain,pinId:O,pinImages:F,pinSectionId:null==L||null===(k=L.section)||void 0===k?void 0:k.entityId,pinTrackingParams:null==L?void 0:L.trackingParams,pinnedToBoardId:null==L||null===(E=L.pinnedToBoard)||void 0===E?void 0:E.entityId,pinnedToBoardUrl:null==L||null===(I=L.pinnedToBoard)||void 0===I?void 0:I.url,pinnerDomainVerified:null==L||null===(A=L.pinner)||void 0===A?void 0:A.domainVerified,pinnerDomainUrl:null==L||null===(C=L.pinner)||void 0===C?void 0:C.domainUrl,pinnerId:null==L||null===(R=L.pinner)||void 0===R?void 0:R.entityId,promoterId:null==L||null===(j=L.promoter)||void 0===j?void 0:j.entityId,promotedIsRemovable:null==L?void 0:L.promotedIsRemovable,reduxPinSavedThisSession:null==N?void 0:N.savedThisSession,seoBreadcrumbs:null!=M?M:[],storyPinDataId:null==L?void 0:L.storyPinDataId,trackedLink:null==L?void 0:L.trackedLink,trimmedUserNote:((null==L?void 0:L.unifiedUserNote)||"").trim(),videosId:null==L||null===(D=L.videos)||void 0===D?void 0:D.entityId,graphqlRef:L})}function Je({graphqlRef:e,...t}){return e?(0,Ce.jsx)(Xe,{...t,graphqlRef:e}):(0,Ce.jsx)(Ye,{...t})}},49895:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(166300),a=n(63552),o=n(50286),r=n(883119),l=n(691720),s=n(785893);const d=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:i}})=>{const d=(0,o.ZP)(),c="desktop"===d?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,u="desktop"===d?8:10;return(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,s.jsxs)(r.xu,{position:"relative",display:"flex",maxWidth:1016,overflow:"phone"!==d?void 0:"hidden",minHeight:"40vh",rounding:"desktop"===d?void 0:6,dangerouslySetInlineStyle:"phone"!==d?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:c,marginBottom:54,marginLeft:c,boxShadow:"desktop"===d?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,s.jsx)(a.Z,{onMouseEnter:null==i?void 0:i.onMouseEnter,onMouseLeave:null==i?void 0:i.onMouseLeave,onTouch:null==i?void 0:i.onTouch,pressState:"desktop"===d?"none":"compress",rounding:2,children:(0,s.jsx)(r.xu,{display:"phone"!==d?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==d?void 0:"hidden",rounding:"desktop"===d?8:void 0,width:"phone"!==d?l.Hg:"47vw",children:n})}),(0,s.jsx)(r.xu,{paddingX:"phone"!==d?0:u,width:"phone"!==d?l.Hg:"47vw",display:"flex",direction:"column",justifyContent:"between",children:e})]})})},c=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:a})=>{const c=(0,o.ZP)();return a?(0,s.jsx)(r.xu,{marginEnd:"auto",marginStart:"auto","data-test-id":"closeup-body-landscape",children:(0,s.jsx)(d,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:a})}):(0,s.jsxs)(r.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"desktop"===c?void 0:"phone"===c?l.g6:l.Hg,"data-test-id":"closeup-body-portrait",children:[t||"desktop"===c?(0,s.jsx)(i.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},535684:(e,t,n)=>{n.d(t,{L:()=>i,b:()=>a});const i=(0,n(667294).createContext)({isStoryPinWithProducts:!1}),a=i.Provider},909666:(e,t,n)=>{n.d(t,{Z:()=>N});var i,a=n(667294),o=n(898781),r=n(349700),l=n(350118),s=n(883119),d=n(167912),c=n(785893);const u=void 0!==i?i:i=n(792522);function p({attributionEmbedSrc:e,authorUrl:t,authorName:n,providerUrl:i,providerName:a,ccUrl:l,embedType:d,embedSrc:u,embedSubtype:p}){const m=(0,o.ZP)(),h=u||e,_=!!a&&"Unknown"!==a,g={author:(0,c.jsx)(s.xu,{display:"inlineBlock",children:(0,c.jsx)(s.rU,{underline:"none",href:t||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:n})},"author")},"author"),provider:_?(0,c.jsx)(s.xu,{marginEnd:1,display:"inlineBlock",children:(0,c.jsx)(s.rU,{underline:"always",href:i||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:a})},"provider")},"provider"):null};let v=_?m.bt("{{ provider }}", "from {{ provider }}", "closeup.description.imageSourceWithProvider", undefined, true):null;return n&&(v=h&&"gif"!==d&&"pinstory"!==p?_?m.bt("{{ provider }} {{ author }}  ", "Video by {{ author }} on {{ provider }}", "closeup.description.videoSourceWithProvider", undefined, true):m.bt(" : {{ author }}", "Video by {{ author }}", "closeup.description.videoSource", undefined, true):_?m.bt("{{ provider }}  {{ author }} ", "Photo by {{ author }} on {{ provider }}", "closeup.description.photoSourceWithProvider", undefined, true):m.bt(" : {{ author }}", "Photo by {{ author }}", "closeup.description.photoSource", undefined, true)),(0,c.jsx)(s.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,c.jsxs)(s.xv,{size:"200",inline:!0,children:[!!v&&(0,r.nk)(v,g),l&&(0,c.jsx)(s.rU,{underline:"none",href:l,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(s.xv,{size:"200",inline:!0,children:m.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})},"link")]})})}function m({graphqlRef:e}){var t,n,i,a,o,r,l,s,m,h;const _=(0,d.useFragment)(u,e);return(0,c.jsx)(p,{attributionEmbedSrc:null==_||null===(t=_.attribution)||void 0===t||null===(n=t.embed)||void 0===n?void 0:n.src,authorUrl:null==_||null===(i=_.attribution)||void 0===i?void 0:i.authorUrl,authorName:null==_||null===(a=_.attribution)||void 0===a?void 0:a.authorName,providerUrl:null==_||null===(o=_.attribution)||void 0===o?void 0:o.url,providerName:null==_||null===(r=_.attribution)||void 0===r?void 0:r.providerName,ccUrl:null==_||null===(l=_.attribution)||void 0===l?void 0:l.ccUrl,embedType:null==_||null===(s=_.embed)||void 0===s?void 0:s.type,embedSrc:null==_||null===(m=_.embed)||void 0===m?void 0:m.src,embedSubtype:null==_||null===(h=_.embed)||void 0===h?void 0:h.subtype})}function h({pinId:e}){var t,n,i,a,o,r,s,d,u,m;const h=(0,l.S6)()(e);return(0,c.jsx)(p,{attributionEmbedSrc:null==h||null===(t=h.attribution)||void 0===t||null===(n=t.embed)||void 0===n?void 0:n.src,authorUrl:null==h||null===(i=h.attribution)||void 0===i?void 0:i.author_url,authorName:null==h||null===(a=h.attribution)||void 0===a?void 0:a.author_name,providerUrl:null==h||null===(o=h.attribution)||void 0===o?void 0:o.url,providerName:null==h||null===(r=h.attribution)||void 0===r?void 0:r.provider_name,ccUrl:null==h||null===(s=h.attribution)||void 0===s?void 0:s.cc_url,embedType:null==h||null===(d=h.embed)||void 0===d?void 0:d.type,embedSrc:null==h||null===(u=h.embed)||void 0===u?void 0:u.src,embedSubtype:null==h||null===(m=h.embed)||void 0===m?void 0:m.subtype})}function _({...e}){return e.graphqlRef?(0,c.jsx)(m,{...e}):(0,c.jsx)(h,{...e})}var g,v=n(958007),y=n(509278),f=n(941646),b=n(565212),x=n(50286),P=n(219413),S=n(52022),w=n(298024),T=n(773285),k=n(780280),E=n(569139),I=n(867820),A=n(882801);const C=void 0!==g?g:g=n(364962);function R(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}const j=({pinDescription:e,expandText:t})=>{const{isAuthenticated:n,isBot:i}=(0,k.B)(),[r,l]=(0,a.useState)(t),d=(0,w.si)(),{checkExperiment:u}=(0,T.F)(),p=(0,o.ZP)(),m=(0,x.ZP)(),h=(0,S.Z)(),{anyEnabled:_}=u("closeup_mweb_onepin_title_and_description",{dangerouslySkipActivation:!0}),{anyEnabled:g}=u("closeup_dweb_unauth_onepin_title_and_description"),v=(0,a.useCallback)((()=>{r||n||((0,I.NC)("click_open_description"),(0,I.My)("desktop"===m?"pcons.dweb-more-description":"pcons.mweb-more-description"),h({action:"click",item:"more-description"})),l(!r)}),[r,n,h,m]);return i||!_&&e.length<=d?(0,c.jsx)(s.xv,{inline:!0,children:e}):_&&"desktop"!==m?(0,c.jsx)(E.Z,{Wrapper:({children:e})=>(0,c.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e}),isExpanded:r,description:e,maxHeight:38,handleToggle:v}):g?(0,c.jsx)(b.Z,{children:(0,y.Z)(e)}):(0,c.jsxs)("h2",{style:{fontSize:"14px",wordWrap:"break-word"},children:[(0,c.jsxs)(s.xv,{inline:!0,children:[r?e:`${e.substr(0,d-3)}...`,""]}),!r&&(0,c.jsx)(E.a,{isExpanded:r,onToggle:v,expandedText:p.bt("", "Less", "Toggle less description button", undefined, true),collapsedText:p.bt(" ", "More", "Toggle more description button", undefined, true)})]})};function D({collapse:e,storyPinDataId:t,richMetadataDescription:n,richMetadataArticleDatePublished:i,richSummaryDisplayName:l,placeSummaryName:d,closeupDescription:u,closeupUnifiedDescription:p,pinDescription:m,hasAttribution:h,isRecipe:g,pinId:y,graphqlRef:b}){const P=(0,o.ZP)(),w=(0,x.ZP)(),T=(0,S.Z)(),{isAuthenticated:E,locale:A}=(0,k.B)(),[C,D]=(0,a.useState)(e||!1),O=i&&new Date(i),L=E?null==p?void 0:p.trim():(0,v.Z)({storyPinDataId:t,pinDescription:m,richMetadataDescription:n,richSummaryDisplayName:l,placeSummaryName:d,closeupDescription:u,closeupUnifiedDescription:p}),N=O&&((e,t)=>{if(e){const n=31536e6,i=e.getTime(),a=(new Date).getTime();return null==t||a-i<=t*n}return!1})(O,2)&&L?(0,r.nk)(P.bt("{{ pinDescription }} : {{ date }}", "{{ pinDescription }} Published on {{ date }}", "closeup.details.descirptionWithPublishedDate", undefined, true),{date:R(O,A),pinDescription:L}).join(""):L;let F;if(h){const e=L?"{{ credit }}   ":"{{ credit }}";F=(0,r.nk)(e,{credit:(0,c.jsx)(_,{pinId:y,graphqlRef:b},"article-pin"),descriptionToDisplay:N})}return(0,c.jsxs)(s.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:"phone"===w?"center":void 0}},children:[F,L&&!g&&(C?(0,c.jsxs)(s.iP,{onTap:()=>D(!1),children:[(0,c.jsx)(s.xv,{weight:"bold",underline:!0,inline:!0,children:P.bt("  ", "See details", "closeup.descrition.see_details", undefined, true)}),"  ",(0,c.jsx)(s.JO,{accessibilityLabel:P.bt("  ", "expand details icon", "closeup.description.expand_icon", undefined, true),icon:"arrow-down",inline:!0})]}):(0,c.jsx)(f.Z,{id:"main-pin-description-text",children:(0,c.jsx)(s.iP,{onTap:()=>{(0,I.My)("desktop"===w?"pcons.dweb.main-pin-description-text":"pcons.mweb.main-pin-description-text"),T({action:"click",item:"main-pin-description-text"})},children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,c.jsx)(j,{pinDescription:L,expandText:!!e&&!C})})})}))]})}function O({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l,s,u,p;const m=(0,d.useFragment)(C,e),h=(0,P.Z)({pin:m});return m?(0,c.jsx)(D,{...n,pinId:t,storyPinDataId:m.storyPinDataId,richMetadataDescription:null!==(i=null===(a=m.richMetadata)||void 0===a?void 0:a.description)&&void 0!==i?i:"",richMetadataArticleDatePublished:null!==(o=null===(r=m.richMetadata)||void 0===r||null===(l=r.article)||void 0===l?void 0:l.datePublished)&&void 0!==o?o:"",richSummaryDisplayName:null!==(s=null===(u=m.richSummary)||void 0===u?void 0:u.displayName)&&void 0!==s?s:"",closeupDescription:m.closeupDescription,closeupUnifiedDescription:m.closeupUnifiedDescription,pinDescription:m.description,structuredDescriptionComponents:h.components||{},hasAttribution:!!m.attribution,isRecipe:!(null===(p=m.richMetadata)||void 0===p||!p.recipe),graphqlRef:m}):null}function L({graphqlRef:e,pinId:t,...n}){var i,a,o,r,s,d,u,p,m;const h=(0,l.S6)()(t),_=(0,A.fv)(h);return h?(0,c.jsx)(D,{...n,pinId:t,storyPinDataId:h.story_pin_data_id,richMetadataDescription:null!==(i=null===(a=h.rich_metadata)||void 0===a?void 0:a.description)&&void 0!==i?i:"",richMetadataArticleDatePublished:null!==(o=null===(r=h.rich_metadata)||void 0===r||null===(s=r.article)||void 0===s?void 0:s.date_published)&&void 0!==o?o:"",richSummaryDisplayName:null!==(d=null===(u=h.rich_summary)||void 0===u?void 0:u.display_name)&&void 0!==d?d:"",placeSummaryName:null!==(p=h.place_summary)&&void 0!==p?p:"",closeupDescription:h.closeup_description,closeupUnifiedDescription:h.closeup_unified_description,pinDescription:h.description,structuredDescriptionComponents:_,hasAttribution:!!h.attribution,isRecipe:!(null===(m=h.rich_metadata)||void 0===m||!m.recipe)}):null}function N(e){return e.graphqlRef?(0,c.jsx)(O,{...e,graphqlRef:e.graphqlRef}):(0,c.jsx)(L,{...e})}},29066:(e,t,n)=>{n.d(t,{Z:()=>fe});var i=n(667294),a=n(650165),o=n(909666),r=n(818750),l=n(266224),s=n(40995),d=n(620725),c=n(934494),u=n(319915),p=n(745162),m=n(807592),h=n(543972),_=n(926275),g=n(240684),v=n(358381),y=n(747593),f=n(561067),b=n(350948),x=n(635821),P=n(678532),S=n(718254),w=n(947599),T=n(529581),k=n(954063),E=n(21384),I=n(862193),A=n(50286),C=n(898781),R=n(986926),j=n(817767),D=n(667679),O=n(52022),L=n(394332),N=n(792606),F=n(375559),M=n(288889),z=n(664569),U=n(313047),B=n(844974),Z=n(349700),V=n(332215),H=n(571577),K=n(773285),G=n(350118),W=n(780280),$=n(162379),q=n(992750),Y=n(62409),X=n(867820),J=n(883119),Q=n(623568),ee=n(167912),te=n.n(ee),ne=n(698330),ie=n(785893),ae,oe;const re=(0,g.ZP)({resolved:{},chunkName:()=>"Reactions-ReactionAggregation",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(15206).then(n.bind(n,142219)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 142219}}),le=(0,i.lazy)((()=>n.e(7612).then(n.bind(n,607612)))),se=68,de=3,ce=1,ue=i.Fragment,pe=(0,i.lazy)((()=>n.e(55967).then(n.bind(n,55967)))),me=void 0!==ae?ae:ae=n(446969),he=void 0!==oe?oe:oe=n(970533);function _e(e){const t=(0,C.ZP)(),n=(0,O.Z)(),{hideMetadata:c,isImagePinForUnauthOnTablet:m,isStoryPin:g,onClickTitleOrDomain:y,shouldShowAggregatedComments:I,shouldShowReactions:R,shouldShowSEOPinInfo:G,viewParameter:ee,viewerId:te,pinActionBar:ae,boardUrl:oe,boardName:me,sourceUserBlockedByMe:he,sourceUserExplicitlyFollowedByMe:_e,sourceUserFollowerCount:ge,sourceUserFullName:ve,sourceUserId:ye,sourceUserImageLargeUrl:fe,sourceUserimageMediumUrl:be,sourceUserImageSmallUrl:xe,sourceUserIsVerifiedMerchant:Pe,sourceUserUsername:Se,sourceUserVerifiedIdentityVerified:we,pinId:Te,pinLink:ke,pinMobileLink:Ee,pinImageOrigUrl:Ie,pinTrackedLink:Ae,pinDomain:Ce,gridTitle:Re,pinTitle:je,pinProductPrice:De,pinProductInStock:Oe,pinReactionCounts:Le,promoterFullName:Ne,pinnerFullName:Fe,hasPin:Me,hasPinProduct:ze,hasSourceUser:Ue,hasOfficialUser:Be,hasLinkDomain:Ze,hasNativeCreator:Ve,hasOriginPinner:He,hasPromoter:Ke,hasRichMetadataArticle:Ge,hasRichMetadataTutorial:We,hasRichMetadataRecipe:$e,hasRichMetadataRecipeCategorizedIngredients:qe,hasRichMetadataRecipeAggregateRating:Ye,hasRichMetadataProductOfferSummary:Xe,hasRichSummaryProductOfferSummary:Je,richMetadataRecipeFromAggregatedData:Qe,richMetadataProductName:et,richMetadataTitle:tt,richSummaryDisplayName:nt,richSummaryProductName:it,isEligibleForPdp:at,storyPinDataId:ot,storyPinDataMetadataPinTitle:rt,placeSummaryName:lt,pinJoinVisualAnnotation:st,pinJoinAnnotationsWithLinks:dt,graphqlRef:ct,isActionBarInline:ut,setIsActionBarInline:pt}=e,{checkExperiment:mt}=(0,K.F)(),ht=(0,A.ZP)(),_t="desktop"===ht,gt="phone"===ht,{isAuthenticated:vt,country:yt,locale:ft,isBot:bt}=(0,W.B)(),xt=(0,ne.Tt)(),Pt=_t?"desktopParity":"inlineHidden";let St=Re||je;const wt=(0,Q._S)(Ce),Tt=mt("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,kt=Tt?void 0:t.bt("Pinterest ", "Uploaded to Pinterest", "closeup.closeupDetails.pinCreditPrefix", undefined, true),Et=wt?(0,Y.Bk)({i18n:t,isLego:!0,hasLinkDomain:Ze,hasRichMetadataArticle:Ge,hasRichMetadataTutorial:We,hasRichMetadataRecipeCategorizedIngredients:qe,hasRichMetadataProductOfferSummary:Xe,hasRichSummaryProductOfferSummary:Je,richMetadataRecipeFromAggregatedData:Qe,richMetadataProductName:et,richSummaryProductName:it}):kt,It=Be,At=(0,H.H)(),Ct=(0,W.B)(),Rt=(0,D.Z)(),jt=!vt&&!_t&&!bt,Dt=!vt&&!bt&&ze&&mt("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled,Ot=!vt&&ze&&(!Dt||at),Lt=vt&&!_t&&mt("auth_mweb_inline_action_bar").anyEnabled,Nt=!vt&&!_t||Lt,Ft="desktop"!==ht&&mt(vt?"closeup_auth_mweb_action_bar":"closeup_unauth_mweb_action_bar").anyEnabled,Mt=!_t&&mt("closeup_mweb_onepin_title_and_description").anyEnabled,zt=Mt?void 0:(0,p.Z)({isImagePinForUnauthOnTablet:m,truncate:!!c}),Ut=(0,Q.Zt)({link:ke,mobileLink:Ee,origImageUrl:Ie,trackedLink:Ae}),{pinCreditLink:Bt,pinCredit:Zt}=(0,Y.Xe)({hasLinkDomain:Ze,hasNativeCreator:Ve,hasOriginPinner:He,pinDomain:Ce,sourceUserUsername:Se,sourceUserFullName:ve}),Vt=Bt||Ut;vt||(St=Me?(0,q.Ly)({pinTitle:je,gridTitle:Re,richSummaryDisplayName:nt,richMetadataTitle:tt,storyPinDataId:ot,storyPinDataMetadataPinTitle:rt,placeSummaryName:lt,pinJoinVisualAnnotation:st,pinJoinAnnotationsWithLinks:dt}):null);const{annotationsWithLinks:Ht}=(0,q.eK)({pinJoinVisualAnnotation:st,pinJoinAnnotationsWithLinks:dt});if(!Me)return null;const Kt=(0,Y.AH)(ke),Gt=!(vt||m||_t||Ot),Wt=Vt&&Zt&&Bt&&Ue||!vt&&Ue,$t=g&&!vt,qt=Ut&&Kt,Yt="lg"===At,Xt=R&&!!Le,Jt=qt&&(!Wt||m)||!vt&&_t||Ot,Qt=!qt&&!Wt,en=!!Wt&&!$t&&!It,tn=Xt||Jt||Qt||en,nn=(0,_.Z)(null==xt?void 0:xt.created_at)&&!(0,V.V0)(xt),an=It&&!$t&&(0,ie.jsx)(J.xu,{marginBottom:2,children:(0,ie.jsx)(v.Z,{hideFollowButton:mt("lex_follow_button").group.includes("hide_follow")||_t,justifyContent:_t?"start":"center",viewerId:te,pinId:Te,graphqlRef:ct,seeMoreButton:G&&"inlineHidden"===Pt&&(0,ie.jsx)(J.xu,{children:(0,ie.jsx)(E.Z,{pinId:Te,isMainPin:!0,isAuth:vt,pinCreditPrefix:Et,onClickTitleOrDomain:y,graphqlRef:ct,lazyLoadAnnotations:jt})})})}),on=en&&(0,ie.jsxs)(J.xu,{flex:"grow",marginTop:de,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",children:[(0,ie.jsx)(j.Z,{activateLexFollowExp:()=>mt("lex_follow_button"),blockedByMe:null!=he&&he,explicitlyFollowedByMe:null!=_e&&_e,followerCount:null!=ge?ge:0,fullName:null!=ve?ve:"",id:null!=ye?ye:"",imageLargeUrl:null!=fe?fe:"",imageMediumUrl:null!=be?be:"",imageSmallUrl:null!=xe?xe:"",isEligibleForPdp:!!at,isImagePinForUnauthOnTablet:null!=m&&m,isOnCloseup:!0,isVerifiedMerchant:null!=Pe&&Pe,pinId:Te,textColor:"default",type:"row",username:null!=Se?Se:"",verifiedIdentityVerified:null!=we&&we,viewParameter:ee,viewType:3}),G&&"inlineHidden"===Pt&&(0,ie.jsx)(J.xu,{marginTop:4,children:(0,ie.jsx)(E.Z,{pinId:Te,isMainPin:!0,isAuth:vt,pinCreditPrefix:Et,onClickTitleOrDomain:y,graphqlRef:ct,lazyLoadAnnotations:jt})})]}),rn=e=>"enabled_show_inside_info"===e?(0,ie.jsxs)(J.xu,{marginTop:10,children:[(0,ie.jsx)(J.xv,{size:"200",inline:!0,children:t.bt("       ", "Find this Pin and more on ", "moreInformation.prefix.text", undefined, true)}),(0,ie.jsx)(J.xv,{inline:!0,weight:"bold",size:"200",children:(0,ie.jsx)(J.rU,{display:"inlineBlock",href:oe,onClick:()=>(0,X.My)("dweb_more_info_exp_board_link_click"),underline:"hover",children:me||""},"board-link")}),(0,ie.jsx)(J.xv,{size:"200",inline:!0,children:t.bt("  ", " by ", "moreInformation.middle.text", undefined, true)}),(0,ie.jsx)(J.xv,{inline:!0,weight:"bold",size:"200",children:(0,ie.jsx)(J.rU,{display:"inlineBlock",href:`/${oe.split("/")[1]}/`,onClick:()=>(0,X.My)("dweb_more_info_exp_profile_link_click"),underline:"hover",children:Fe||oe.split("/")[1]},"profile-link")})]}):"enabled_copy_change"===e?(0,ie.jsx)(J.xu,{marginTop:10,children:(0,ie.jsx)(a.Z,{graphqlRef:ct,pinId:Te,savedToText:(0,ie.jsx)(T.Z,{graphqlRef:ct,isOwnPin:!1,pinId:Te})})}):(0,ie.jsx)(r.Z,{pinId:Te,graphqlRef:ct}),ln=(0,ie.jsxs)(J.xu,{"data-test-id":"CloseupDetails",marginStart:Yt?4:0,children:[at&&vt?(0,ie.jsx)(J.xu,{width:"100%",paddingY:3,paddingX:2,children:(0,ie.jsx)(S.Z,{isEligibleForPdp:at,isImagePinForUnauthOnTablet:m,onClickTitleOrDomain:y,showUnauthFullDesc:Ot,graphqlRef:ct,pinId:Te})}):(0,ie.jsxs)(J.xu,{width:"100%",paddingY:4,paddingX:2,children:[Ft?!ut&&!Nt&&ae:!Nt&&ae,"phone"===ht&&an,Tt&&Xt&&(0,ie.jsx)(u.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,ie.jsx)(w.Z,{children:(0,ie.jsx)(J.xu,{alignSelf:"center",display:"flex",justifyContent:_t?"start":"center",marginTop:_t?2:void 0,children:(0,ie.jsx)(re,{pinId:Te,reactionCounts:Le,viewParameter:156,viewType:3,disableModal:!vt,textSize:Tt?M.n:void 0,textWeight:Tt?"bold":void 0})})})}),Jt&&(0,ie.jsx)(J.xu,{"data-test-id":"callToActionButton",display:Gt?"none":void 0,marginTop:Xt||gt?de:0,children:(0,ie.jsx)(J.kC,{alignItems:"center",direction:"row",justifyContent:_t?"start":"center",width:"100%",children:(0,Z.nk)(t.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,ie.jsx)(J.xu,{display:"inlineBlock",children:(0,ie.jsx)(J.xv,{inline:!0,size:Tt?M.n:"200",children:Et})},"pinCreditsPrefix"),pinCredit:wt?(0,ie.jsx)(J.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,ie.jsx)(J.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),n({action:"click",item:"pin-domain-link"}),(0,X.My)("mweb_pin_page.pin_link.clickthrouh"),vt||(0,X.NC)("click_pin_closeup_link_clickthrough"),y()},tapStyle:"compress",children:(0,ie.jsx)(J.xv,{size:Tt?M.n:"200",weight:m?void 0:"bold",lineClamp:1,children:(0,ie.jsx)("span",{style:m?{textDecoration:"underline"}:{},children:Ce})},"pinLinkDomain")})},"pinCredits"):""})})}),Qt&&(0,ie.jsx)(J.xu,{display:"flex",justifyContent:"phone"===ht?"center":"start",alignItems:"center",marginTop:Xt||gt?de:0,children:(0,ie.jsx)(J.xv,{size:"200",children:t.bt("Pinterest ", "Uploaded to Pinterest", "closeup.details.uploadToPinterest", undefined, true)})}),Ot&&De&&_t&&(0,ie.jsxs)(J.xu,{alignItems:"baseline",display:"flex",direction:"row",marginTop:1,children:[(0,ie.jsx)(J.xv,{size:"500",children:De}),(0,ie.jsx)(J.xu,{marginStart:2,children:(0,ie.jsx)(J.xv,{size:"400",children:Oe?t.bt(" ", "In stock", "closeup.details.productPinInStock", undefined, true):t.bt("", "Out of stock", "Product pin out of stock", undefined, true)})})]}),"all"!==c&&(0,ie.jsxs)(ue,{children:["phone"===ht&&on,St&&(0,ie.jsx)(J.xu,{marginTop:gt||tn?de:0,children:(0,ie.jsx)(s.Z,{onClick:y,hasLink:Kt,lineClamp:zt,pinId:Te,graphqlRef:ct,forceSmallerHeading:Mt&&!m,textAlign:Mt||_t?"start":"center"})})]}),(vt||!_t)&&De&&(0,ie.jsx)(J.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:2,children:(0,ie.jsxs)(J.xv,{children:[De,"  ",Oe?t.bt(" ", "In stock", "closeup.details.productPinInStock", undefined, true):t.bt("", "Out of stock", "Product pin out of stock", undefined, true)]})}),$e&&Ye&&!nn&&(0,ie.jsx)(x.Z,{pinId:Te,graphqlRef:ct,boldText:!1,marginTop:de,textSize:"300",isWideViewport:_t}),"all"!==c&&(0,ie.jsx)(ue,{children:(0,ie.jsx)(h.Z,{options:{threshold:[ce]},onVisibilityChange:Ft?e=>{if(e&&e.length>0&&pt){const{intersectionRatio:t,boundingClientRect:n}=e[0],i=t===ce,a=n.y<0;pt(i||a)}}:()=>{},children:e=>(0,ie.jsxs)(J.xu,{ref:e,children:[(0,ie.jsx)(J.xu,{marginTop:2,children:Ot?(0,ie.jsx)(P.Z,{onClickTitleOrDomain:y,graphqlRef:ct,pinId:Te}):(0,ie.jsx)(o.Z,{collapse:"details"===c,pinId:Te,graphqlRef:ct})}),!Tt&&Xt&&(0,ie.jsx)(u.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,ie.jsx)(w.Z,{children:(0,ie.jsx)(J.xu,{alignSelf:"center",display:"flex",justifyContent:_t?"start":"center",marginTop:_t?2:void 0,children:(0,ie.jsx)(re,{pinId:Te,reactionCounts:Le,viewParameter:156,viewType:3,disableModal:!vt})})})})]})})}),Ft?ut&&ae:Nt&&ae,"phone"!==ht&&on,"phone"!==ht&&(0,ie.jsx)(J.xu,{marginTop:4,children:an}),"desktopParity"===Pt&&(0,ie.jsx)(J.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,ie.jsx)(N.Z,{graphqlRef:ct,onClose:()=>{},pinId:Te})}),!Tt&&"desktopParity"===Pt&&Ht&&Ht.length>0&&(0,ie.jsxs)(i.Fragment,{children:[(0,ie.jsx)(L.Z,{pinId:Te,mode:_t?"inlineWithScrollArrows":"inline",graphqlRef:ct}),rn("desktop"===ht?mt("dweb_more_information").group:"")]}),Ke&&!_t&&(0,ie.jsxs)(i.Fragment,{children:[(0,ie.jsx)(J.xu,{marginTop:de,children:(0,ie.jsx)(J.iz,{})}),(0,ie.jsxs)(J.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,ie.jsx)(J.xv,{inline:!0,size:"200",weight:"bold",children:t.bt(" ", "Promoted Pin", "Denotes promoted pin in closeup", undefined, true)}),(0,ie.jsx)(u.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,ie.jsx)(w.Z,{children:(0,ie.jsx)(pe,{graphqlRef:ct,pinId:Te,promoter:null!=Ne?Ne:"",type:"promoted"})})})]}),(0,ie.jsx)(J.iz,{})]}),$e&&!nn&&(0,ie.jsx)(k.Z,{hash:"recipe",offset:-U.DEFAULT_HEIGHT,children:(0,ie.jsx)(b.ZP,{pinId:Te,graphqlRef:ct})}),(0,ie.jsx)(l.Z,{graphqlRef:ct,pinId:Te}),Number((0,B.qn)("indiaUnauthLocaleShowCount",0))<=3&&!vt&&"phone"===ht&&"IN"===yt&&(ft||"").startsWith("en")&&F.N3.includes(Ct.regionFromIp)&&(0,ie.jsx)(u.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,ie.jsx)(w.Z,{children:(0,ie.jsx)(le,{})})}),(0,ie.jsx)(f.Z,{graphqlRef:ct,isDesktop:_t,pinId:Te})]}),Tt&&"desktopParity"===Pt&&Ht&&Ht.length>0&&(0,ie.jsxs)(i.Fragment,{children:[(0,ie.jsx)(L.Z,{pinId:Te,mode:_t?"inlineWithScrollArrows":"inline",graphqlRef:ct}),rn("desktop"===ht?mt("dweb_more_information").group:"")]}),!vt&&"desktop"===ht&&I&&mt("dweb_lop_gate_comments").anyEnabled&&(0,ie.jsx)(u.Z,{name:"CommentThread",children:(0,ie.jsxs)(J.xu,{paddingX:4,children:[(0,ie.jsx)(J.X6,{size:"400",accessibilityLevel:2,children:t.bt("", "Comments", "desktopPinCloseup.sectionTitle", undefined, true)}),(0,ie.jsx)(d.Z,{isReadOnly:!0,graphqlRef:ct,pinId:Te}),mt("web_lop_comment_composer_upsell").anyEnabled&&(0,ie.jsx)(J.xu,{marginTop:4,children:(0,ie.jsx)($.Z,{commentWarningModalState:$.A.NONE,dismissCommentWarningModal:()=>{},objectType:z.o.pin,onEnter:()=>{Rt({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login"}})},statusType:"textStaticDisplay"})})]})})]});return(0,ie.jsx)(i.Fragment,{children:Yt?(0,ie.jsx)(J.Le,{top:se,children:ln}):ln})}const ge=({pinId:e})=>{var t,n,i,a,o,r,l,s,d,c,u,p,h,_,g,v,y,f,b,x,P,S,w,T,k,E,I,A,C,R,j,D,O,L,N,F,M,z;const U=(0,G.S6)()(e),B=null==U?void 0:U.board,Z=null!=U&&U.promoter&&!U.is_downstream_promotion?U.promoter:null,V=null==U||null===(t=U.rich_metadata)||void 0===t||null===(n=t.products)||void 0===n?void 0:n[0],H=null==U||null===(i=U.rich_summary)||void 0===i||null===(a=i.products)||void 0===a?void 0:a[0],{isAuthenticated:K}=(0,W.B)(),{link_domain:$,native_creator:q,origin_pinner:X,pinner:J}=U||{};let Q=(0,Y.wS)($,q,X,J);const ee=(0,ne.mN)();let te;K||Q||(Q=J),Q&&(te="string"==typeof Q?ee(Q):Q);const ie=!(null==U||!U.closeup_attribution);let ae;return V&&V.name&&V.offer_summary&&(ae=V.offer_summary),!ae&&H&&H.name&&H.offer_summary&&(ae=H.offer_summary),{boardName:null==B?void 0:B.name,boardUrl:null!==(o=null==B?void 0:B.url)&&void 0!==o?o:"",gridTitle:null==U?void 0:U.grid_title,hasLinkDomain:!(null==U||!U.link_domain),hasNativeCreator:!(null==U||!U.native_creator),hasOfficialUser:ie,hasOriginPinner:!(null==U||!U.origin_pinner),hasPin:!!U,hasPinProduct:null!==(r=!!ae)&&void 0!==r&&r,hasPromoter:!!Z,hasRichMetadataArticle:!(null==U||null===(l=U.rich_metadata)||void 0===l||!l.article),hasRichMetadataProductOfferSummary:!(null==V||!V.offer_summary),hasRichMetadataRecipe:!(null==U||null===(s=U.rich_metadata)||void 0===s||!s.recipe),hasRichMetadataRecipeAggregateRating:!(null==U||null===(d=U.rich_metadata)||void 0===d||null===(c=d.recipe)||void 0===c||!c.aggregate_rating),hasRichMetadataRecipeCategorizedIngredients:!(null==U||null===(u=U.rich_metadata)||void 0===u||null===(p=u.recipe)||void 0===p||!p.categorized_ingredients),hasRichMetadataTutorial:!(null==U||null===(h=U.rich_metadata)||void 0===h||!h.tutorial),hasRichSummaryProductOfferSummary:!(null==V||!V.offer_summary),hasSourceUser:!!Q,isEligibleForPdp:null==U?void 0:U.is_eligible_for_pdp,pinDomain:null==U?void 0:U.domain,pinImageOrigUrl:null==U||null===(_=U.images)||void 0===_||null===(g=_.orig)||void 0===g?void 0:g.url,pinJoinAnnotationsWithLinks:null==U||null===(v=U.pin_join)||void 0===v?void 0:v.annotations_with_links,pinJoinVisualAnnotation:null==U||null===(y=U.pin_join)||void 0===y?void 0:y.visual_annotation,pinLink:null==U?void 0:U.link,pinMobileLink:null==U?void 0:U.mobile_link,pinnerFullName:null==U||null===(f=U.pinner)||void 0===f?void 0:f.full_name,pinProductInStock:null===(b=ae)||void 0===b?void 0:b.in_stock,pinProductPrice:ae&&(0,m.Z)(ae),pinReactionCounts:null==U?void 0:U.reaction_counts,pinTitle:null==U?void 0:U.title,pinTrackedLink:null==U?void 0:U.tracked_link,placeSummaryName:null!==(x=null==U?void 0:U.place_summary)&&void 0!==x?x:"",promoterFullName:null==Z?void 0:Z.full_name,richMetadataProductName:null==V?void 0:V.name,richMetadataRecipeFromAggregatedData:null==U||null===(P=U.rich_metadata)||void 0===P||null===(S=P.recipe)||void 0===S?void 0:S.from_aggregated_data,richMetadataTitle:null==U||null===(w=U.rich_metadata)||void 0===w?void 0:w.title,richSummaryDisplayName:null==U||null===(T=U.rich_summary)||void 0===T?void 0:T.display_name,richSummaryProductName:null==H?void 0:H.name,shouldShowAggregatedComments:null==U?void 0:U.is_eligible_for_aggregated_comments,sourceUserBlockedByMe:null===(k=te)||void 0===k?void 0:k.blocked_by_me,sourceUserExplicitlyFollowedByMe:null===(E=te)||void 0===E?void 0:E.explicitly_followed_by_me,sourceUserFollowerCount:null===(I=te)||void 0===I?void 0:I.follower_count,sourceUserFullName:null===(A=te)||void 0===A?void 0:A.full_name,sourceUserId:null===(C=te)||void 0===C?void 0:C.id,sourceUserImageLargeUrl:null===(R=te)||void 0===R?void 0:R.image_large_url,sourceUserimageMediumUrl:null===(j=te)||void 0===j?void 0:j.image_medium_url,sourceUserImageSmallUrl:null===(D=te)||void 0===D?void 0:D.image_small_url,sourceUserIsVerifiedMerchant:null===(O=te)||void 0===O?void 0:O.is_verified_merchant,sourceUserUsername:null===(L=te)||void 0===L?void 0:L.username,sourceUserVerifiedIdentityVerified:null===(N=te)||void 0===N||null===(F=N.verified_identity)||void 0===F?void 0:F.verified,storyPinDataId:null==U?void 0:U.story_pin_data_id,storyPinDataMetadataPinTitle:null==U||null===(M=U.story_pin_data)||void 0===M||null===(z=M.metadata)||void 0===z?void 0:z.pin_title}},ve=({graphqlRef:e})=>{var t,n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f,b,x,P,S,w,T,k,E,A,C,j,D,O,L,N,F,M;const z=(0,ee.useFragment)(he,e),U=(0,R.Z)(z),B=(0,I.Z)(z),Z=(0,ee.useFragment)(me,z.pinner),V=(0,ee.useFragment)(me,z.nativeCreator),H=(0,ee.useFragment)(me,null===(t=z.linkDomain)||void 0===t?void 0:t.officialUser),K=(0,ee.useFragment)(me,z.originPinner),G=(null===(n=z.pinJoin)||void 0===n?void 0:n.visualAnnotation)||[],$=z.board,q=z.promoter&&!z.isDownstreamPromotion?z.promoter:null,Y=null===(i=z.richMetadata)||void 0===i||null===(a=i.products)||void 0===a?void 0:a[0],X=null===(o=z.richSummary)||void 0===o||null===(r=o.products)||void 0===r?void 0:r[0],{isAuthenticated:J}=(0,W.B)();let Q;Q=V||(z.linkDomain?H:K||Z),J||Q||(Q=Z);const te=!!z.closeupAttribution;let ne;return Y&&Y.name&&Y.offerSummary&&(ne=Y.offerSummary),!ne&&X&&X.name&&X.offerSummary&&(ne=X.offerSummary),{boardName:null==$?void 0:$.name,boardUrl:null!==(l=null==$?void 0:$.url)&&void 0!==l?l:"",graphqlRef:z,gridTitle:z.gridTitle,hasLinkDomain:!!z.linkDomain,hasNativeCreator:!!z.nativeCreator,hasOfficialUser:te,hasOriginPinner:!!z.originPinner,hasPin:!!z,hasPinProduct:null!==(s=!!ne)&&void 0!==s&&s,hasPromoter:!!q,hasRichMetadataArticle:!(null===(d=z.richMetadata)||void 0===d||!d.article),hasRichMetadataProductOfferSummary:!(null==Y||!Y.offerSummary),hasRichMetadataRecipe:!(null===(c=z.richMetadata)||void 0===c||!c.recipe),hasRichMetadataRecipeAggregateRating:!(null===(u=z.richMetadata)||void 0===u||null===(p=u.recipe)||void 0===p||!p.aggregateRating),hasRichMetadataRecipeCategorizedIngredients:!(null===(m=z.richMetadata)||void 0===m||null===(h=m.recipe)||void 0===h||!h.categorizedIngredients),hasRichMetadataTutorial:!(null===(_=z.richMetadata)||void 0===_||!_.tutorial),hasRichSummaryProductOfferSummary:!(null==Y||!Y.offerSummary),hasSourceUser:!!Q,isEligibleForPdp:z.isEligibleForPdp,pinDomain:z.domain,pinImageOrigUrl:null===(g=z.origImage)||void 0===g?void 0:g.url,pinJoinAnnotationsWithLinks:B,pinJoinVisualAnnotation:G,pinLink:z.link,pinMobileLink:z.mobileLink,pinnerFullName:null==Z?void 0:Z.fullName,pinProductInStock:null===(v=ne)||void 0===v?void 0:v.inStock,pinProductPrice:null===(y=ne)||void 0===y?void 0:y.price,pinReactionCounts:U,pinTitle:z.title,pinTrackedLink:z.trackedLink,promoterFullName:null==q?void 0:q.fullName,richMetadataProductName:null==Y?void 0:Y.name,richMetadataRecipeFromAggregatedData:null===(f=z.richMetadata)||void 0===f||null===(b=f.recipe)||void 0===b?void 0:b.fromAggregatedData,richMetadataTitle:null===(x=z.richMetadata)||void 0===x?void 0:x.title,richSummaryDisplayName:null===(P=z.richSummary)||void 0===P?void 0:P.displayName,richSummaryProductName:null==X?void 0:X.name,shouldShowAggregatedComments:z.isEligibleForAggregatedComments,sourceUserBlockedByMe:null===(S=Q)||void 0===S?void 0:S.blockedByMe,sourceUserExplicitlyFollowedByMe:null===(w=Q)||void 0===w?void 0:w.explicitlyFollowedByMe,sourceUserFollowerCount:null===(T=Q)||void 0===T?void 0:T.followerCount,sourceUserFullName:null===(k=Q)||void 0===k?void 0:k.fullName,sourceUserId:null===(E=Q)||void 0===E?void 0:E.entityId,sourceUserImageLargeUrl:null===(A=Q)||void 0===A?void 0:A.imageLargeUrl,sourceUserimageMediumUrl:null===(C=Q)||void 0===C?void 0:C.imageMediumUrl,sourceUserImageSmallUrl:null===(j=Q)||void 0===j?void 0:j.imageSmallUrl,sourceUserIsVerifiedMerchant:null===(D=Q)||void 0===D?void 0:D.isVerifiedMerchant,sourceUserUsername:null===(O=Q)||void 0===O?void 0:O.username,sourceUserVerifiedIdentityVerified:null===(L=Q)||void 0===L||null===(N=L.verifiedIdentity)||void 0===N?void 0:N.verified,storyPinDataId:z.storyPinDataId,storyPinDataMetadataPinTitle:null===(F=z.storyPinData)||void 0===F||null===(M=F.metadata)||void 0===M?void 0:M.pinTitle}},ye=(0,c.Z)({useGraphQLAdapter:ve,useLegacyAdapter:ge});function fe({graphqlRef:e,pinId:t,...n}){return(0,ie.jsx)(ye,{input:e?{enabled:!0,data:{graphqlRef:e}}:{enabled:!1,data:{pinId:t}},children:({data:e})=>(0,ie.jsx)(_e,{...n,...e,pinId:t})})}},818750:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(667294),o=n(898781),r=n(52022),l=n(792606),s=n(883119),d=n(867820),c=n(167912),u=n(785893);const p=void 0!==i?i:i=n(697471);function m({pinId:e,graphqlRef:t}){const n=(0,o.ZP)(),i=(0,r.Z)(),[c,p]=(0,a.useState)(!1),m=()=>{(0,d.My)("unauth.topic_page.best_pin.more_info_click");const e=!c;p(e),document.body&&(document.body.style.overflow=e?"hidden":"")};return(0,u.jsxs)(s.xu,{children:[(0,u.jsxs)("button",{"data-test-id":"more-information-button",onClick:()=>{i({action:"click",item:"more-information-button"}),m()},style:{backgroundColor:"transparent",border:0,fontSize:"12px",fontWeight:"bold",height:"13px",letterSpacing:"-0.3px",MozOsxFontSmoothing:"grayscale",outline:"none",padding:0,marginTop:"16px",WebkitFontSmoothing:"antialiased"},children:[n.bt(" ", "More information", "bestpincard.vasetags.moreinformation", undefined, true),"..."]}),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{visibility:c?"":"hidden"}},children:(0,u.jsx)(l.Z,{graphqlRef:t,pinId:e,onClose:m,zIndex:3})})]})}const h=({pinId:e,graphqlRef:t})=>{const n=(0,c.useFragment)(p,t);return(0,u.jsx)(m,{graphqlRef:n,pinId:e})};function _({graphqlRef:e,pinId:t}){return e?(0,u.jsx)(h,{graphqlRef:e,pinId:t}):(0,u.jsx)(m,{pinId:t})}},440011:(e,t,n)=>{n.d(t,{Z:()=>D});var i=n(667294),a=n(702664),o=n(398061),r=n(523657),l=n(926275),s=n(63552),d=n(50286),c=n(898781),u=n(667679),p=n(52022),m=n(867820),h=n(773285),_=n(883119),g=n(785893);function v({setShowClickthroughOverlay:e,isEligibleForPdp:t}){const n=(0,c.ZP)(),a=(0,p.Z)(),o=(0,u.Z)(),r=(0,i.useRef)(),l=(0,d.ZP)(),s="desktop"===l,{checkExperiment:v}=(0,h.F)(),y=n.bt("       .", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),f=n.bt("       .", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),b=n.bt("        .", "Login to save this idea and explore more", "dweb.unauth.plp.clickable_wash.header", undefined, true);let x=f;return s&&(x=v("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?b:y),(0,g.jsx)(_.iP,{onTap:({event:e})=>{s&&(e.preventDefault(),a({action:"click",item:"pin-image"}),(0,m.My)(`dweb.pin.wash.click.${v("dweb_signup_to_login_modal").group}`),o({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:v("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?"login":"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&(0,m.My)("unauth.pdp.pin.img.click",{device:l}))},children:(0,g.jsxs)(_.xu,{zIndex:new _.Ry(2),children:[(0,g.jsx)(_.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",ref:r,"data-test-id":"main-pin-hover-overlay",children:(0,g.jsx)(_.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,g.jsx)(_.xu,{marginTop:8,children:(0,g.jsx)(_.X6,{size:"400",align:"center",color:"light",children:x})})})}),!s&&(0,g.jsx)(_.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,g.jsx)(_.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,m.My)("main.pin.wash.cancel"))},accessibilityLabel:n.bt("    ", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),size:"md"})})]})})}var y=n(349700);function f({setShouldShowDesktopLearningUpsell:e,setHasDismissedDesktopLearningUpsell:t}){const n=(0,c.ZP)(),i=(0,u.Z)(),{checkExperiment:a}=(0,h.F)(),o=a("dweb_unauth_main_pin_learning_upsell").group;return(0,g.jsx)(_.kC,{justifyContent:"center",children:(0,g.jsxs)(_.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:"94%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",rounding:"pill",top:!0,zIndex:new _.Ry(1),children:[(0,g.jsx)(_.iP,{fullHeight:!0,onTap:()=>{(0,m.My)(`unauth.dweb.main_pin.learning_upsell.banner.${o}.click`),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,g.jsxs)(_.kC,{alignItems:"center",height:"100%",children:[(0,g.jsx)(_.xu,{marginStart:2,children:(0,g.jsx)(_.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:20})}),(0,g.jsx)(_.xu,{marginStart:2,children:(0,g.jsx)(_.xv,{children:(0,y.nk)(n.bt("    {{ signup }}    !", "If you like this idea, {{ signup }} to see all the details!", "unauth.dweb.main_pin.learning_upsell.copy", undefined, true),{signup:(0,g.jsx)(_.xv,{inline:!0,weight:"bold",children:n.bt("", "sign up", "unauth.dweb.main_pin.learning_upsell.copy.cta", undefined, true)})})})})]})}),"enabled_hover_dismissible"===o&&(0,g.jsx)(_.xu,{onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},zIndex:new _.Ry(2),children:(0,g.jsx)(_.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:()=>{(0,m.My)("unauth.dweb.main_pin.learning_upsell.close_button.click"),e(!1),t(!0)}})})]})})}var b=n(248041),x=n(411465),P=n(81072),S=n(44846),w=n(744856),T=n(332215),k=n(407043),E=n(780280),I=n(872482),A=n(698330),C=n(691720),R=n(276775);const j=({setMwebTapToZoomExpEnabled:e,isEligibleForTapToZoom:t,children:n})=>{var i;const{isAuthenticated:a}=(0,E.B)(),{checkExperiment:o}=(0,h.F)(),r=(0,c.ZP)(),l=(0,R.useHistory)(),d=(0,R.useRouteMatch)(),u=null===(i=(0,R.useLocation)().state)||void 0===i?void 0:i.trackingParams;return a||t?(0,g.jsx)(s.Z,{onTouch:n=>{if(n.preventDefault(),t||n.stopPropagation(),t&&e){const t=o("unauth_mweb_tap_to_zoom").anyEnabled;if(!t)return;(0,m.My)("unauth.mweb.tap_to_zoom.pin.image.click"),e(t)}l&&d&&d.params&&d.params.id&&l.push(`/pin/${d.params.id}#${w.v}`,{trackingParams:u})},pressState:"compress",fullWidth:!0,accessibilityLabel:r.bt("     .", "Tap on the image to focus visual search", "Flashlight.CloseupImage.TapArea.a11yLabel", undefined, true),children:n}):n},D=e=>{const t=(0,c.ZP)(),{alt:n,clickthroughOverlayOptions:u,color:y,pinId:w,isFlashlightPage:D,naturalHeight:O,naturalWidth:L,placeholder:N,pwtElementTimingId:F,pwtSurfaceContext:M,setShowClickthroughOverlay:z,setShouldShowDesktopLearningUpsell:U,setHasDismissedDesktopLearningUpsell:B,shouldShowDesktopLearningUpsell:Z,showFlashlightIcon:V,showSpinner:H,src:K,viewParameter:G,setMwebTapToZoomExpEnabled:W,isEligibleForTapToZoom:$,isEligibleForPdp:q}=e,Y=(0,x.Z)(),X=(0,R.useHistory)(),J=(0,R.useRouteMatch)(),Q=(0,p.Z)(),{logContextEvent:ee}=(0,k.v)(),{checkExperiment:te}=(0,h.F)(),ne=!Y,{isAuthenticated:ie}=(0,E.B)(),ae=(0,P.Z)(),oe=(0,d.ZP)(),{hasScrolledPastMainContent:re,setHasScrolledPastMainContent:le}=(0,I.a)()||{},se=(0,b.Z)(),de=ie&&"desktop"!==oe&&te("auth_mweb_inline_action_bar").anyEnabled,ce=(0,i.useRef)(),ue=(0,i.useRef)(),[pe,me]=(0,i.useState)(!1),he=(0,a.useSelector)((({feeds:e})=>e[`related-pins:${w||""}`])),_e=(0,A.Tt)(),[ge,ve]=(0,i.useState)(!ne||!!K&&!!N&&N===K),ye=()=>{M&&M.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>ve(!0),e.src=K}),[]),(0,i.useEffect)((()=>{he&&0===he.length&&me(!0)}),[he]),(0,i.useEffect)((()=>{re&&!pe&&me(!0)}),[re,pe]),(0,i.useEffect)((()=>{le&&ce.current&&le(ae>ce.current.offsetTop+ce.current.offsetHeight)}),[ae,le]);const fe=!D&&"tablet"===oe,be=D?40:44,xe=ne?(0,g.jsx)(r.Z,{alt:n,color:y,elementTiming:F,naturalHeight:O,naturalWidth:L,src:N,onLoad:ye}):null,Pe=!!V&&(ie&&!((0,l.Z)(null==_e?void 0:_e.created_at)&&!(0,T.V0)(_e))||!ie&&pe),Se=(0,I.a)(),we=!ie&&"phone"===oe;return(0,g.jsx)(j,{setMwebTapToZoomExpEnabled:W,isEligibleForTapToZoom:$,children:(0,g.jsxs)(_.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:ce.current?ce.current.scrollHeight:void 0,maxWidth:"tablet"===oe?C.g6:void 0,overflow:V?void 0:"hidden",position:"relative",width:D||"phone"===oe?"100%":"desktop"===oe?508:C.Hg,rounding:D||"phone"===oe?0:6,ref:ce,marginTop:"tablet"===oe&&de?12:0,children:[!ie&&Z&&U&&B&&(0,g.jsx)(f,{setShouldShowDesktopLearningUpsell:U,setHasDismissedDesktopLearningUpsell:B}),!ie&&u&&(0,g.jsx)(o.Z,{isImagePinForUnauthOnTablet:!1,children:(0,g.jsx)(v,{setShowClickthroughOverlay:z,isEligibleForPdp:q})}),xe&&(fe?(0,g.jsx)(_.xu,{rounding:6,overflow:"hidden",children:xe}):xe),(0,g.jsx)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:ge?1:0,transition:ge&&"desktop"!==oe?"opacity .5s ease-in-out":void 0,backgroundColor:y}},left:!0,position:ne?"absolute":"relative",right:!0,rounding:fe?6:5,overflow:fe?"hidden":void 0,top:!0,children:ne?(0,g.jsx)(_.Ee,{alt:n,naturalHeight:O,naturalWidth:L,src:K}):(0,g.jsx)(r.Z,{alt:n,color:y,elementTiming:F,naturalHeight:O,naturalWidth:L,src:K,onLoad:ye})}),H&&(0,g.jsx)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:ge?0:1,transition:ge?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!ge&&(0,g.jsx)(_.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(_.$j,{accessibilityLabel:t.bt("  ", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),(Pe||!ie&&!pe&&"desktop"!==oe)&&(0,g.jsx)(_.Le,{bottom:ie&&D?S.Zk:0,zIndex:new _.Ry(0),children:(0,g.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{marginTop:D?-64:-76}},display:"flex",flex:"none",justifyContent:"end",padding:3,position:"relative",children:[!ie&&"desktop"!==oe&&!pe&&(0,g.jsx)(_.xu,{children:(0,g.jsx)(_.iP,{onTap:({event:e})=>{e.stopPropagation(),e.preventDefault(),(0,m.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),se.scrollToPins(!0)},children:(0,g.jsx)(_.kC,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsxs)(_.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",ref:ue,children:[(0,g.jsx)(_.xu,{marginEnd:3,rounding:"pill",color:"default",children:(0,g.jsx)(_.xv,{inline:!0,weight:"bold",children:t.bt("   ", "More like this", "mobilePinPage.relatedPins.title", undefined, true)})}),(0,g.jsx)(_.JO,{accessibilityLabel:t.bt("   ", "Scroll to related pins button", "mobilePinPage.relatedPins.scroll", undefined, true),color:"dark",icon:"arrow-down",inline:!0})]})})})}),Pe&&(0,g.jsx)(_.xu,{display:"inlineBlock",children:(0,g.jsx)(s.Z,{onTouch:e=>{ie||((0,m.My)("mweb_pin_page.flashlight_icon_click"),Q({action:"click",item:"visual-search-icon",within:"pin-image"})),e.preventDefault(),e.stopPropagation(),ee({component:128,element:234,event_type:102,view_parameter:G,view_type:3}),we&&Se?Se.setShouldShowVisualSearchAppUpsell(!0):X&&J&&J.params&&J.params.id&&X.push(`/pin/${J.params.id}/visual-search/`)},pressState:"compress",children:(0,g.jsx)(_.xu,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",height:be,justifyContent:"center",padding:1,rounding:"pill",width:be,children:(0,g.jsx)(_.JO,{accessibilityLabel:t.bt(" ", "Visual search", "Button to search for visually similar Pins", undefined, true),color:"dark",icon:"flashlight",size:24})})})})]})})]})})}},160026:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(898781),o=n(759177),r=n(883119),l=n(773285),s=n(350118),d=n(167912),c=n(785893);const u=void 0!==i?i:i=n(494689),p=({embedsrc:e,pinImgSrc:t})=>{const n=(0,a.ZP)(),{checkExperiment:i}=(0,l.F)(),o={},s="/embed/";if(e&&e.includes("youtube")&&e.includes(s)&&i("web_load_youtube_image_preview").anyEnabled){const n=e.indexOf(s)+s.length,a=e.indexOf("?"),r=e.slice(n,a),l=i("web_load_youtube_image_preview").group;"enabled_sd"===l?o.background=`url("https://i.ytimg.com/vi/${r}/sddefault.jpg")`:"enabled_internal"===l&&(o.background=`url("${t||""}")`),o.backgroundSize="cover",o.backgroundPosition="center"}return(0,c.jsx)(r.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:o.background,backgroundSize:o.backgroundSize,backgroundPosition:o.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,c.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:null==e?void 0:e.replace("http://","https://"),style:{width:"100%",height:"100%",position:"absolute",border:0},title:n.bt(" ", "Embedded content", "Embedded iframe accessibility title", undefined, true)})})},m=({graphqlRef:e})=>{var t;const n=(0,d.useFragment)(u,e),i=(0,o.Z)(n),{embed:a}=n,r=i?null===(t=i["736x"])||void 0===t?void 0:t.url:"";return(0,c.jsx)(p,{embedsrc:null==a?void 0:a.src,pinImgSrc:r})},h=({pinId:e})=>{var t;const n=(0,s.S6)()(e),{embed:i,images:a}=null!=n?n:Object.freeze({});return(0,c.jsx)(p,{embedsrc:null==i?void 0:i.src,pinImgSrc:a?null===(t=a["736x"])||void 0===t?void 0:t.url:void 0})};function _({graphqlRef:e,pinId:t}){return e?(0,c.jsx)(m,{graphqlRef:e}):(0,c.jsx)(h,{pinId:t})}},775029:(e,t,n)=>{n.d(t,{Z:()=>X});var i=n(667294),a=n(702664),o=n(49895),r=n(29066),l=n(160026),s=n(50305),d=n(725214),c=n(555069),u=n(583281),p=n(240684),m=n(208901),h=n(121151),_=n(747593),g=n(215317),v=n(430323),y=n(856306),f=n(898781),b=n(52022),x=n(861411),P=n(305324),S=n(538232),w=n(407043),T=n(571577),k=n(773285),E=n(350118),I=n(385740),A=n(50286),C=n(276602),R=n(780280),j=n(780679),D=n(867820),O=n(350576),L=n(883119),N=n(167912),F=n.n(N),M=n(623568),z=n(108712),U=n(276775),B=n(785893),Z;const V=(0,p.ZP)({resolved:{},chunkName:()=>"CloseupVideo",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91564).then(n.bind(n,528281)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 528281}}),H=(0,p.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(66508),n.e(43815),n.e(29164)]).then(n.bind(n,209096)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 209096}}),K=(0,p.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnMobile",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(66508),n.e(43815),n.e(31954),n.e(34258)]).then(n.bind(n,485886)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 485886}}),G=(0,p.ZP)({resolved:{},chunkName:()=>"SEODebugModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91576).then(n.bind(n,243155)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 243155}}),W=void 0!==Z?Z:Z=n(506803);function $({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,closeupIsFirstPageInHistoryStack:n,isSendPinModalOpen:p,isImagePinForUnauthOnTablet:_,onLinklessPinTap:E,onMoreButtonClick:N,onSendPin:F,pinCloseupExperience:Z,pinnedToBoardId:W,shouldShowReactions:$,shouldShowSEOPinInfo:q,trimmedUserNote:Y,viewerId:X,pinActionBar:J,hideMetadata:Q,graphqlRef:ee,pinId:te,hasPin:ne,hasBoard:ie,hasVideoList:ae,hasImages:oe,hasProductAdditionalImages:re,isEligibleForPdp:le,isV1IdeaPin:se,pinMobileLink:de,pinTrackedLink:ce,pinLink:ue,pinImageLargeUrl:pe,embedSrc:me,embedSubtype:he,embedType:_e,pinnerId:ge,setMwebTapToZoomExpEnabled:ve,isEligibleForTapToZoom:ye,isActionBarInline:fe,setIsActionBarInline:be}){var xe;const{isAuthenticated:Pe,isBot:Se}=(0,R.B)(),{seoDebug:we}=(0,a.useSelector)((({session:e})=>e)),Te=(0,f.ZP)(),{clientTrackingParams:ke,isStoryPin:Ee,viewParameter:Ie}=(0,S.R)(),Ae=(0,U.useLocation)(),Ce=(0,U.useHistory)(),Re=(0,T.H)(),je=(0,C.EV)(),De=(0,A.HG)(),Oe=(0,b.Z)(),{logContextEvent:Le}=(0,w.v)(),{viewType:Ne}=(0,I.SU)(),{checkExperiment:Fe}=(0,k.F)(),Me=!Pe&&De&&Fe("dweb_unauth_main_pin_learning_upsell").anyEnabled,ze=!Pe&&De?Fe("dweb_unauth_main_pin_learning_upsell").group:"",[Ue,Be]=(0,i.useState)(!1),[Ze,Ve]=(0,i.useState)(!1),[He,Ke]=(0,i.useState)(!1),[Ge,We]=(0,i.useState)(!1),[$e,qe]=(0,i.useState)(!0);(0,i.useEffect)((()=>{We(!1),qe(!0)}),[te]),(0,i.useEffect)((()=>{Me&&(Be(!1),Ve(!1))}),[Me,Ae.pathname]);const Ye=ne&&(0,M.rM)({mobileLink:de,trackedLink:ce,link:ue}),Xe=(0,y.ZP)({clickthroughInterstitialExperience:t,linklessOptions:Ye?{actionBarIsMinifiedToMainPinImage:e,onTap:E}:void 0,pinId:te}),Je=(0,j.g)(),Qe=null==Je?void 0:Je.pinLinkClickHandler,[et,tt]=(0,i.useState)(null),nt=!!et,it=()=>{Xe(),Qe&&Qe()},at=()=>{(0,D.NC)("click_pin_closeup_image"),Oe({action:"click",item:"pin-image"}),(0,m.Z)((de?"mobile":ce&&"tracked")||ue&&"external"||"original"),!Pe&&He?(Le({event_type:10439,element:13319,component:14215,view_type:Ne,view_data:Ie,aux_data:{upsell_reason:"click_pin_closeup_image"}}),Ce.push("/signup"),(0,D.My)("main.pin.wash.click")):Pe?ne&&(0,O.RX)(de)&&!Ye?Ce.push({...Ae,hash:O.rV}):Xe():((0,D.My)("main.pin.wash.show"),Ke(!He))},ot=ae,rt=ge===X,lt=(0,a.useDispatch)(),st=(0,a.useSelector)((({pinNavContext:e})=>(null==e?void 0:e.pinId)!==te?{}:e),((e,t)=>(null==e?void 0:e.pinId)===(null==t?void 0:t.pinId)));(0,i.useEffect)((()=>{null!=st&&st.pinId&&st.pinId!==te&&lt((0,z.H)())}),[]);const dt=re;if(!ne)return null;const ct=!Pe&&!Se&&!De&&dt,ut=(0,B.jsxs)(i.Fragment,{children:[we&&$e&&(0,B.jsx)(G,{entityId:te,entityType:"pin",setShowSeoDebugModule:qe}),e&&(0,B.jsx)(u.Z,{onMoreButtonTap:N,onSendButtonTap:F}),ne&&ie&&Ee?De?(0,B.jsx)(H,{pinId:te,graphqlRef:ee}):(0,B.jsxs)(i.Fragment,{children:[(0,B.jsx)(K,{clientTrackingParams:ke,pinId:te,pinCloseupExperience:Z,pinnedByViewer:rt,pinnedToBoardId:W,trimmedUserNote:Y,viewParameter:Ie,viewType:3,graphqlRef:ee}),!_&&(0,B.jsx)(r.Z,{pinId:te,isStoryPin:!0,hideMetadata:Q,onClickTitleOrDomain:Pe?at:it,shouldShowReactions:$,shouldShowSEOPinInfo:q,viewParameter:Ie,graphqlRef:ee,isActionBarInline:fe,setIsActionBarInline:be})]}):(0,B.jsx)(o.Z,{isShowingBreadcrumbs:!(Pe||Ee&&!De),sideBySideOptions:"lg"===Re||De?{mainImageEventHandlers:ot?void 0:De?{onMouseEnter:()=>{ze.startsWith("enabled_hover")&&!Ze?((0,D.My)(`unauth.dweb.main_pin.learning_upsell.${ze}.show`),Be(!0)):Me||Ke(!0)},onMouseLeave:()=>{ze.startsWith("enabled_hover")?((0,D.My)(`unauth.dweb.main_pin.learning_upsell.${ze}.hide`),Be(!1)):Me||Ke(!1)},onTouch:()=>{"enabled_click"===ze&&((0,D.My)("unauth.dweb.main_pin.learning_upsell.enabled_click."+(Ue?"hide":"show")),Be(!Ue))}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),at()}}}:null,media:(0,B.jsx)(v.Z,{clientTrackingParams:ke,component:85,viewParameter:Ie,children:ot?(0,B.jsx)(V,{isAuthenticated:Pe,isFirstPageInHistoryStack:n,isSendPinModalOpen:p,onSendPin:F,pinId:te,graphqlRef:ee,handleVideoTimeChange:e=>{lt((0,z.k)({pinId:te,video:{elapsedTime:e}}))},startTimeAt:null==st||null===(xe=st.video)||void 0===xe?void 0:xe.elapsedTime}):(0,M.cL)({embedSrc:me,embedSubtype:he,embedType:_e})?(0,B.jsx)(l.Z,{graphqlRef:ee,pinId:te}):ct||Pe&&le&&dt?(0,B.jsx)(g.Z,{graphqlRef:ee,pinId:te,viewParameter:Ie,pwtSurfaceContext:je,unauthLazyLoad:!!ct,setMwebTapToZoomExpEnabled:ve,isEligibleForTapToZoom:ye}):oe?(0,B.jsx)(P.g,{viewType:3,viewParameter:Ie,useGraphql:!!ee,children:(0,B.jsx)(s.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:He?it:void 0,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),nt||at()},shouldShowSEOPinInfo:q,viewParameter:Ie,setShowClickthroughOverlay:Ke,setHasDismissedDesktopLearningUpsell:Ve,setShouldShowDesktopLearningUpsell:Be,shouldShowDesktopLearningUpsell:Ue,mwebContextMenuState:et,setMwebContextMenuState:tt,pinId:te,graphqlRef:ee,setMwebTapToZoomExpEnabled:ve,isEligibleForTapToZoom:ye})}):(0,B.jsx)(i.Fragment,{children:null})}),detail:(0,B.jsx)(r.Z,{hideMetadata:Q,pinId:te,isImagePinForUnauthOnTablet:_,onClickTitleOrDomain:it,pinActionBar:e?null:J,shouldShowReactions:$,shouldShowSEOPinInfo:q,viewParameter:Ie,viewerId:X,graphqlRef:ee,isActionBarInline:fe,setIsActionBarInline:be})}),!Pe&&(0,B.jsx)(c.Z,{pinId:te,graphqlRef:ee}),se&&!Ge&&(0,B.jsx)(h.ZP,{accessibilityModalLabel:"",mobileIsSlideUp:!0,isOpen:!0,onDismiss:()=>{Le({event_type:102,view_type:3,view_parameter:Ie,element:12511}),We(!0)},mobileHideCloseIcon:!0,children:(0,B.jsx)(L.xu,{rounding:6,padding:9,marginBottom:3,color:"default",children:(0,B.jsxs)(L.kC,{gap:{row:0,column:4},direction:"column",alignItems:"center",justifyContent:"center",children:[(0,B.jsx)(L.xv,{align:"center",children:Te.bt("               .", "This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.", "storyPinCloseup.MobileModal.V1DeprecationMessage", undefined, true)}),(0,B.jsx)(L.zx,{color:"red",text:Te.bt("", "Got it", "storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton", undefined, true),onClick:()=>{Le({event_type:102,view_type:3,view_parameter:Ie,element:12511}),We(!0)}})]})})})]});return(0,B.jsx)(x.dL,{auxData:{closeup_navigation_type:(0,d.Z)(Ce)},component:85,loggingId:te,impressionData:{imageURL:pe,type:13},trackingParams:ke,slotIndex:-1,viewData:{pin_id:te},viewParameter:Ie,viewType:3,children:({impressionTrackerRef:e})=>(0,B.jsx)(L.xu,{"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",ref:e,children:ut})},te)}function q({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l,s,d,c,u,p,m;const h=(0,N.useFragment)(W,e),_=null===(i=h.richMetadata)||void 0===i||null===(a=i.products)||void 0===a?void 0:a[0],g=Number(null==_||null===(o=_.additionalImageSpec_236x)||void 0===o?void 0:o.length)>0||Number(null==_||null===(r=_.additionalImageSpec_474x)||void 0===r?void 0:r.length)>0||Number(null==_||null===(l=_.additionalImageSpec_564x)||void 0===l?void 0:l.length)>0||Number(null==_||null===(s=_.additionalImageSpec_736x)||void 0===s?void 0:s.length)>0;return(0,B.jsx)($,{...n,pinId:t,hasPin:!!h,hasBoard:!!h.board,hasVideoList:!(null===(d=h.videos)||void 0===d||!d.videoList),hasImages:!!h.imageSpec_orig,isEligibleForPdp:h.isEligibleForPdp,isV1IdeaPin:h.isV1IdeaPin,pinMobileLink:h.mobileLink,pinTrackedLink:h.trackedLink,pinLink:h.link,pinImageLargeUrl:h.imageLargeUrl,embedSrc:null===(c=h.embed)||void 0===c?void 0:c.src,embedSubtype:null===(u=h.embed)||void 0===u?void 0:u.subtype,embedType:null===(p=h.embed)||void 0===p?void 0:p.type,pinnerId:null===(m=h.pinner)||void 0===m?void 0:m.entityId,hasProductAdditionalImages:g,graphqlRef:h})}function Y({pinId:e,...t}){var n,i,a,o,r,l,s,d;const c=(0,E.S6)()(e);return(0,B.jsx)($,{...t,pinId:e,hasPin:!!c,hasBoard:!(null==c||!c.board),hasVideoList:!(null==c||null===(n=c.videos)||void 0===n||!n.video_list),hasImages:!(null==c||!c.images),isEligibleForPdp:null==c?void 0:c.is_eligible_for_pdp,isV1IdeaPin:null==c?void 0:c.is_v1_idea_pin,pinMobileLink:null==c?void 0:c.mobile_link,pinTrackedLink:null==c?void 0:c.tracked_link,pinLink:null==c?void 0:c.link,pinImageLargeUrl:null==c?void 0:c.image_large_url,embedSrc:null==c||null===(i=c.embed)||void 0===i?void 0:i.src,embedSubtype:null==c||null===(a=c.embed)||void 0===a?void 0:a.subtype,embedType:null==c||null===(o=c.embed)||void 0===o?void 0:o.type,pinnerId:null==c||null===(r=c.pinner)||void 0===r?void 0:r.id,hasProductAdditionalImages:Number(null==c||null===(l=c.rich_metadata)||void 0===l||null===(s=l.products)||void 0===s||null===(d=s[0].additional_images)||void 0===d?void 0:d.length)>0})}function X({graphqlRef:e,...t}){return e?(0,B.jsx)(q,{...t,graphqlRef:e}):(0,B.jsx)(Y,{...t})}},50305:(e,t,n)=>{n.d(t,{B:()=>I,Z:()=>O});var i,a=n(667294),o=n(440011),r=n(166300),l=n(248975),s=n(594353),d=n(63552),c=n(898781),u=n(759177),p=n(690035),m=n(883119),h=n(992750),_=n(464609),g=n(623568),v=n(867820),y=n(538232),f=n(350118),b=n(276602),x=n(780280),P=n(305324),S=n(872482),w=n(874317),T=n(50286),k=n(167912),E=n(785893);const I="236x",A=void 0!==i?i:i=n(23433),C=({children:e,onTouch:t})=>{const n=(0,T.HG)();return(0,E.jsx)(r.Z,{roundedForLargeDevice:!0,children:n?e:(0,E.jsx)(d.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"compress",fullWidth:!0,children:e})})};function R({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:i,setShouldShowDesktopLearningUpsell:r,setHasDismissedDesktopLearningUpsell:d,shouldShowDesktopLearningUpsell:u,shouldShowSEOPinInfo:f,viewParameter:k,mwebContextMenuState:A,setMwebContextMenuState:R,images:j,embedSrc:D,embedType:O,description:L,descriptionHtml:N,altText:F,dominantColor:M,pinId:z,domain:U,pinJoinVisualAnnotation:B,pinnerConnectionType:Z,hasPromoter:V,graphqlRef:H,setMwebTapToZoomExpEnabled:K,isEligibleForTapToZoom:G,isEligibleForPdp:W}){var $,q,Y;const X=(0,c.ZP)(),J=(0,b.EV)(),Q=(0,y.R)(),ee=(0,T.HG)(),te=(0,T.ml)(),ne=(0,P.M)(),ie=(0,p.Z)(),ae=(null==j?void 0:j[I])||(null==j?void 0:j["136x136"]),oe=ae&&!(null!=j&&j[I]),{isAuthenticated:re,isBot:le,countryFromIp:se,userAgent:{platform:de}}=(0,x.B)();let ce="736x";(0,s.Z)(se||"",le,ee)&&["Dialup","Cellular"].includes(Z)&&(ce="236x");const ue=(0,l.Z)({images:j,embedSrc:D,embedType:O,preferredResolution:ee?void 0:ce}),pe=(0,h.hP)(null!=L?L:"",N||"",B,F||""),me=f?pe:X.bt(" ", "Pin image", "Pin closeup image", undefined, true),he=(0,a.useRef)(null),_e=(0,T.ZP)(),ge=`${de}.${_e}`,ve=!re&&!ee&&["ios","ipad","android"].includes(de),ye=(0,a.useRef)(Date.now()),fe=(0,a.useRef)(null),be=!re&&te&&["ios","android"].includes(de),xe=!re&&te&&["ios","android"].includes(de),Pe=(0,S.a)(),{shouldShowLearningUpsell:Se,setShouldShowLearningUpsell:we}=null!=Pe?Pe:Object.freeze({});return(0,E.jsx)(m.xu,{position:"relative",width:"100%",ref:he,children:(0,E.jsx)(C,{onTouch:()=>{ve&&R(null),xe&&we?(Se?(0,v.My)("learning.upsell.tap.hide"):(0,v.My)("learning.upsell.tap.show"),we(!Se)):n(),ve&&(0,v.My)(`unauth.mweb.${ge}.pin.image.touch`),!re&&W&&(0,v.My)("unauth.pdp.pin.img.click",{device:_e})},children:(0,E.jsxs)(m.xu,{display:"flex",justifyContent:"center",onContextMenu:e=>{!re&&W&&(0,v.My)("unauth.pdp.pin.context_menu.open",{device:_e}),ee?ne({pinId:z,deviceOptions:{isDesktop:!0,isMainPinImage:!0}})(e):(e=>{e.preventDefault(),e.stopPropagation(),(0,v.My)((re?"auth":"unauth")+".mweb_pin_closeup_page.pin_image.long_press")})(e)},onTouchStart:e=>{if((ve||be)&&(e.stopPropagation(),ye.current=Date.now(),(0,v.My)(`unauth.mweb.${ge}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(fe.current={x:t.clientX,y:t.clientY})}},onTouchMove:e=>{be&&e.stopPropagation()},onTouchEnd:e=>{if(!ve&&!be)return;e.stopPropagation(),(0,v.My)(`unauth.mweb.${ge}.pin.image.touch.end`);const t=Date.now()-ye.current>500;let n=!1;const i=fe.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const t=e.changedTouches.item(0),a=t.clientX-i.x,o=t.clientY-i.y;n=t&&Math.pow(a,2)+Math.pow(o,2)>100}ve&&t&&!n&&(R(null),(e=>{if(e.preventDefault(),re||ee){if((0,v.My)("unauth.mweb.context_menu.open_menu"),e.changedTouches&&e.changedTouches.length>0){const t=e.changedTouches.item(0);if(t&&he.current){const e=he.current.getBoundingClientRect(),n=Math.min(t.clientX-e.left,e.width-250),i=t.clientY-e.top;R({xPosition:n,yPosition:i,context:"main"})}}}else ie({pinId:z,location:"main-pin-long-press"})})(e),(0,v.My)(`unauth.mweb.${ge}.pin.image.long.touch`))},dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},children:[A&&!ee&&(0,E.jsx)(w.ZP,{mwebContextMenuState:A,setMwebContextMenuState:R,pinId:z,graphqlRef:H}),(0,E.jsx)(o.Z,{alt:me,color:M||"#efefef",pinId:z,naturalHeight:null!==($=null==ae?void 0:ae.height)&&void 0!==$?$:1,naturalWidth:null!==(q=null==ae?void 0:ae.width)&&void 0!==q?q:1,clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===U?X.bt(" ", "Uploaded by user", "pin.default_domain", undefined, true):U||""}:void 0,setShowClickthroughOverlay:i,placeholder:null!==(Y=null==ae?void 0:ae.url)&&void 0!==Y?Y:"",pwtElementTimingId:_.f,pwtSurfaceContext:J,setShouldShowDesktopLearningUpsell:r,shouldShowDesktopLearningUpsell:u,setHasDismissedDesktopLearningUpsell:d,showFlashlightIcon:!(ee||t||Q.isAuthenticated&&(V||(0,g.sY)(O)||e)),showSpinner:Boolean(oe),src:ue,viewParameter:k,setMwebTapToZoomExpEnabled:K,isEligibleForTapToZoom:G,isEligibleForPdp:W},z)]})})})}function j({graphqlRef:e,pinId:t,...n}){var i,a;const o=(0,k.useFragment)(A,e),r=(0,u.Z)(o),l=o.promoter&&!o.isDownstreamPromotion?o.promoter:null;return(0,E.jsx)(m.xu,{children:(0,E.jsx)(R,{...n,embedSrc:o.embed&&o.embed.src,embedType:o.embed&&o.embed.type,images:r,description:o.description,descriptionHtml:o.descriptionHtml,altText:o.altText,dominantColor:o.dominantColor,pinId:t,domain:o.domain,pinJoinVisualAnnotation:null===(i=o.pinJoin)||void 0===i?void 0:i.visualAnnotation,pinnerConnectionType:null===(a=o.pinner)||void 0===a?void 0:a.connectionType,hasPromoter:!!l,isEligibleForPdp:Boolean(o.isEligibleForPdp),graphqlRef:o})})}function D({pinId:e,...t}){var n,i,a,o;const r=(0,f.S6)()(e),l=null!=r&&r.promoter&&!r.is_downstream_promotion?r.promoter:null;return(0,E.jsx)(R,{...t,embedSrc:null==r||null===(n=r.embed)||void 0===n?void 0:n.src,embedType:null==r||null===(i=r.embed)||void 0===i?void 0:i.type,images:null==r?void 0:r.images,description:null==r?void 0:r.description,descriptionHtml:null==r?void 0:r.description_html,altText:null==r?void 0:r.alt_text,dominantColor:null==r?void 0:r.dominant_color,pinId:e,domain:null==r?void 0:r.domain,pinJoinVisualAnnotation:null==r||null===(a=r.pin_join)||void 0===a?void 0:a.visual_annotation,pinnerConnectionType:null==r||null===(o=r.pinner)||void 0===o?void 0:o.connection_type,hasPromoter:!!l,isEligibleForPdp:Boolean(null==r?void 0:r.is_eligible_for_pdp)})}function O({graphqlRef:e,...t}){return e?(0,E.jsx)(j,{...t,graphqlRef:e}):(0,E.jsx)(D,{...t})}},733867:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(725214),r=n(886076),l=n(542554),s=n(156637),d=n(430323),c=n(609875),u=n(248041),p=n(350118),m=n(276775),h=n(538232),_=n(167912),g=n(785893);const v=void 0!==i?i:i=n(342485),y=({children:e,closeupPageContext:t,hasFixedHeader:n,imageSignature:i,isEligibleForPdp:p,isOosProduct:_,isStaleProduct:v,pinId:y,shoppingFlags:f,hasGutter:b,showAuthDrawer:x,graphqlRef:P})=>{const S=(0,r.Z)({isEligibleForPdp:p,isOosProduct:_,isStaleProduct:v,pinShoppingFlags:f}),w=(0,m.useHistory)(),T=(0,a.useMemo)((()=>{const{isStoryPin:e}=t;return!!x&&!e}),[t,x]);return(0,g.jsx)(s.Z,{auxData:{closeup_navigation_type:(0,o.Z)(w),commerce_data:S},clientTrackingParams:t.clientTrackingParams,objectIdStr:y,viewData:{pin_id:y,closeup_rich_types:f||[],image_signature:i||null},viewParameter:t.viewParameter,viewType:3,component:13283,children:(0,g.jsx)(d.Z,{view:3,objectId:y,clientTrackingParams:t.clientTrackingParams,children:(0,g.jsx)(h.q,{value:t,children:(0,g.jsx)(c.Z,{graphqlRef:P,children:(0,g.jsx)(l.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:n,hasGutter:b,children:(0,g.jsx)(u.t,{isEligible:T,children:e})})})})})})};function f(e){const t=(0,p.S6)()(e.pinId);return(0,g.jsx)(y,{...e,imageSignature:null==t?void 0:t.image_signature,isEligibleForPdp:null==t?void 0:t.is_eligible_for_pdp,isOosProduct:null==t?void 0:t.is_oos_product,isStaleProduct:null==t?void 0:t.is_stale_product,shoppingFlags:null==t?void 0:t.shopping_flags,graphqlRef:null})}function b({graphqlRef:e,...t}){var n;const i=(0,_.useFragment)(v,e);return(0,g.jsx)(y,{...t,imageSignature:i.imageSignature,isEligibleForPdp:i.isEligibleForPdp,isOosProduct:i.isOosProduct,isStaleProduct:i.isStaleProduct,shoppingFlags:null!==(n=i.shoppingFlags)&&void 0!==n?n:[],graphqlRef:i})}function x({graphqlRef:e,...t}){return e?(0,g.jsx)(b,{graphqlRef:e,...t}):(0,g.jsx)(f,{...t})}},538232:(e,t,n)=>{n.d(t,{R:()=>o,q:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("CloseupPageContext")},584902:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(240684),a=n(883119),o=n(538232),r=n(167912),l=n.n(r),s=n(785893),d;const c=(0,i.ZP)({resolved:{},chunkName:()=>"CloseupRelatedModules-CloseupRelatedModulesContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(266).then(n.bind(n,346169)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 346169}}),u=(0,i.ZP)({resolved:{},chunkName:()=>"UnauthCloseupRelatedPins",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(75676).then(n.bind(n,195620)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 195620}}),p=void 0!==d?d:d=n(298468);function m({graphqlRef:e,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:i,marginTop:a,isProductPin:l,feedData:d,setFeedData:m}){const{isAuthenticated:h}=(0,o.R)(),_=(0,r.useFragment)(p,e);return h?(0,s.jsx)(c,{graphqlRef:_,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:i,marginTop:a}):(0,s.jsx)(u,{graphqlRef:_,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:i,feedData:d,setFeedData:m,isProductPin:l})}},266224:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(116303),o=n(898781),r=n(19121),l=n(349700),s=n(350118),d=n(883119),c=n(167912),u=n(785893);const p=void 0!==i?i:i=n(96336);function m({boardLayout:e,boardName:t,boardUrl:n,pinnerId:i,sectionTitle:s,sectionSlug:c}){const p=(0,o.ZP)(),m=(0,r.Z)(),h=!("quick_creates"!==e);if(!(m.id===i)||h||!m.isAuth)return null;const{imageMediumUrl:_,username:g}=m||{};let v;if(s&&c){const e=`${null!=n?n:""}${c}/`;v=(0,l.nk)(p.bt("{{ you }} {{ sectionName }} {{ savedTo }}", "{{ you }} {{ savedTo }} {{ sectionName }}", "closeup.savedAttribution.section", undefined, true),{you:(0,u.jsx)(d.xu,{display:"inlineBlock",marginEnd:1,children:(0,u.jsx)(d.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:p.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},g),savedTo:(0,u.jsx)(d.xu,{children:(0,u.jsx)(d.xv,{size:"300",children:p.bt("", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),sectionName:(0,u.jsx)(d.xu,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(d.rU,{href:e,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",lineClamp:1,children:s})},"section")},e)})}else v=(0,l.nk)(p.bt("{{ you }} {{ boardName }} {{ savedTo }}", "{{ you }} {{ savedTo }} {{ boardName }}", "closeup.savedAttribution.board", undefined, true),{you:(0,u.jsx)(d.xu,{display:"inlineBlock",marginEnd:1,children:(0,u.jsx)(d.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(d.xv,{inline:!0,size:"300",weight:"bold",children:p.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},g),savedTo:(0,u.jsx)(d.xu,{children:(0,u.jsx)(d.xv,{size:"300",children:p.bt("", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),boardName:(0,u.jsx)(d.xu,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(d.rU,{href:null!=n?n:"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(d.xv,{inline:!0,size:"300",weight:"bold",children:null!=t?t:""})},"author")},null!=n?n:"")});return(0,u.jsxs)(d.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:12,"data-test-id":"saved-attribution",children:[(0,u.jsx)(d.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,u.jsx)(d.iP,{rounding:"circle",children:(0,u.jsx)(d.rU,{href:`/${g}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(a.Z,{size:"md",name:g,src:null!=_?_:""})},"profile")})}),(0,u.jsx)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,u.jsx)(d.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:v})})]})}const h=({graphqlRef:e})=>{const t=(0,c.useFragment)(p,e),{board:n,pinner:i,section:a}=t;return(0,u.jsx)(m,{boardLayout:null==n?void 0:n.layout,boardName:null==n?void 0:n.name,boardUrl:null==n?void 0:n.url,pinnerId:null==i?void 0:i.entityId,sectionTitle:null==a?void 0:a.title,sectionSlug:null==a?void 0:a.slug})},_=({pinId:e})=>{const t=(0,s.S6)()(e),{board:n,pinner:i,section:a}=null!=t?t:Object.freeze({});return(0,u.jsx)(m,{boardLayout:null==n?void 0:n.layout,boardName:null==n?void 0:n.name,boardUrl:null==n?void 0:n.url,pinnerId:null==i?void 0:i.id,sectionTitle:null==a?void 0:a.title,sectionSlug:null==a?void 0:a.slug})};function g({graphqlRef:e,pinId:t}){return e?(0,u.jsx)(h,{graphqlRef:e}):(0,u.jsx)(_,{pinId:t})}},693582:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(619623);const o="undefined"!=typeof window&&window.innerWidth-32||400,r=40,l=40,s=e=>[{name:`${e}closeup`,width:o,height:o},{name:`${e}title`,width:o,height:24},{name:`${e}attribution`,width:l,height:r},{name:`${e}credit`,width:o-l-8,height:40},{name:`${e}visit_button`,width:o,height:40},{name:`${e}pin_grid_pin`,width:(o-32)/2,height:100}].map((({name:e,width:t,height:n})=>(0,a.Z)({name:e,width:t,height:n}))).join("");var d=n(391254),c=n(898781),u=n(780280),p=n(883119),m=n(785893);const h="CloseupPageSkeletonLoader__",_=()=>{const e=(0,c.ZP)(),{isAuthenticated:t}=(0,u.B)();return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(d.Z,{unsafeCSS:s(h)}),(0,m.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(p.xu,{marginTop:4,marginEnd:3,children:(0,m.jsx)("div",{className:h+"closeup"})}),(0,m.jsx)(p.xu,{marginTop:3,children:(0,m.jsx)("div",{className:h+"title"})}),(0,m.jsxs)(p.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,m.jsx)(p.xu,{children:(0,m.jsx)("div",{className:h+"attribution"})}),(0,m.jsx)(p.xu,{marginStart:2,children:(0,m.jsx)("div",{className:h+"credit"})})]}),(0,m.jsx)(p.xu,{marginTop:3,children:(0,m.jsx)(p.iz,{})})]}),(0,m.jsx)(p.xu,{marginBottom:3,marginTop:2,children:(0,m.jsx)(p.xv,{weight:"bold",align:t?void 0:"center",children:e.bt("   ", "More like this", "On mobile web pin page, title for related pins beneath pin closeup", undefined, true)})}),(0,m.jsxs)(p.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,m.jsx)(p.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,m.jsx)("div",{className:h+"pin_grid_pin"})}),(0,m.jsx)(p.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,m.jsx)("div",{className:h+"pin_grid_pin"})})]})]})]})}},40995:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(926275),o=n(63552),r=n(954063),l=n(862193),s=n(50286),d=n(313047),c=n(992750),u=n(350118),p=n(780280),m=n(698330),h=n(867820),_=n(883119),g=n(167912),v=n(785893);const y=({children:e,handleTap:t})=>t?(0,v.jsx)(o.Z,{onTouch:t,pressState:"compress",children:e}):e,f=void 0!==i?i:i=n(220271);function b({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:o,gridTitle:l,richSummaryDisplayName:u,richMetadataTitle:g,storyPinDataId:f,storyPinDataMetadataPinTitle:b,placeSummaryName:x,pinJoinVisualAnnotation:P,pinJoinAnnotationsWithLinks:S,lineClamp:w}){const T=(0,s.ZP)(),{isAuthenticated:k,isBot:E}=(0,p.B)(),I=(0,m.Tt)(),A=(0,a.Z)(null==I?void 0:I.created_at)&&!(null!=I&&I.is_matured_new_user),C=n||A,R=(0,c.Ly)({pinTitle:o,gridTitle:l,richSummaryDisplayName:u,richMetadataTitle:g,storyPinDataId:f,storyPinDataMetadataPinTitle:b,placeSummaryName:x,pinJoinVisualAnnotation:P,pinJoinAnnotationsWithLinks:S});return(0,v.jsx)(r.Z,{hash:"details",offset:-d.DEFAULT_HEIGHT,children:(0,v.jsx)(_.kC,{alignItems:"desktop"===T?"start":"center",direction:"column",justifyContent:"center",children:(0,v.jsx)(_.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:"stretch",children:(0,v.jsx)(y,{handleTap:"desktop"!==T&&t?t=>{t.preventDefault(),t.stopPropagation(),(0,h.My)("mweb_pin_page.pin_title.click"),k||(0,h.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,v.jsx)(_.X6,{align:i||("desktop"===T?"start":"center"),accessibilityLevel:1,overflow:"breakWord",size:C?"400":"500",lineClamp:E?void 0:w,children:R})})})})})}function x(e){var t,n,i,a,o,r,s;const d=(0,g.useFragment)(f,e.graphqlRef),c=(0,l.Z)(d);return(0,v.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:null==d?void 0:d.title,gridTitle:null==d?void 0:d.gridTitle,richSummaryDisplayName:null!==(t=null==d||null===(n=d.richSummary)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==d||null===(a=d.richMetadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",storyPinDataId:null==d?void 0:d.storyPinDataId,storyPinDataMetadataPinTitle:null==d||null===(o=d.storyPinData)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.pinTitle,pinJoinVisualAnnotation:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.visualAnnotation)||void 0,pinJoinAnnotationsWithLinks:c||void 0})}function P(e){var t,n,i,a,o,r,l,s,d;const c=(0,u.S6)()(e.pinId||"");return c?(0,v.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:c.title,gridTitle:c.grid_title,richSummaryDisplayName:null!==(t=null===(n=c.rich_summary)||void 0===n?void 0:n.display_name)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null===(a=c.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",storyPinDataId:c.story_pin_data_id,storyPinDataMetadataPinTitle:null===(o=c.story_pin_data)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.pin_title,placeSummaryName:null!==(l=c.place_summary)&&void 0!==l?l:"",pinJoinVisualAnnotation:null===(s=c.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinAnnotationsWithLinks:null===(d=c.pin_join)||void 0===d?void 0:d.annotations_with_links}):null}function S(e){return e.graphqlRef?(0,v.jsx)(x,{...e}):(0,v.jsx)(P,{...e})}},183007:(e,t,n)=>{n.d(t,{N:()=>b,Z:()=>x});var i=n(667294),a=n(223815),o=n(248041),r=n(898781),l=n(52022),s=n(867820),d=n(883119),c=n(785893);function u({icon:e}){const{hide:t}=(0,o.Z)(),n=(0,r.ZP)(),i=(0,l.Z)();return(0,c.jsx)(a.Z,{children:(0,c.jsx)(d.xu,{"data-test-id":"expandButton",children:(0,c.jsx)(d.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n.bt(" ", "Expand Image", "mweb.closeup.image.expand.a11y", undefined, true),onClick:({event:e})=>{e.stopPropagation(),(0,s.My)("mweb_pin_page.pin_image.enlarge_image"),(0,s.NC)("click_expand_image"),i({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var p=n(700380),m=n(50286),h=n(792182),_=n(398061),g=n(444445),v=n(773285);const y=.3,f=.75,b=new d.H3([_.e]),x=({children:e,closableDrawer:t})=>{var n;const{hide:a}=(0,o.Z)(),r=(0,i.useRef)(null),l=(0,i.useRef)(null),[s,_]=(0,i.useState)(null),[x,P]=(0,i.useState)(0),[S,w]=(0,i.useState)(!1),T=(null===(n=(0,h.Z)())||void 0===n?void 0:n.height)||0,[k,E]=(0,i.useState)(!1),I=(0,m.ZP)(),{checkExperiment:A}=(0,v.F)(),C=null!=s?s:.75*T,R=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&T>0?t-T*y+60:0};return(0,i.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+C>t&&a()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[a,C]),(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(d.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:b,height:null===s?"25vh":`calc(100vh - ${s}px)`,dangerouslySetInlineStyle:{__style:{...S?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===s&&S?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:l,onTouchStart:e=>{const{clientY:t}=e.touches[0];P(t),w(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=s?s:.75*window.innerHeight,i=t-x;if(null!==n&&i){const e=T*y,t=T*f,o=Math.floor(Math.min(t,Math.max(e,n+i)));_(o);const r=R();if(T>0&&r>0){const e=r*(a=o/T,1-(Math.max(y,Math.min(f,a))-y)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}o<.525*T&&E(!0)}var a;P(t)},onTouchEnd:()=>{if(k){w(!0);_(T*y);const e=R();e&&window.scrollTo({top:e,behavior:"smooth"}),E(!1)}},children:["desktop"!==I&&(t?(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,c.jsx)(u,{icon:"cancel"})}):!A("pcons_remove_expand_button").anyEnabled&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,right:!0,children:(0,c.jsx)(d.xu,{position:"absolute",bottom:!0,right:!0,children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsx)(u,{})})})})),(0,c.jsx)(d.xu,{paddingX:g.D6,children:e})]}),(0,c.jsx)(d.xu,{ref:r,height:"100vh"})]})}},583281:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(780280),a=n(883119),o=n(785893);const r=new a.H3([new a.Ry(0)]);function l({onMoreButtonTap:e,onSendButtonTap:t}){const{userAgent:{platform:n}}=(0,i.B)();return(0,o.jsxs)(a.xu,{position:"absolute",top:!0,zIndex:r,width:"100%",padding:6,display:"flex",justifyContent:"end",children:[(0,o.jsx)(a.hU,{accessibilityLabel:"share",icon:"android"===n?"android-share":"share",bgColor:"transparentDarkGray",onClick:t,size:"md"}),(0,o.jsx)(a.xu,{marginStart:2,children:(0,o.jsx)(a.hU,{accessibilityLabel:"overflow menu",icon:"ellipsis",bgColor:"transparentDarkGray",onClick:e,size:"md"})})]})}},358381:(e,t,n)=>{n.d(t,{Z:()=>T});var i,a=n(667294),o=n(702664),r=n(116303),l=n(815613),s=n(819354),d=n(898781),c=n(112690),u=n(892819),p=n(349700),m=n(773285),h=n(350118),_=n(698330),g=n(780280),v=n(883119),y=n(461773),f=n(167912),b=n(785893);const x=void 0!==i?i:i=n(582753);function P({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:h,seeMoreButton:f,graphqlRef:x,pinId:P,pinImageSignature:S,userData:w}){const T=(0,d.ZP)(),k=(0,u.Z)(),{id:E="",image_medium_url:I,follower_count:A,followed_by_me:C,username:R="",is_ads_only_profile:j=!1,ads_only_profile_site:D=""}=w,O=(0,_.mN)()(E),L=(0,o.useDispatch)(),N=(0,a.useRef)(),{checkExperiment:F}=(0,m.F)(),M=(0,c.Z)(),{locale:z}=(0,g.B)(),[U,B]=(0,a.useState)(O?O.explicitly_followed_by_me:C),Z=j&&D&&F("mweb_ads_only_profiles_link_redirect").anyEnabled,V=Z&&D?D:`/${R}/`;return(0,b.jsxs)(v.xu,{display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:i||"center",children:[(0,b.jsx)(v.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,b.jsx)(v.iP,{role:"link",href:V,rel:Z?"nofollow":"none",target:Z?"blank":null,onTap:()=>{Z&&M({event_type:9371,element:13382,component:123})},children:(0,b.jsx)(r.Z,{name:R,size:h||"md",src:null!=I?I:""})})}),(0,b.jsxs)(v.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,b.jsx)(s.Z,{fontWeight:"bold",graphqlRef:x,pinId:P}),!t&&(0,b.jsx)(v.xv,{size:"300",children:(0,p.nk)(T.bt(" {{ followerCount }}", "{{ followerCount }} followers", "closeup.officialUser.followerCount", undefined, true),{followerCount:k(z,A||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),f,!e&&(0,b.jsx)(a.Fragment,{children:(0,b.jsx)(v.xu,{marginStart:"auto",ref:N,children:(0,b.jsx)(l.Z,{followEventType:45,id:E,isFollowed:U,isUserFollowButton:!0,isUserMe:n===E,onFollow:e=>{B(!0),L((0,y.ZN)(e))},onUnfollow:e=>{B(!1),L((0,y.fv)(e))},pinId:P,size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:P&&S?{pin_id:P,image_signature:S}:void 0})})})]})}function S({graphqlRef:e,pinId:t,...n}){var i,o,r,l,s,d;const c=(0,f.useFragment)(x,e),u=c.closeupAttribution;return u&&c?(0,b.jsx)(P,{...n,pinId:t,pinImageSignature:null!==(i=c.imageSignature)&&void 0!==i?i:void 0,userData:{id:null!==(o=u.entityId)&&void 0!==o?o:void 0,image_medium_url:null!==(r=u.imageMediumUrl)&&void 0!==r?r:void 0,follower_count:null!==(l=u.followerCount)&&void 0!==l?l:void 0,followed_by_me:null!==(s=u.followedByMe)&&void 0!==s?s:void 0,username:null!==(d=u.username)&&void 0!==d?d:void 0,is_ads_only_profile:!!u.isAdsOnlyProfile,ads_only_profile_site:u.adsOnlyProfileSite},graphqlRef:c}):(0,b.jsx)(a.Fragment,{})}function w({pinId:e,...t}){var n;const i=(0,h.S6)()(e),o=null==i?void 0:i.closeup_attribution;return o&&i?(0,b.jsx)(P,{...t,pinId:e,pinImageSignature:null!==(n=i.image_signature)&&void 0!==n?n:void 0,userData:o}):(0,b.jsx)(a.Fragment,{})}function T({graphqlRef:e,...t}){return e?(0,b.jsx)(S,{...t,graphqlRef:e}):(0,b.jsx)(w,{...t})}},819354:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(667294),o=n(112690),r=n(512176),l=n(773285),s=n(350118),d=n(883119),c=n(167912),u=n(785893);const p=void 0!==i?i:i=n(188809);function m({displayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:a,username:s="",isAdsOnlyProfile:c=!1,adsOnlyProfileSite:p=""}){const{checkExperiment:m}=(0,l.F)(),h=(0,o.Z)(),_=n||a,g=c&&p&&m("mweb_ads_only_profiles_link_redirect").anyEnabled,v=g&&p?p:`/${s}/`;return(0,u.jsx)(d.iP,{role:"link",href:v,rel:g?"nofollow":"none",target:g?"blank":null,onTap:()=>{g&&h({event_type:9371,element:13382,component:123})},children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,u.jsx)(d.xv,{size:"300",lineClamp:1,weight:t,children:e?e(i):i}),_&&(0,u.jsx)(d.xu,{marginStart:1,marginEnd:2,children:(0,u.jsx)(r.Z,{showVerifiedIdentity:!n,isVerifiedMerchant:n,size:"sm"})})]})})}function h(e){var t,n,i,o,r,l;const s=(0,c.useFragment)(p,e.graphqlRef),d=null==s?void 0:s.closeupAttribution;return d?(0,u.jsx)(m,{displayName:e.displayName,fontWeight:e.fontWeight,isVerifiedMerchant:null!==(t=d.isVerifiedMerchant)&&void 0!==t?t:void 0,fullName:null!==(n=d.fullName)&&void 0!==n?n:void 0,verifiedIdentityVerified:null!==(i=null===(o=d.verifiedIdentity)||void 0===o?void 0:o.verified)&&void 0!==i?i:void 0,username:null!==(r=d.username)&&void 0!==r?r:void 0,isAdsOnlyProfile:null!==(l=d.isAdsOnlyProfile)&&void 0!==l&&l,adsOnlyProfileSite:d.adsOnlyProfileSite}):(0,u.jsx)(a.Fragment,{})}function _(e){var t;const n=(0,s.S6)()(e.pinId),i=null==n?void 0:n.closeup_attribution;return i?(0,u.jsx)(m,{displayName:e.displayName,fontWeight:e.fontWeight,isVerifiedMerchant:i.is_verified_merchant,fullName:i.full_name,verifiedIdentityVerified:null===(t=i.verified_identity)||void 0===t?void 0:t.verified,username:i.username,isAdsOnlyProfile:i.is_ads_only_profile,adsOnlyProfileSite:i.ads_only_profile_site}):(0,u.jsx)(a.Fragment,{})}function g(e){return e.graphqlRef?(0,u.jsx)(h,{...e}):(0,u.jsx)(_,{...e})}},747593:(e,t,n)=>{n.d(t,{l:()=>$,Z:()=>ne});var i,a=n(667294),o=n(24987),r=n(404508),l=n(676719),s=n(246340),d=n(319915),c=n(605073),u=n(941646),p=n(898781),m=n(52022),h=n(883119),_=n(856306),g=n(167912),v=n(785893);const y=void 0!==i?i:i=n(918899),f=({clickthrough:e,isCTA:t,onLoad:n})=>{const i=(0,p.ZP)(),o=(0,m.Z)();return(0,a.useEffect)((()=>{n&&n()}),[n]),(0,v.jsx)(u.Z,{id:"main-pin-section-visit-button",children:(0,v.jsx)(h.zx,{accessibilityLabel:i.bt("", "Visit", "pinPage.pinACtionBar.visitButton", undefined, true),fullWidth:!0,size:"lg",onClick:()=>{o({action:"click",item:"main-pin-section-visit-button"}),e()},color:t?"blue":void 0,text:i.bt("", "Visit", "pinPage.pinACtionBar.visitButton", undefined, true)})})},b=({clickthroughInterstitialExperience:e,isCTA:t,graphqlRef:n,onLoad:i})=>{const a=(0,g.useFragment)(y,n),o=(0,_.It)({clickthroughInterstitialExperience:e,graphqlRef:a});return(0,v.jsx)(f,{clickthrough:o,isCTA:t,onLoad:i})},x=({clickthroughInterstitialExperience:e,isCTA:t,pinId:n,onLoad:i})=>{const a=(0,_.ZP)({clickthroughInterstitialExperience:e,pinId:n});return(0,v.jsx)(f,{clickthrough:a,isCTA:t,onLoad:i})};function P({clickthroughInterstitialExperience:e,isCTA:t,pinId:n,graphqlRef:i,onLoad:a}){return i?(0,v.jsx)(b,{graphqlRef:i,clickthroughInterstitialExperience:e,isCTA:t,onLoad:a}):(0,v.jsx)(x,{clickthroughInterstitialExperience:e,isCTA:t,pinId:n,onLoad:a})}var S=n(947599),w=n(613736),T=n(844974),k=n(202139);const E=()=>{const e=(0,T.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>k.F4;return!e||t};var I,A=n(938917),C=n(50286),R=n(467570),j=n(203201),D=n(538232),O=n(571577),L=n(773285),N=n(350118),F=n(276602),M=n(780280),z=n(313047);const U=(0,a.lazy)((()=>n.e(97180).then(n.bind(n,197180)))),B=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,328896)))),Z=void 0!==I?I:I=n(413196),V="save",H="visit",K=new h.Ry(2),G=new h.Ry(1),W=new h.Ry(4),$=({bgColor:e,color:t})=>{const{viewParameter:n}=(0,D.R)(),{isAuthenticated:i}=(0,M.B)();return(0,v.jsx)(u.Z,{id:"back-button",children:(0,v.jsx)(r.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:i?"/":"/ideas",padding:"auto",viewParameter:n,viewType:3,size:"xl"})})},q=({children:e,experience:t,onCompleteRef:n})=>{const i=(0,a.useRef)();return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(h.xu,{ref:i,children:(0,v.jsx)(h.xu,{children:e})}),(0,v.jsx)(d.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,v.jsx)(S.Z,{children:(0,v.jsx)(U,{experience:t,eligibleIds:[503459,503761],anchor:i.current,showTooltip:!0,onCompleteRef:n})})})]})},Y=({children:e,headerLimitedOverflow:t,inMwebHorizontalActionBarExp:n,isDesktop:i,isActionBarInline:a,isRelatedPinsAppUpsellShown:o,isTransparentBackground:r,zIndex:l})=>n&&!i?(0,v.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{transition:"position .4s ease-in-out"}},children:[(0,v.jsx)(h.xu,{opacity:a?0:1,children:(0,v.jsx)(z.FixedFooter,{paddingY:5,zIndex:l,hasTopShadow:!0,children:e},String(r))}),a&&(0,v.jsx)(h.xu,{paddingY:4,marginTop:3,children:e})]}):(0,v.jsx)(z.FixedHeader,{headerLimitedOverflow:t,isTranslucent:!r,isTransparentBackground:r,ignoreObstructions:r,paddingY:o?0:void 0,zIndex:l,children:e},String(r)),X=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:i,headerLimitedOverflow:o,inMwebHorizontalActionBarExp:r,isActionBarInline:l=!1,isDesktop:s,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,saveButton:u,shareButtonGroup:p,visitButton:m})=>{const _=(0,O.H)(),{isAuthenticated:g}=(0,M.B)();let y;return g?"lg"===_?y=K:r&&(y=W):y=r?W:G,(0,v.jsx)(Y,{headerLimitedOverflow:o,inMwebHorizontalActionBarExp:r,isDesktop:s,isActionBarInline:l,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,zIndex:y,children:(0,v.jsx)(h.xu,{marginTop:-1,marginBottom:-1,children:(0,v.jsx)(h.kC,{alignItems:"center",justifyContent:"between",children:r?(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,v.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[m||null,u||null]}),(0,v.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:p||null})]}):(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,v.jsx)(h.xu,{marginStart:-1,color:c?"default":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:c?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:e}),(0,v.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[t||null,p||null,i||null,n||null]})]}),(0,v.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[m||null,u||null]})]})})})})};function J({pinId:e,viewParameter:t}){const n=(0,p.ZP)(),[i,r]=(0,a.useState)(!1),l=(0,a.useRef)(null);return(0,v.jsxs)(h.xu,{ref:l,children:[(0,v.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(o.Z,{onDefaultSendButtonClick:()=>{r(!0)},viewParameter:t})}),i&&(0,v.jsx)(s.Z,{anchor:l.current,objectId:e,objectType:1,onDismiss:()=>r(!1),viewType:3,viewParameter:t,component:194,title:n.bt("  ", "Send this pin", "PinCloseup.ShareMenu.Title", undefined, true)})]})}function Q({clickthroughInterstitialExperience:e,experience:t,isEligibleForAggregatedComments:n,isNewUser:i,isMaturedNewUser:r,isPartner:s,isProductPin:m,isRemovablePin:_,isUnavailableStoryPin:g,onEditButtonClick:y,onNonDesktopOptionsButtonClick:f,onSendButtonClick:b,pinId:x,pinnedToBoardId:T,pinnedToBoardUrl:k,nativePinType:I,scrolledToRelatedPins:O,shouldShowReactions:N,shouldShowBackButton:z,shouldShowShareOnVideoCloseup:U,isEligibleToVisitPin:Z,hasPin:K,isEligibleForPdp:G,pinnerBlockedByMe:W,maybeGraphqlRef:Y,isActionBarInline:Q}){const ee=(0,p.ZP)(),{checkExperiment:te}=(0,L.F)(),ne=(0,C.ZP)(),ie="desktop"===ne,{isAuthenticated:ae}=(0,M.B)(),oe=(0,D.R)(),{clientTrackingParams:re,saveButtonConfig:le,viewParameter:se}=oe,de=(0,A.Z)(),ce=(0,a.useRef)(null),ue=(0,F.EV)(),pe=(0,a.useCallback)((()=>{ue&&ue.markConstraintComplete("shopButton")}),[ue]),me="desktop"!==ne&&!m&&te(ae?"closeup_auth_mweb_action_bar":"closeup_unauth_mweb_action_bar").anyEnabled,he=ae&&"desktop"!==ne&&te("auth_mweb_inline_action_bar").anyEnabled,_e=ae&&G?H:V,ge=G&&!ie&&i&&!r;(()=>{const{locale:e}=(0,M.B)();(0,a.useEffect)((()=>{(0,R.we)(e)}),[e])})();const ve=!!t&&8===t.type,ye="desktop"!==ne&&oe.isStoryPin;if(oe.isStoryPin){const e=!O;let t=e?"white":void 0,n=e?"transparentDarkGray":void 0;return g&&(t="darkGray",n="white"),ye?null:(0,v.jsx)(h.xu,{paddingX:2,children:(0,v.jsx)(X,{backButton:z?(0,v.jsx)($,{color:t,bgColor:n}):null,headerLimitedOverflow:ve,isTransparentBackground:e,inMwebHorizontalActionBarExp:me,isActionBarInline:Q,isDesktop:ie})})}if(O&&ae&&!he&&!me){const e=de&&i&&!s&&E();return(0,v.jsx)(X,{backButton:z?(0,v.jsx)($,{bgColor:"white"}):null,headerLimitedOverflow:ve,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,isActionBarInline:Q,inMwebHorizontalActionBarExp:me,isDesktop:ie})}const fe=!ie&&!m&&n&&(!ae||["enabled","running_experiments"].includes(te("community_engagement_holdout_2023_h1").group));return(0,v.jsx)(X,{isActionBarInline:Q,inMwebHorizontalActionBarExp:me,backButton:z?(0,v.jsx)($,{}):null,commentButton:me?(0,v.jsx)(l.default,{graphqlRef:Y,isReadOnly:!ae,pinId:x,disabled:!fe}):fe&&(0,v.jsx)(l.default,{graphqlRef:Y,isReadOnly:!ae,pinId:x}),editOrMoreButton:!me&&(y?(0,v.jsx)(h.xu,{"data-test-id":"editBoardButton",children:(0,v.jsx)(h.hU,{accessibilityLabel:ee.bt("", "edit", "Pin edit button", undefined, true),iconColor:"darkGray",icon:"edit",onClick:({event:e})=>y(e),size:"lg"})}):(0,j.E)(oe)&&!!K&&(0,v.jsx)(u.Z,{id:"ellipsis-button",children:(0,v.jsx)(c.Z,{onNonDesktopClick:f,pinId:x,isAuthenticated:ae,graphqlRef:Y,nativePinType:I})})),headerLimitedOverflow:ve,saveButton:ae&&(_||W)?null:(0,v.jsx)(q,{experience:t,onCompleteRef:ce,children:(0,v.jsx)(w.Z,{clientTrackingParams:re,deeplinkUri:le.shouldShowSavedButton&&k||le.repinPageLocation.deeplinkUri,onTouch:e=>{var t;null===(t=ce.current)||void 0===t||t.call(ce),le.onSaveButtonClick(e)},onUnsave:le.onUnsaveButtonClick,pinId:x,pinnedToBoardId:T,shouldShowSavedButton:le.shouldShowSavedButton,to:le.repinPageLocation.mwebUri,viewType:3,viewParameter:se,color:_e===V||ge?"primary":"secondary"})}),shareButtonGroup:N&&I?(0,v.jsxs)(h.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(d.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,v.jsx)(S.Z,{children:(0,v.jsx)(B,{clientTrackingParams:re,pinId:x,nativePinType:I,experience:t})})}),U&&(0,v.jsx)(o.Z,{onDefaultSendButtonClick:b,viewParameter:oe.viewParameter})]}):(0,v.jsx)(u.Z,{id:"share-button",children:!ae&&ie?(0,v.jsx)(J,{pinId:x,viewParameter:oe.viewParameter}):(0,v.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(o.Z,{onDefaultSendButtonClick:b,viewParameter:oe.viewParameter})})}),visitButton:!U&&Z?(0,v.jsx)(h.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,v.jsx)(P,{clickthroughInterstitialExperience:e,pinId:x,isCTA:_e===H,graphqlRef:Y,onLoad:pe})}):null,isDesktop:ie})}const ee=({graphqlRef:e,...t})=>{var n;const i=(0,g.useFragment)(Z,e);return(0,v.jsx)(Q,{hasPin:!!i,isEligibleForPdp:i.isEligibleForPdp,pinnerBlockedByMe:null===(n=i.pinner)||void 0===n?void 0:n.blockedByMe,maybeGraphqlRef:i,...t})},te=({pinId:e,...t})=>{const n=(0,N.S6)()(e),i=null==n?void 0:n.pinner;return(0,v.jsx)(Q,{pinId:e,hasPin:!!n,isEligibleForPdp:null==n?void 0:n.is_eligible_for_pdp,pinnerBlockedByMe:null==i?void 0:i.blocked_by_me,...t})};function ne({graphqlRef:e,...t}){return e?(0,v.jsx)(ee,{graphqlRef:e,...t}):(0,v.jsx)(te,{...t})}},203201:(e,t,n)=>{n.d(t,{E:()=>k,Z:()=>R});var i,a=n(598615),o=n(326960),r=n(375571),l=n(63552),s=n(328896),d=n(995228),c=n(856306),u=n(898781),p=n(667679),m=n(149823),h=n(349700),_=n(407043),g=n(378518),v=n(773285),y=n(350118),f=n(50286),b=n(538232),x=n(883119),P=n(167912),S=n(785893);const w=void 0!==i?i:i=n(574913),T=({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:a,shouldShowVisitInMoreOptions:o})=>n?{react:i,downloadImageUrl:t,openInApp:e,reportPin:a,sendPin:i,visitPin:o}:Object.freeze({}),k=e=>{const t=T(e);return!!(t.react||t.openInApp||t.sendPin||t.downloadImageUrl||t.reportPin||t.visitPin)},E=({imageUrl:e,closeupUnifiedDescription:t,gridTitle:n,title:i,pinId:a,imageSignature:r,textSize:s})=>{const d=(0,u.ZP)(),{isChromeOnIOS:c,viewParameter:m,handleDownloadPinImageClick:h,isAuthenticated:_}=(0,b.R)(),g=(0,p.Z)(),v=(0,f.HG)(),y=t&&t.trim(),P=n||i;return(0,S.jsx)(o.Z,{imgSrc:e,isChromeOnIOS:c,filename:P||y,pinId:a,viewParameter:m,viewType:3,imageSignature:r||void 0,children:e=>(0,S.jsx)(l.Z,{pressState:"none",onTouch:()=>{e().then((()=>{v&&!_&&g({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),h()}))},children:(0,S.jsx)(x.xv,{weight:"bold",size:s,children:d.bt(" ", "Download image", "Button to download Pin image", undefined, true)})})})},I=({pinId:e,domain:t,closeupUnifiedDescription:n,gridTitle:i,title:o,imageSignature:p,textSize:y,onDismiss:P,isIdeaPin:w,shouldShowShareOnVideoCloseup:k,clickthroughInterstitialExperience:I,nativePinType:A})=>{const C=(0,u.ZP)(),R=(0,b.R)(),{clientTrackingParams:j,onSendButtonClick:D,isAuthenticated:O}=R,L=(0,c.ZP)({clickthroughInterstitialExperience:I,pinId:e}),{logContextEvent:N}=(0,_.v)(),F=(0,g._)({id:1000112}),M=(0,f.HG)(),{checkExperiment:z}=(0,v.F)(),U=!M&&z(O?"closeup_auth_mweb_action_bar":"closeup_unauth_mweb_action_bar").anyEnabled,B=T(R);return(0,S.jsxs)(x.kC,{direction:"column",gap:{row:0,column:4},children:[B.react&&!!A&&U&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinActionBarMoreOptionsMenu_ReactionPickerContainer",children:(0,S.jsx)(d.Z,{children:(0,S.jsx)(l.Z,{pressState:"none",onTouch:P,children:(0,S.jsx)(s.default,{clientTrackingParams:j,pinId:e,nativePinType:A,experience:F,isTextButton:!0})})})}),B.openInApp&&(0,S.jsx)(a.Z,{componentType:14162,within:O?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",children:({handleOpenApp:t})=>(0,S.jsx)(l.Z,{pressState:"none",onTouch:()=>t({deepLinkUri:`pin/${e}`}),children:(0,S.jsx)(x.xv,{weight:"bold",size:y,children:C.bt(" ", "Open in app", "Option in overflow menu on Pin closeup to open the Pin in the Pinterest app", undefined, true)})})}),!k&&!w&&B.sendPin&&(0,S.jsx)(l.Z,{pressState:"none",onTouch:D,children:(0,S.jsx)(x.xv,{weight:"bold",size:y,children:C.bt(" ", "Send Pin", "Option in overflow menu on Pin closeup to send this pin", undefined, true)})}),!w&&B.visitPin&&(0,S.jsx)(l.Z,{pressState:"none",onTouch:L,children:(0,S.jsx)(x.xv,{weight:"bold",size:y,children:(0,h.Wc)(C.bt("{{domain}} ", "Visit {{domain}}", "videoPinCloseup.overflowMenu.visit", undefined, true),{domain:t||""})})}),!w&&B.downloadImageUrl&&(0,S.jsx)(E,{imageUrl:B.downloadImageUrl,closeupUnifiedDescription:n,gridTitle:i,title:o,pinId:e,imageSignature:p,textSize:y}),B.reportPin&&(0,S.jsx)(m.Z,{callbackFunction:P,nextLocation:`/pin/${e}/report/`,children:(0,S.jsx)(x.xv,{weight:"bold",size:y,children:(0,S.jsx)(x.rU,{href:`/pin/${e}/report/`,tapStyle:"none",onClick:()=>{N({view_type:48,element:176,event_type:102,component:13,object_id_str:e})},children:C.bt(" ", "Report Pin", "Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)", undefined, true)})})})]})},A=({graphqlRef:e,...t})=>{var n;const i=(0,P.useFragment)(w,e);return(0,S.jsx)(I,{pinId:null!==(n=i.entityId)&&void 0!==n?n:"",domain:i.domain,closeupUnifiedDescription:i.closeupUnifiedDescription,gridTitle:i.gridTitle,title:i.title,imageSignature:i.imageSignature,...t})},C=e=>{var t;const{pinId:n}=(0,b.R)(),i=(0,y.S6)()(n);return(0,S.jsx)(I,{pinId:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"",domain:null==i?void 0:i.domain,closeupUnifiedDescription:null==i?void 0:i.closeup_unified_description,gridTitle:null==i?void 0:i.grid_title,title:null==i?void 0:i.title,imageSignature:null==i?void 0:i.image_signature,...e})};function R({graphqlRef:e,...t}){return e?(0,S.jsx)(A,{graphqlRef:e,...t}):(0,S.jsx)(C,{...t})}},605073:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(203201),r=n(898781),l=n(690035),s=n(52022),d=n(867820),c=n(350118),u=n(50286),p=n(430235),m=n(874317),h=n(883119),_=n(167912),g=n(785893);const v=void 0!==i?i:i=n(823716),y=({onNonDesktopClick:e,pinId:t,hasPinner:n,isAuthenticated:i,graphqlRef:c,overlayingPinImage:_=!1,nativePinType:v})=>{const y=(0,r.ZP)(),f=(0,s.Z)(),b=(0,l.Z)(),[x,P]=(0,a.useState)(!1),S=(0,a.useRef)(),w=(0,u.HG)(),[T,k]=(0,a.useState)(null),[E,I]=(0,a.useState)(null),A=!!T;(0,a.useEffect)((()=>{const e=()=>{k(null),(0,d.My)("dweb.unauth.context_menu.click_away")};return A&&document.addEventListener("click",e),()=>{A&&document.removeEventListener("click",e)}}),[A]);return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(h.xu,{ref:S,children:(0,g.jsx)(h.hU,{accessibilityLabel:y.bt(" ", "more", "Pin more button", undefined, true),iconColor:_?"white":"darkGray",icon:"ellipsis",onClick:i||w?({event:t})=>{if(f({action:"click",item:"ellipsis-button"}),w){if(i)P(!x);else if(t.stopPropagation(),t.preventDefault(),(0,d.My)("dweb.ellipsis_button.context_menu.open"),S.current){const e=S.current.getBoundingClientRect(),t=e.left,n=e.top;k({xPosition:t,yPosition:n})}}else e(t)}:({event:i})=>{t&&n?b({pinId:t,location:"main-pin-overflow"}):e(i)},size:"lg"})}),T&&w&&t&&n&&(0,g.jsx)(p.Z,{desktopContextMenuState:T,pinId:t,source:"dweb.plp.ellipsis.button",graphqlRef:c}),E&&!w&&t&&n&&(0,g.jsx)(m.ZP,{mwebContextMenuState:E,setMwebContextMenuState:I,pinId:t,graphqlRef:c}),x&&(0,g.jsx)(h.mh,{zIndex:new h.Ry(1),children:(0,g.jsx)(h.J2,{anchor:S.current,positionRelativeToAnchor:!1,onDismiss:()=>P(!1),idealDirection:"down",size:"xs",children:(0,g.jsx)(h.xu,{paddingX:4,paddingY:2,children:(0,g.jsx)(o.Z,{textSize:"200",graphqlRef:c,nativePinType:v})})})})]})},f=({pinId:e,graphqlRef:t,onNonDesktopClick:n,isAuthenticated:i,overlayingPinImage:a,nativePinType:o})=>{const r=(0,_.useFragment)(v,t);return(0,g.jsx)(y,{hasPinner:!!r.pinner,pinId:e,onNonDesktopClick:n,isAuthenticated:i,graphqlRef:r,overlayingPinImage:a,nativePinType:o})},b=({pinId:e,onNonDesktopClick:t,isAuthenticated:n,overlayingPinImage:i,nativePinType:a})=>{const o=(0,c.S6)()(e);return(0,g.jsx)(y,{hasPinner:!(null==o||!o.pinner),pinId:e,onNonDesktopClick:t,isAuthenticated:n,overlayingPinImage:i,nativePinType:a})};function x({graphqlRef:e,pinId:t,onNonDesktopClick:n,isAuthenticated:i,overlayingPinImage:a,nativePinType:o}){return e?(0,g.jsx)(f,{pinId:t,graphqlRef:e,onNonDesktopClick:n,isAuthenticated:i,overlayingPinImage:a,nativePinType:o}):(0,g.jsx)(b,{pinId:t,onNonDesktopClick:n,isAuthenticated:i,overlayingPinImage:a,nativePinType:o})}},350948:(e,t,n)=>{n.d(t,{IS:()=>b,Ys:()=>f,ZP:()=>I,j$:()=>S});var i,a=n(667294),o=n(485710),r=n(134185),l=n(319530),s=n(50286),d=n(349700),c=n(578661),u=n(923297),p=n(773285),m=n(350118),h=n(898781),_=n(883119),g=n(167912),v=n(785893);const y=void 0!==i?i:i=n(906587),f=({m:e,h:t,rm:n,rh:i},a,o=!1)=>e&&(!t||i<=0)?o?(0,d.nk)(a.bt("{{mins}}", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:n.toString()}):(0,d.nk)(a.nbt(["{{mins}}"], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):t?o?(0,d.nk)(a.bt("{{hrs}}", "{{hrs}}hr", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:i.toString()}):(0,d.nk)(a.nbt(["{{hrs}}"], i, "number showing the hours to complete a recipe", true),{hrs:i.toString()}):null,b=({m:e,h:t,rm:n,rh:i,i18n:a})=>e&&(!t||i<=0)?(0,d.nk)(a.bt("{{mins}}", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):t?(0,d.nk)(a.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:t.toString(),mins:e.toString()}):null,x=(e,t)=>{const n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},P=e=>e?e.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0,S=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:n,cookTimesTotalH:i,hasCookTimesTotal:a,i18n:o,isShortened:r})=>{let l;return l=a?(0,u.X)({m:n||0,h:i||0}):(0,u.X)({m:e||0,h:t||0}),f(l,o,r)};function w({category:e,ingredients:t,textSize:n="300"}){return(0,v.jsxs)(_.xu,{marginBottom:4,children:[e&&(0,v.jsx)(_.xu,{children:(0,v.jsx)(_.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,i;return(0,v.jsx)(_.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,v.jsxs)(_.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(i=e.name)&&void 0!==i?i:""}`)}))]})}const T=({categorizedIngredients:e,cookTimes:t,image:n,ingredientCount:i,ingredientsDescription:d,name:u,pinLink:m})=>{var g,y,f,b;const x=(0,h.ZP)(),{checkExperiment:P}=(0,p.F)(),T=(0,s.ZP)(),k=P("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!S({cookTimesCookM:null==t||null===(g=t.cook)||void 0===g?void 0:g.m,cookTimesCookH:null==t||null===(y=t.cook)||void 0===y?void 0:y.h,cookTimesTotalM:null==t||null===(f=t.total)||void 0===f?void 0:f.m,cookTimesTotalH:null==t||null===(b=t.total)||void 0===b?void 0:b.h,hasCookTimesTotal:!(!t||!t.total),i18n:x,isShortened:k})&&!i&&!d)return null;const E="desktop"===T,I=x.bt("", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,v.jsxs)(_.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,v.jsxs)(_.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!k||!E)&&(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(_.xv,{weight:"bold",align:"desktop"===T?"start":"center",children:I})}),(0,v.jsxs)(r.Z,{itemScope:!0,itemType:c.G,children:[(0,v.jsx)("meta",{content:u,itemProp:"name"}),n&&(0,v.jsx)("meta",{content:n,itemProp:"image"}),k&&E&&(0,v.jsx)(_.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,v.jsx)(o.Z,{heading:I,children:(0,v.jsx)(l.Z,{children:e.map((({category:e,ingredients:t},n)=>{const i=`ingredient-${n}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(w,{category:e,ingredients:t,textSize:"300"})})},i)}))})})}),(!k||!E)&&Array.isArray(e)&&e.length>0&&(0,v.jsx)(_.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,v.jsx)(_.xu,{marginBottom:2,children:(0,v.jsx)(w,{category:e,ingredients:t,textSize:"300"})},n)))})]})]}),(!k||!E)&&(0,v.jsx)(_.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===T?"center":void 0,children:m&&(0,v.jsx)(_.zx,{text:x.bt("", "Make it", "closeup.recipe.make_it_button", undefined, true),role:"link",href:m,target:"blank"})})]})},k=({graphqlRef:e,checkExperiment:t})=>{const n=(0,g.useFragment)(y,e),{imageSpec_474x:i,link:a,richMetadata:o}=n,r=null==o?void 0:o.recipe,l=null==r?void 0:r.categorizedIngredients,s=P(l),d=(null==r?void 0:r.categorizedIngredients)&&x(r.diets,r.servingsSummary);return(0,v.jsx)(T,{categorizedIngredients:l,cookTimes:null==r?void 0:r.cookTimes,image:null==i?void 0:i.url,ingredientCount:s,ingredientsDescription:d,name:null==r?void 0:r.name,pinLink:a,checkExperiment:t})},E=({pinId:e,checkExperiment:t})=>{var n,i;const a=(0,m.S6)()(e),o=(null==a||null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe)||{},{cook_times:r,name:l,categorized_ingredients:s,diets:d,servings_summary:c}=o,u=P(s),p=s&&x(d,c);return(0,v.jsx)(T,{categorizedIngredients:s,cookTimes:r,image:(null===(i=((null==a?void 0:a.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:p,name:l,pinLink:(null==a?void 0:a.link)||"",checkExperiment:t})};function I({graphqlRef:e,pinId:t}){const{checkExperiment:n}=(0,p.F)();return e?(0,v.jsx)(k,{graphqlRef:e,checkExperiment:n}):(0,v.jsx)(E,{pinId:t,checkExperiment:n})}},635821:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(561195),o=n(50286),r=n(898781),l=n(350948),s=n(349700),d=n(773285),c=n(350118),u=n(883119),p=n(167912),m=n(785893);const h=void 0!==i?i:i=n(659189);function _({boldText:e=!0,marginTop:t=3,onlyShowNumber:n=!1,textSize:i="md",width:c=12,isWideViewport:p,ratingBestRating:h,ratingRatingValue:_,ratingReviewCount:g,hasPinRecipe:v,cookTimes:y,dietList:f,servingSummarySummary:b,servingSummaryServes:x}){var P,S,w,T;const k=(0,r.ZP)(),{checkExperiment:E}=(0,d.F)(),I=E("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,A=(0,o.ZP)(),C=(0,s.nk)(k.nbt([" {{review_count}}"], null != g ? g : 0, "closeup.recipe.ratings", true),{review_count:g}),R=(y&&(0,l.j$)({cookTimesCookM:null===(P=y.cook)||void 0===P?void 0:P.m,cookTimesCookH:null===(S=y.cook)||void 0===S?void 0:S.h,cookTimesTotalM:null===(w=y.total)||void 0===w?void 0:w.m,cookTimesTotalH:null===(T=y.total)||void 0===T?void 0:T.h,hasCookTimesTotal:!(!y||!y.total),i18n:k,isShortened:I})||[]).join(""),j=Number(x),D=[R,f,I?(0,s.nk)(k.nbt(["{{serves}}"], Number.isNaN(j) ? 0 : j, "closeup.recipe.serves", true),{serves:x}).join(""):b].filter(Boolean);let O=(0,s.nk)(k.bt("{{ count }} {{ ratingStars }}", "{{ ratingStars }} {{ count }}", "closeup.recipe.rating", undefined, true),{ratingStars:(0,m.jsx)(a.Z,{rating:_,max_rating:h,width:c},"ratingStars"),count:(0,m.jsx)(u.xv,{inline:!0,size:i,weight:e?"bold":"normal",children:n?g:C},"ratingCount")});return v&&(O=(0,m.jsx)(u.xu,{"data-test-id":"CookTime",children:(0,s.nk)(k.bt("{{ pinRecipe }} {{ recipeText }}", "{{ recipeText }} {{ pinRecipe }}", "closeup.recipe.cooktime", undefined, true),{recipeText:(0,m.jsx)(u.xv,{inline:!0,children:O},"recipeText"),pinRecipe:(0,m.jsx)(u.xv,{inline:!0,children:D.length>0&&(0,m.jsx)(u.xv,{inline:!0,children:`  ${D.join("  ")}`})},"pinRecipe")})})),(0,m.jsx)(u.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:v&&"phone"===A?"block":"flex",justifyContent:"start",marginTop:t,children:(0,m.jsx)(u.xv,{align:p||"phone"!==A?"start":"center",inline:!0,children:O})})}const g=({graphqlRef:e,...t})=>{var n,i,a,o,r;const l=(0,p.useFragment)(h,e),{richMetadata:s}=l,d=null==s?void 0:s.recipe;return(0,m.jsx)(_,{...t,cookTimes:null==d?void 0:d.cookTimes,dietList:((null==d?void 0:d.diets)||[]).join(", "),servingSummarySummary:null==d||null===(n=d.servingsSummary)||void 0===n?void 0:n.summary,servingSummaryServes:null==d||null===(i=d.servingsSummary)||void 0===i?void 0:i.serves,hasPinRecipe:!(null==s||!s.recipe),ratingBestRating:null==d||null===(a=d.aggregateRating)||void 0===a?void 0:a.bestRating,ratingRatingValue:null==d||null===(o=d.aggregateRating)||void 0===o?void 0:o.ratingValue,ratingReviewCount:null==d||null===(r=d.aggregateRating)||void 0===r?void 0:r.reviewCount})},v=({pinId:e,...t})=>{var n,i,a,o,r;const l=(0,c.S6)()(e),s=(null==l||null===(n=l.rich_metadata)||void 0===n?void 0:n.recipe)||{},{cook_times:d,diets:u,servings_summary:p}=s;return(0,m.jsx)(_,{...t,cookTimes:d,dietList:(u||[]).join(", "),servingSummarySummary:null==p?void 0:p.summary,servingSummaryServes:null==p?void 0:p.serves,hasPinRecipe:!(null==l||null===(i=l.rich_metadata)||void 0===i||!i.recipe),ratingBestRating:null===(a=s.aggregate_rating)||void 0===a?void 0:a.best_rating,ratingRatingValue:null===(o=s.aggregate_rating)||void 0===o?void 0:o.rating_value,ratingReviewCount:null===(r=s.aggregate_rating)||void 0===r?void 0:r.review_count})};function y({graphqlRef:e,pinId:t,...n}){return e?(0,m.jsx)(g,{...n,graphqlRef:e}):(0,m.jsx)(v,{...n,pinId:t})}},120605:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(989726),o=n(276602);function r(e){const t=(0,o.EV)(),n=(0,a.Z)({name:"PinResource",options:e.resourceOptions});return(0,i.useEffect)((()=>{n.data&&t&&t.markConstraintComplete("resource")}),[n.data,t]),e.children({pinResource:n})}},95551:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(883119),o=n(780280),r=n(785893);const l=({onSendButtonClick:e,trackShareTap:t,color:n,size:l,bgColor:s})=>{const d=(0,i.ZP)(),{userAgent:{platform:c}}=(0,o.B)(),u="android"===c;return(0,r.jsx)(a.hU,{accessibilityLabel:d.bt("", "Send", "Board.Pin.SendButton", undefined, true),onClick:({event:n})=>{e(n),t()},size:l||"lg",bgColor:s||"transparent",iconColor:n||"darkGray",icon:u?"android-share":"share"})}},744856:(e,t,n)=>{n.d(t,{v:()=>i});const i="imgViewer"},725214:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},745162:(e,t,n)=>{n.d(t,{Z:()=>i});n(883119);function i({isImagePinForUnauthOnTablet:e,truncate:t}){return e?3:t?1:2}},298024:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>r,si:()=>o});var i=n(50286);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=()=>"phone"!==(0,i.ZP)()?180:130,r=()=>"phone"!==(0,i.ZP)()?180:80},73491:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(826067);const a=()=>!!(0,i.mB)(window.location.search).simplified},856306:(e,t,n)=>{n.d(t,{ZP:()=>O,VS:()=>C,It:()=>D});var i=n(702664),a=n(725214),o=n(886076),r=n(248975),l=n(830157),s=n(926275),d=n(102500),c=n(623568),u=n(867820);const p=e=>{(async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:a,clientTrackingParams:o})=>{var r;const l={check_only:!0,client_tracking_params:o,pin_id:null!=e?e:null,url:null!==(r=(0,c.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:a}))&&void 0!==r?r:""},s=await(0,d.Z)(l).callGet();if(s&&s.resource_response&&!s.resource_response.error){const{redirect_status:e}=s.resource_response.data;return e}return"error"})(e).then((e=>(0,u.My)(`mweb.unauth.clickthrough_quality.${e}`)))};var m,h=n(759177),_=n(826067),g=n(62409),v=n(350576),y=n(772486),f=n(538232),b=n(298024),x=n(350118),P=n(534427),S=n(112690),w=n(52022),T=n(332611),k=n(48714),E=n(276775),I=n(167912);const A=void 0!==m?m:m=n(848842),C=({commerceData:e,hasRichMetadata:t,hasRichMetadataProducts:n,hasRichMetadataArticle:i,hasRichMetadataRecipe:a,imageSignature:o,location:r,pinId:s,pinMobileLink:d,trackingParams:c})=>{const u=(0,l.Z)((r.state||{}).trackingParams,c);return{object_id_str:s,component:4,element:35,view_type:3,view_parameter:(0,v.RX)(d)?3172:(0,g.CK)({hasRichMetadata:t,hasRichMetadataProducts:n,hasRichMetadataArticle:i,hasRichMetadataRecipe:a}),clientTrackingParams:u,aux_data:{commerce_data:e,image_signature:o}}},R=()=>navigator.onLine,j=({history:e,location:t,dispatch:n,shouldUpsellHomePage:i,userIsNew:l,hasPromoter:s,isAuthenticated:d,viewParameter:m,clickthroughInterstitialExperience:h,linklessOptions:g,hasPin:v,pinId:f,isEligibleForPdp:b,isOosProduct:x,isStaleProduct:P,shoppingFlags:S,imageSignature:w,mobileLink:E,trackingParams:I,link:A,trackedLink:j,hasRichMetadata:D,hasRichMetadataProducts:O,hasRichMetadataArticle:L,hasRichMetadataRecipe:N,images:F,embedSrc:M,embedType:z,category:U,domain:B,linkDomainOfficialUserImageMediumUrl:Z,logContextEvent:V,trackInteraction:H})=>()=>{var K,G;if(!v)return;const W=C({commerceData:(0,o.Z)({isEligibleForPdp:b,isOosProduct:x,isStaleProduct:P,pinShoppingFlags:S}),hasRichMetadata:D,hasRichMetadataProducts:O,hasRichMetadataArticle:L,hasRichMetadataRecipe:N,imageSignature:w,location:t,pinId:f,pinMobileLink:E,trackingParams:I});var $;((0,u.My)("mweb_pin_page.pin_image.clickthrough_occurred"),H({action:"click",item:"clickthrough"}),d)||p({pinId:f,link:A,mobileLink:E,origImageUrl:null==F||null===($=F.orig)||void 0===$?void 0:$.url,trackedLink:j,clientTrackingParams:W.clientTrackingParams});12===(0,y.jC)(W)&&V({event_type:8948,view_type:3,view_parameter:m,object_id_str:f,clientTrackingParams:W.clientTrackingParams,aux_data:{image_signature:w,closeup_navigation_type:(0,a.Z)(e),click_type:"clickthrough",cosmic_ray_count:"1"}});const q=null!==(K=(0,c.Zt)({link:A,mobileLink:E,origImageUrl:null==F||null===(G=F.orig)||void 0===G?void 0:G.url,trackedLink:j}))&&void 0!==K?K:"",Y={pin:f,client_tracking_params:W.clientTrackingParams};if(g){if(!g.actionBarIsMinifiedToMainPinImage){const e=new XMLHttpRequest;e.open("GET",(0,k.nS)({url:q,queryParams:Y})),e.send()}return void g.onTap()}const X=!s&&(l||i);if(X&&n((0,T.kd)(1000162)),X&&h){n((0,T.UT)(h.placement_id,h.experience_id)),n((0,T.CK)(h.placement_id,h.experience_id));const e=(0,k.nS)({url:q,queryParams:Y}),i=(0,r.Z)({images:F,embedSrc:M,embedType:z}),a=t.pathname+t.search;if(!R())return;const o={domain:null!=B?B:"",domainImageUrl:null!=Z?Z:"",origin:a,pinCategory:U,pinImageUrl:i,redirectUrl:e};window.open((0,_.ru)("/pin_redirect",o),"_blank")}else{if(!R())return;(0,k.Gj)({url:q,queryParams:Y})}},D=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n})=>{var a,o,r,l,d,c,u,p,m,_;const g=(0,E.useHistory)(),v=(0,E.useLocation)(),y=(0,i.useDispatch)(),b=(0,P.S)(),x=(0,i.useSelector)((({users:e,session:t})=>(0,s.Z)(e[t.userId].created_at))),{isAuthenticated:T,viewParameter:k}=(0,f.R)(),C=(0,I.useFragment)(A,n),R=(0,h.Z)(C),D=!(!C.promoter||C.isDownstreamPromotion),O=null!==(a=C.category)&&void 0!==a?a:"",L=(0,S.Z)(),N=(0,w.Z)();return j({history:g,location:v,dispatch:y,shouldUpsellHomePage:b,userIsNew:x,hasPromoter:D,isAuthenticated:T,viewParameter:k,clickthroughInterstitialExperience:e,linklessOptions:t,logContextEvent:L,trackInteraction:N,hasPin:Boolean(C.entityId),pinId:null!==(o=C.entityId)&&void 0!==o?o:"",isEligibleForPdp:Boolean(C.isEligibleForPdp),isOosProduct:Boolean(C.isOosProduct),isStaleProduct:Boolean(C.isStaleProduct),shoppingFlags:null!==(r=C.shoppingFlags)&&void 0!==r?r:void 0,imageSignature:C.imageSignature,mobileLink:C.mobileLink,trackingParams:C.trackingParams,link:C.link,trackedLink:C.trackedLink,hasRichMetadata:Boolean(C.richMetadata),hasRichMetadataProducts:Boolean(null===(l=C.richMetadata)||void 0===l?void 0:l.products),hasRichMetadataArticle:Boolean(null===(d=C.richMetadata)||void 0===d?void 0:d.article),hasRichMetadataRecipe:Boolean(null===(c=C.richMetadata)||void 0===c?void 0:c.recipe),images:R,embedSrc:null===(u=C.embed)||void 0===u?void 0:u.src,embedType:null===(p=C.embed)||void 0===p?void 0:p.type,category:O,domain:C.domain,linkDomainOfficialUserImageMediumUrl:null===(m=C.linkDomain)||void 0===m||null===(_=m.officialUser)||void 0===_?void 0:_.imageMediumUrl})},O=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n})=>{var a,o,r,l,d,c,u,p;const m=(0,E.useHistory)(),h=(0,E.useLocation)(),_=(0,i.useDispatch)(),g=(0,P.S)(),v=(0,i.useSelector)((({users:e,session:t})=>(0,s.Z)(e[t.userId].created_at))),y=(0,x.S6)()(n),T=(0,b.Ph)(null!=y?y:void 0),{isAuthenticated:k,viewParameter:I}=(0,f.R)(),A=(0,S.Z)(),C=(0,w.Z)();return j({history:m,location:h,dispatch:_,shouldUpsellHomePage:g,userIsNew:v,hasPromoter:!!T,isAuthenticated:k,viewParameter:I,clickthroughInterstitialExperience:e,linklessOptions:t,logContextEvent:A,trackInteraction:C,hasPin:Boolean(y),pinId:null!==(a=null==y?void 0:y.id)&&void 0!==a?a:"",isEligibleForPdp:Boolean(null==y?void 0:y.is_eligible_for_pdp),isOosProduct:Boolean(null==y?void 0:y.is_oos_product),isStaleProduct:Boolean(null==y?void 0:y.is_stale_product),shoppingFlags:null==y?void 0:y.shopping_flags,imageSignature:null==y?void 0:y.image_signature,mobileLink:null==y?void 0:y.mobile_link,trackingParams:null==y?void 0:y.tracking_params,link:null==y?void 0:y.link,trackedLink:null==y?void 0:y.tracked_link,hasRichMetadata:Boolean(null==y?void 0:y.rich_metadata),hasRichMetadataProducts:Boolean(null==y||null===(o=y.rich_metadata)||void 0===o?void 0:o.products),hasRichMetadataArticle:Boolean(null==y||null===(r=y.rich_metadata)||void 0===r?void 0:r.article),hasRichMetadataRecipe:Boolean(null==y||null===(l=y.rich_metadata)||void 0===l?void 0:l.recipe),images:null==y?void 0:y.images,embedSrc:null==y||null===(d=y.embed)||void 0===d?void 0:d.src,embedType:null==y||null===(c=y.embed)||void 0===c?void 0:c.type,category:null==y?void 0:y.category,domain:null==y?void 0:y.domain,linkDomainOfficialUserImageMediumUrl:null==y||null===(u=y.link_domain)||void 0===u||null===(p=u.official_user)||void 0===p?void 0:p.image_medium_url})}},362240:(e,t,n)=>{n.d(t,{E:()=>m,Z:()=>h});var i=n(702664),a=n(248975),o=n(957161),r=n(50286),l=n(667679),s=n(639952),d=n(867820),c=n(773285),u=n(118405),p=n(872482);const m=({action:e,isAuthenticated:t})=>(0,d.My)(`mweb_${e}.closeup.is_auth_${String(t)}`);function h({embedSrc:e,embedType:t,images:n,pinId:h,isFromUnauthContextMenu:_}){const g=(0,p.a)(),{numUnauthSavedPins:v,setNumUnauthSavedPins:y}=(0,u.U)(),f=(0,i.useDispatch)(),b=(0,r.ZP)(),x=(0,l.Z)(),P=!!(h&&g&&g.unauthSavedPinsStore.isSaved(h)),{checkExperiment:S}=(0,c.F)();if(g&&h)return{isSaved:P,onSave:()=>{m({action:"save_click",isAuthenticated:!1});let i="save",r=!0;if("desktop"!==b){const{unauthSavedPinsStore:o}=g,l=!!o.pins.length;_||(0,d.My)(`unauth.mweb.closeup.save_button.click.${S("mweb_unauth_save_shopping_cart_v0").group}`),!_&&o.canSaveMore()?(o.save({id:h,imageUrl:(0,a.Z)({images:n,embedSrc:e,embedType:t})}),r=!1,y(v+1)):(f((0,s.QZ)(h)),i=l&&!_?"extended_save_out_of_quota":"save")}else o.Z.setItem("unauthDesktopSavePinId",h);r&&(x({attributionLabel:"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"desktop"===b&&S("dweb_signup_to_login_modal").group.endsWith("save")?"login":"signup",modalOptions:{source:"saveButtonExp",container:"save"}}}),"desktop"===b?(0,d.My)(`dweb.pin.save.click.${S("dweb_signup_to_login_modal").group}`):"extended_save_out_of_quota"===i?(0,d.My)(`unauth.mweb.closeup.save_conversion_modal.view.${S("mweb_unauth_save_shopping_cart_v0").group}`):(0,d.My)(`unauth.mweb.closeup.default.save_conversion_modal.view.is_from_context_menu_${String(_)}`))},onUnsave:()=>{v>=1&&y(v-1);const{unauthSavedPinsStore:e}=g;e.unsave(h),(0,d.My)("unauth.mweb.closeup.unsave_button.click"),m({action:"unsave_click",isAuthenticated:!1}),"desktop"===b&&o.Z.removeItem("unauthDesktopSavePinId")}}}},248041:(e,t,n)=>{n.d(t,{Z:()=>d,t:()=>s});var i=n(667294),a=n(867820),o=n(276775),r=n(785893);const l=(0,i.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function s({children:e,isEligible:t}){const[n,s]=(0,i.useState)(!t),[d,c]=(0,i.useState)(!1),{pathname:u}=(0,o.useLocation)();(0,i.useEffect)((()=>{s(!t)}),[u,t]);const p=(0,i.useCallback)((()=>{(0,a.My)("web_unification.expand_click.hide_drawer"),s(!0)}),[]),m=(0,i.useCallback)((e=>{c(!!e)}),[]),h=(0,i.useMemo)((()=>({isHidden:n,hide:p,isScrolledToPins:d,scrollToPins:m})),[n,p,d,m]);return(0,r.jsx)(l.Provider,{value:h,children:e})}const d=()=>(0,i.useContext)(l)},759177:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(167912);const o=void 0!==i?i:i=n(96795);const r=e=>function(e){var t,n,i,a,o,r,l,s,d,c,u,p,m,h,_,g,v,y,f,b,x,P,S,w,T,k,E;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.url)||void 0,width:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.width)||void 0},"170x":{height:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.height)||void 0,url:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.url)||void 0,width:(null==e||null===(d=e.imageSpec_170x)||void 0===d?void 0:d.width)||void 0},"236x":{height:(null==e||null===(c=e.imageSpec_236x)||void 0===c?void 0:c.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.height)||void 0,url:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.url)||void 0,width:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.width)||void 0},"564x":{height:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.url)||void 0,width:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.width)||void 0},"600x315":{height:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.height)||void 0,url:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.url)||void 0,width:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.width)||void 0},orig:{height:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.height)||void 0,url:(null==e||null===(k=e.imageSpec_orig)||void 0===k?void 0:k.url)||void 0,width:(null==e||null===(E=e.imageSpec_orig)||void 0===E?void 0:E.width)||void 0}}}((0,a.useFragment)(o,e))},620725:(e,t,n)=>{n.d(t,{Z:()=>X});var i=n(667294),a=n(702664),o=n(896628),r=n(499128),l=n(898781),s=n(883119),d=n(785893);const c="spam",u="nudity",p="self-harm",m="hate-speech",h="attacks",_="graphic-violence",g="medical-misinformation",v=({onReasonSelect:e})=>{const t=(0,l.ZP)();return(e=>[{key:c,title:e.bt("", "Spam", "Report comment option", undefined, true),subtitle:e.bt("    ", "Misleading or repetitive posts", "Report comment option description", undefined, true)},{key:u,title:e.bt(" ", "Sexual commentary", "Report comment option", undefined, true),subtitle:e.bt("  ", "Sexually explicit content", "Report comment option description", undefined, true)},{key:p,title:e.bt("", "Self-harm", "Report comment option", undefined, true),subtitle:e.bt(" , , ,  ", "Eating disorders, cutting, suicide, drugs", "Report comment option description", undefined, true)},{key:g,title:e.bt("  ", "Medical misinformation", "Report comment option", undefined, true),subtitle:e.bt("          ", "Harmful or misleading content about health and safety", "Report comment option description", undefined, true)},{key:m,title:e.bt(" ", "Hate speech", "Report comment option", undefined, true),subtitle:e.bt("       ", "Prejudice or attacks directed at protected groups", "Report comment option description", undefined, true)},{key:h,title:e.bt("    ", "Harassment or privacy violations", "Report comment option", undefined, true),subtitle:e.bt(",  , ", "Blackmail, personal attacks or bullying", "Report comment option description", undefined, true)},{key:_,title:e.bt("  ", "Graphic violence", "Report comment option", undefined, true),subtitle:e.bt("   ", "Threats or promotion of violence", "Report comment option description", undefined, true)}])(t).map((({key:n,title:i,subtitle:a})=>(0,d.jsx)(s.iP,{onTap:e(n),children:(0,d.jsxs)(s.xu,{paddingY:3,display:"flex",justifyContent:"between",children:[(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.X6,{size:"400",children:i}),(0,d.jsx)(s.xv,{size:"300",color:"subtle",children:a})]}),(0,d.jsx)(s.JO,{icon:"arrow-forward",accessibilityLabel:t.bt("  ", "Arrow Forward", "reportPinReasonSelection.openUrl.accessibilityLabel", undefined, true),color:"default"})]})},n)))};var y=n(139405),f=n(343341);const b=e=>{const t="policies";switch(e){case c:return[c,"spamPin"];case u:return[t,u];case p:return[t,"hurtfulContent","selfHarm"];case m:return[t,"hurtfulContent","hateSpeech"];case h:return[t,"hurtfulContent","harassingMeOrMyChild"];case _:return[t,"gore"];default:return[]}},x=({commentId:e,onDismiss:t,reason:n})=>{const a=(0,l.ZP)(),{flagAggregatedComment:o,aggregatedCommentHidden:v}=(0,y.nf)(),{showToast:x}=(0,f.F9)(),[P,S]=(0,i.useState)(!1),{title:w,nonRemovals:T,removals:k}=(e=>({[c]:{title:e.bt(" ?", "Report spam?", "Confirm report comment reason title", undefined, true),removals:[e.bt("     ", "Misleading content or behavior", "Example of spam", undefined, true),e.bt("  ", "Repetitive posts", "Example of spam", undefined, true),e.bt("   ", "Unsolicited commercial messages", "Example of spam", undefined, true)]},[u]:{title:e.bt("  ?", "Report a sexual comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("  ", "Graphic sexual descriptions", "Example of sexual comment", undefined, true),e.bt("   ", "Unsolicited sexual remarks", "Example of sexual comment", undefined, true),e.bt("   ", "Links to sexual content", "Example of sexual comment", undefined, true)]},[p]:{title:e.bt("  ?", "Report this comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt(", ,      ", "Encouragement of self-injury, suicide, eating disorders and substance abuse", "Example of self-injury", undefined, true),e.bt("   ", "Buying or selling drugs", "Example of self-injury", undefined, true),e.bt("  ", "Jokes about self-harm", "Example of self-injury", undefined, true)],notes:e.bt("        .", "We may send support resources to the person who left this comment.", "Note on further actions Pinterest may take in the case of self-harm content.", undefined, true)},[g]:{title:e.bt("   ?", "Report medical misinformation?", "Confirm report comment reason title", undefined, true),removals:[e.bt("          ", "False cures for cancer or other chronic or terminal illnesses", "Example of medical misinformation", undefined, true),e.bt("   ", "Anti-vaccination advice", "Example of medical misinformation", undefined, true)],nonRemovals:[e.bt("               ", "Diet advice, including cleanses and supplements that can boost the immune system", "Example of a comment we will not remove", undefined, true),e.bt("       ,   ", "Teas, oils and herbs proposed for aromatic and sleep quality", "Example of a comment we will not remove", undefined, true)]},[m]:{title:e.bt("  ?", "Report hateful speech?", "Confirm report comment reason title", undefined, true),removals:[e.bt("     ", "Attacks or slurs directed at protected groups", "Example of hate speech", undefined, true),e.bt("      ", "Support for hate groups and their messages", "Example of hate speech", undefined, true),e.bt("     ", "Denial of someones gender or sexual identity", "Example of hate speech", undefined, true)]},[h]:{title:e.bt("  ?", "Report harassment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Bullying", "Example of harassment", undefined, true),e.bt("   ", "Profanity directed at individuals", "Example of harassment", undefined, true),e.bt("  (  )", "Personally identifiable information (even if shared voluntarily)", "Example of harassment", undefined, true)]},[_]:{title:e.bt("   ?", "Report graphic violence?", "Confirm report comment reason title", undefined, true),removals:[e.bt("   ", "Glorification or promotion of violence", "Example of violence", undefined, true),e.bt(" ", "Threats of harm", "Example of violence", undefined, true)]}}))(a)[n];return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,d.jsx)(s.xu,{paddingY:4,children:(0,d.jsx)(s.X6,{align:"center",children:w})}),(0,d.jsxs)(s.xu,{paddingY:4,children:[(0,d.jsx)(s.xv,{children:"We remove things such as"}),(0,d.jsx)(s.xu,{paddingY:2,children:k.map((e=>(0,d.jsxs)(s.xv,{children:[" ",e]},e)))})]}),T&&(0,d.jsxs)(s.xu,{paddingY:4,children:[(0,d.jsx)(s.xv,{children:"We don't remove things like"}),(0,d.jsx)(s.xu,{paddingY:2,children:T.map((e=>(0,d.jsxs)(s.xv,{children:[" ",e]},e)))})]}),(0,d.jsx)(s.xu,{alignSelf:"center",marginTop:3,children:(0,d.jsx)(s.zx,{color:"red",onClick:()=>{v(e),o({commentId:e,reason:n,detailedReasons:b(n)}).then((()=>{x((({hideToast:e})=>(0,d.jsx)(r.ZP,{text:a.bt("!   Pinterest       .", "Thanks! Your feedback helps us improve Pinterest.", "reportPinReasonDetail.submit.toast", undefined, true),onHide:e}))),setTimeout((()=>{t()}),3500)}))},size:"lg",text:a.bt("", "Report", "reportCommentConfirmation.button.report", undefined, true)})})]}),P&&(0,d.jsx)(r.ZP,{onHide:(E=!1,()=>{S(E)}),text:a.bt("!   Pinterest       ", "Thanks! Your feedback helps us improve Pinterest", "comment.report.confirmationToast", undefined, true),duration:3500})]});var E};var P=n(164985),S=n(121151);const w=({commentId:e,isModalOpen:t,onDismiss:n})=>{const a=(0,l.ZP)(),[o,r]=(0,i.useState)(void 0);(0,i.useEffect)((()=>{t&&r(void 0)}),[t]);if(!e)return null;const{windowHeight:c}=(0,P.Z)();return(0,d.jsx)(S.ZP,{mobileAccessibilityCloseIconLabel:a.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:a.bt(" ", "Report Comment", "reportComment.heading", undefined, true),isOpen:t,mobileIsSlideUp:!0,onDismiss:n,children:(0,d.jsx)(s.xu,{height:c-90,paddingX:5,paddingY:3,children:o?(0,d.jsx)(x,{commentId:e,onDismiss:n,reason:o}):(0,d.jsx)(v,{onReasonSelect:e=>()=>{r(e)}})})})},T=({commentId:e,isMenuOpen:t,isViewingOwnComment:n,onDelete:a,onDismiss:o,openEditComposer:r})=>{const c=(0,l.ZP)(),[u,p]=(0,i.useState)(!1);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(S.ZP,{mobileAccessibilityCloseIconLabel:c.bt("", "Close", "commentOverflowMenu.close", undefined, true),accessibilityModalLabel:"",isOpen:t,mobileIsSlideUp:!0,onDismiss:o,children:(0,d.jsx)(s.xu,{padding:3,children:n?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(s.iP,{onTap:r,children:(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(s.xv,{weight:"bold",children:c.bt("", "Edit", "commentOverflowMenu.option.edit", undefined, true)})})}),(0,d.jsx)(s.iP,{onTap:a(e),children:(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(s.xv,{weight:"bold",children:c.bt("", "Delete", "commentOverflowMenu.option.delete", undefined, true)})})})]}):(0,d.jsx)(s.iP,{onTap:()=>{p(!0)},children:(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(s.xv,{weight:"bold",children:c.bt("", "Report", "commentOverflowMenu.option.report", undefined, true)})})})})}),(0,d.jsx)(w,{commentId:e,isModalOpen:u,onDismiss:()=>{p(!1),o()}})]})};var k=n(852782),E=n(431389),I=n(214494);var A,C=n(829407),R=n(784590),j=n(19121),D=n(664569),O=n(162379),L=n(442279),N=n(349700),F=n(623568),M=n(350118),z=n(50286),U=n(276775),B=n(235872),Z=n(698330),V=n(114020),H=n(584595),K=n(167912);const G=(0,L.P1)(((e,t,n)=>n),(({feeds:e},t)=>e[`unified-comments:${t||""}`]),(({triedits:e})=>e),((e,t,n,i)=>i),((e,t,n,i)=>(null==t?void 0:t.map((({id:t,type:a})=>{var o,r;const l="aggregatedcomment"===a.toLowerCase()?e[t]:n[t];if(!l)return;const s="string"==typeof l.user?null!==(o=i[l.user])&&void 0!==o?o:{}:null!==(r=l.user)&&void 0!==r?r:{};return{...l,tagged_users:(l.tagged_users||[]).map((e=>{var t;return null!==(t=i[e])&&void 0!==t?t:{}})),user:null!=s?s:{}}})).filter((e=>e)))||[])),W=void 0!==A?A:A=n(683781),$=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,disabled:r=!1,hasComments:c,isComposingNewComment:u=!1,isReadOnly:p,pinId:m,isVideo:h,pinnerId:_,setIsComposingNewComment:g=(()=>{}),storyPinDataId:v})=>{const{comment_id:f}=(0,U.useParams)(),b=(0,l.ZP)(),x=(0,z.HG)(),P=(0,j.Z)(),{isFetching:S,isLoaded:w}=(0,R.Z)(c?{name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:f,page_size:x?10:25,redux_normalize_feed:!0}}:null),{removeUnauthCommentPinId:A,unauthCommentPinId:L}=(0,V.C)(),F=(0,y.lV)(),{toggleAggregatedCommentHelpful:M,toggleAggregatedCommentLike:K,updateAggregatedComment:W}=(0,y.nf)(),$=(0,E.Z)(),q=function(){const{aggregatedCommentDeleted:e,updateCommentCount:t}=(0,y.nf)();return async({commentId:n,parentId:i,isReply:a})=>{I.Z.create("AggregatedCommentResource",{commentId:n,pinId:a?void 0:i}).callDelete().then((()=>{e(i,n),a&&t(i,-1)}))}}(),Y=(0,Z.kW)(),X=(0,a.useSelector)((t=>G(t,e,F,Y))),[J,Q]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(void 0),[ne,ie]=(0,i.useState)(void 0),[ae,oe]=(0,i.useState)(""),[re,le]=(0,i.useState)(void 0),[se,de]=(0,i.useState)(void 0),[ce,ue]=(0,i.useState)(O.A.NONE),[pe,me]=(0,i.useState)(void 0),he=P.isAuth?P.id:null;(0,C.Z)((()=>{!x&&P.isAuth&&L&&m&&L===m&&(oe(b.bt(" ", "Add comment", "commentComposer.heading.addComment", undefined, true)),g(!0),A())}));let _e="",ge=[];"aggregatedcomment"===(null==re?void 0:re.parentType)?(_e=`@${re.user.username} `,ge=[{length:re.user.username.length+1,object_id:re.user.id,offset:0,tag_type:B.XU}]):se&&(_e=se.text,ge=se.tags);const ve=()=>{g&&g(!1),le(void 0),de(void 0),oe("")},ye=()=>{Q(!1)};return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(s.xu,{marginTop:x?4:0,children:[(0,d.jsx)(k.Z,{comments:X,isDesktop:x,isReadOnly:p,isLoaded:w||!c,openOverflowMenu:e=>{Q(!0),te(e.id),ie(e.user.id)},toggleReplyComposer:(e,t,n)=>{if(e){const{user:{first_name:i,full_name:a,username:o}}=e;oe((0,N.nk)(b.bt("{{ name }}  ", "Reply to {{ name }}", "commentComposer.heading.replyTo", undefined, true),{name:i||a||o}).join("")),e.parentId=t,e.parentType=n}le(e)},parentId:null!=e?e:"",parentType:D.o.pin,toggleHelpful:(e,t)=>()=>{M({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t)=>()=>{K({aggregatedCommentId:e,isLikedByMe:t})},userAvatarSize:"sm",aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,pinId:m,isVideo:h,storyPinDataId:v,pinnerId:_,showReactionListForComment:me,reactionListCommentId:pe}),(0,d.jsx)(s.$j,{accessibilityLabel:"comment thread loading",show:S})]}),(0,d.jsx)(o.Z,{commentWarningModalState:ce,defaultText:_e,dismissCommentWarningModal:()=>{ue(O.A.NONE)},heading:ae,initialMentions:ge,isModalOpen:!(!u&&!re&&!se||r),onDismiss:ve,onPost:async(t,n,i)=>{let a;if(se)a=W({commentId:se.id,force:i,text:t,tags:"[]"});else if(m){const o="aggregatedcomment"===(null==re?void 0:re.parentType),r=o?null==re?void 0:re.parentId:(null==re?void 0:re.id)||e;r&&(a=$({force:i,parentId:r,pinId:m,text:t,tags:JSON.stringify(n),isReply:!!re,replyToCommentId:o?null==re?void 0:re.id:null}))}if(!a)return!0;try{await a,ve(),ye()}catch(o){return[H.ky,H.LJ].includes(o.api_error_code)&&ue(o.api_error_code===H.ky?O.A.WARNING:O.A.BLOCK),!1}return!0}}),ee&&(0,d.jsx)(T,{commentId:ee,isMenuOpen:J,isViewingOwnComment:ne===he,onDelete:t=>()=>{const n=(null==re?void 0:re.id)||e;try{n&&q({commentId:t,parentId:n,isReply:!!re}).then(ye)}catch(i){}},onDismiss:ye,openEditComposer:()=>{const e=F[null!=ee?ee:""];e&&(oe(b.bt(" ", "Edit comment", "commentComposer.heading.editComment", undefined, true)),de(e))}})]})};function q({graphqlRef:e,...t}){var n,i,a,o,r,l,s;const c=(0,K.useFragment)(W,e);return(0,d.jsx)($,{aggregatedPinDataId:null===(n=c.aggregatedPinData)||void 0===n?void 0:n.entityId,closeupAttributionId:null===(i=c.closeupAttribution)||void 0===i?void 0:i.entityId,closeupAttributionUsername:null===(a=c.closeupAttribution)||void 0===a?void 0:a.username,hasComments:((null===(o=c.aggregatedPinData)||void 0===o?void 0:o.commentCount)||0)>0,isVideo:Boolean(null===(r=c.videos)||void 0===r?void 0:r.videoList),pinId:c.entityId,pinnerId:null===(l=c.pinner)||void 0===l?void 0:l.entityId,storyPinDataId:null===(s=c.storyPinData)||void 0===s?void 0:s.entityId,graphqlRef:c,...t})}function Y(e){var t,n,i,a,o,r;const l=(0,M.S6)()(e.pinId),s=null==l||null===(t=l.aggregated_pin_data)||void 0===t?void 0:t.id;return(0,d.jsx)($,{aggregatedPinDataId:s,closeupAttributionId:null==l||null===(n=l.closeup_attribution)||void 0===n?void 0:n.id,closeupAttributionUsername:null==l||null===(i=l.closeup_attribution)||void 0===i?void 0:i.username,hasComments:((null==l||null===(a=l.aggregated_pin_data)||void 0===a?void 0:a.comment_count)||0)>0,isVideo:(0,F.iR)(null==l?void 0:l.videos),pinId:null==l?void 0:l.id,pinnerId:null==l||null===(o=l.pinner)||void 0===o?void 0:o.id,storyPinDataId:null==l||null===(r=l.story_pin_data)||void 0===r?void 0:r.id,...e})}function X({graphqlRef:e,...t}){return e?(0,d.jsx)(q,{graphqlRef:e,...t}):(0,d.jsx)(Y,{...t})}},676719:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var i,a=n(667294),o=n(620725),r=n(121151),l=n(898781),s=n(667679),d=n(19121),c=n(664569),u=n(623568),p=n(773285),m=n(350118),h=n(114020),_=n(162379),g=n(883119),v=n(167912),y=n(785893);const f=void 0!==i?i:i=n(993537),b=({commentCount:e,graphqlRef:t,isModalOpen:n,onDismiss:i,pinId:u})=>{const m=(0,l.ZP)(),{checkExperiment:v}=(0,p.F)(),f=(0,s.Z)(),{setUnauthCommentPinId:b}=(0,h.C)(),{isAuth:x}=(0,d.Z)(),[P,S]=(0,a.useState)(!1);return(0,y.jsx)(r.ZP,{mobileAccessibilityCloseIconLabel:m.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:m.bt("", "Comments", "commentThreadModal.heading", undefined, true),isOpen:n,mobileIsSlideUp:!0,onDismiss:i,children:(0,y.jsxs)(g.kC,{direction:"column",alignContent:"stretch",children:[(0,y.jsx)(g.xu,{height:"60vh",paddingX:3,maxHeight:640,minHeight:128,overflow:"scrollY",children:e>0?(0,y.jsx)(o.Z,{graphqlRef:t,isComposingNewComment:P,isReadOnly:!x,pinId:u,setIsComposingNewComment:S}):(0,y.jsx)(g.xv,{align:"center",children:m.bt("  ", "No comments yet", "commentThreadModal.emptyState.label", undefined, true)})}),(x||v("mweb_lop_comment_composer_upsell").anyEnabled)&&(0,y.jsx)(g.xu,{paddingX:4,paddingY:2,children:(0,y.jsx)(_.Z,{commentWarningModalState:_.A.NONE,dismissCommentWarningModal:()=>{},objectType:c.o.pin,onEnter:x?()=>{S(!0)}:()=>{b(u),f({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",mobileOptions:{headingType:"comment_compose"}})},statusType:"textStaticDisplay"})})]})})};function x({graphqlRef:e,...t}){var n,i,a,o,r,l,s;const d=(0,v.useFragment)(f,e);return(0,y.jsx)(b,{...t,aggregatedPinDataId:null===(n=d.aggregatedPinData)||void 0===n?void 0:n.entityId,closeupAttributionId:null===(i=d.closeupAttribution)||void 0===i?void 0:i.entityId,closeupAttributionUsername:null===(a=d.closeupAttribution)||void 0===a?void 0:a.username,commentCount:(null===(o=d.aggregatedPinData)||void 0===o?void 0:o.commentCount)||0,isVideo:Boolean(null===(r=d.videos)||void 0===r?void 0:r.videoList),pinnerId:null===(l=d.pinner)||void 0===l?void 0:l.entityId,storyPinDataId:null===(s=d.storyPinData)||void 0===s?void 0:s.entityId,graphqlRef:d})}function P(e){var t,n,i,a,o,r;const l=(0,m.S6)()(e.pinId);return(0,y.jsx)(b,{...e,aggregatedPinDataId:null==l||null===(t=l.aggregated_pin_data)||void 0===t?void 0:t.id,closeupAttributionId:null==l||null===(n=l.closeup_attribution)||void 0===n?void 0:n.id,closeupAttributionUsername:null==l||null===(i=l.closeup_attribution)||void 0===i?void 0:i.username,commentCount:(null==l||null===(a=l.aggregated_pin_data)||void 0===a?void 0:a.comment_count)||0,isVideo:(0,u.iR)(null==l?void 0:l.videos),pinnerId:null==l||null===(o=l.pinner)||void 0===o?void 0:o.id,storyPinDataId:null==l||null===(r=l.story_pin_data)||void 0===r?void 0:r.id})}function S({graphqlRef:e,...t}){return e?(0,y.jsx)(x,{...t,graphqlRef:e}):(0,y.jsx)(P,{...t})}var w,T=n(112690),k=n(252417),E=n(867820),I=n(643010),A=n(276775);const C=void 0!==w?w:w=n(647154),R=({graphqlRef:e,iconColor:t,iconSize:n,pinId:i,storyPinDataId:o,disabled:r=!1})=>{const s=(0,I.vs)(),{checkExperiment:c}=(0,p.F)(),u=(0,l.ZP)(),m=(0,T.Z)(),{comment_id:_}=(0,A.useParams)(),{unauthCommentPinId:v}=(0,h.C)(),{isAuth:f}=(0,d.Z)(),[b,x]=(0,a.useState)(!!_||f&&!!v&&!!i&&v===i),P=c(f?"closeup_auth_mweb_action_bar":"closeup_unauth_mweb_action_bar").anyEnabled,w=()=>{f||(0,E.My)("pcons.comment_button_clicked"),m({event_type:102,element:2,view_type:3}),x(!0)};return(0,y.jsxs)(a.Fragment,{children:[P?(0,y.jsx)(g.iP,{accessibilityLabel:u.bt("", "comments", "closeup.storyPin.actionBar.commentThread", undefined, true),onTap:r?void 0:w,children:(0,y.jsx)(g.xu,{minHeight:k.oZ,minWidth:k.oZ,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",opacity:r?.5:1,background:o||s?"white":"black"}}})}):(0,y.jsx)(g.hU,{accessibilityLabel:u.bt("", "comments", "closeup.storyPin.actionBar.commentThread", undefined, true),icon:"speech",size:n||"lg",iconColor:t,onClick:w}),b&&(0,y.jsx)(S,{isModalOpen:!0,onDismiss:()=>{x(!1)},graphqlRef:e,pinId:i})]})},j=({graphqlRef:e,...t})=>{var n;const i=(0,v.useFragment)(C,e);return(0,y.jsx)(R,{graphqlRef:i,storyPinDataId:null===(n=i.storyPinData)||void 0===n?void 0:n.entityId,...t})},D=e=>{var t;const n=(0,m.S6)()(e.pinId);return(0,y.jsx)(R,{storyPinDataId:null==n||null===(t=n.story_pin_data)||void 0===t?void 0:t.id,...e})};function O({graphqlRef:e,...t}){return e?(0,y.jsx)(j,{graphqlRef:e,...t}):(0,y.jsx)(D,{...t})}},114020:(e,t,n)=>{n.d(t,{C:()=>l,p:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},896628:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(121151),o=n(947599),r=n(898781),l=n(883119),s=n(785893);const d=(0,i.lazy)((()=>Promise.all([n.e(72586),n.e(46888),n.e(95781)]).then(n.bind(n,395781)))),c=({commentWarningModalState:e,defaultText:t,dismissCommentWarningModal:n,heading:c,initialMentions:u,isModalOpen:p,onDismiss:m,onPost:h,placeholder:_})=>{const g=(0,r.ZP)(),[v,y]=(0,i.useState)(!1),f=(0,s.jsx)(l.xv,{align:"center",size:"300",weight:"bold",children:c});return(0,s.jsx)(a.ZP,{mobileAccessibilityCloseIconLabel:g.bt("", "Close", "commentComposer.close", undefined, true),accessibilityModalLabel:"",heading:f,mobileIsFullscreen:v,isOpen:p,mobileIsSlideUp:!0,onDismiss:()=>{m(),y(!1)},children:(0,s.jsx)(l.xu,{padding:3,children:(0,s.jsx)(o.Z,{children:(0,s.jsx)(d,{defaultText:t,dismissCommentWarningModal:n,initialMentions:u,onPost:(e,t,n)=>()=>{h(e,t,n)},placeholder:_,toggleFullScreen:e=>{y(e)},warningModalState:e})})})})}},431389:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),a=n(214494),o=n(422946),r=n(956800),l=n(139405);function s(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i,parentId:l,pinId:s,text:d,tags:c,isReply:u,replyToCommentId:p})=>{const m={force:i,objectId:l,pinId:s,tags:c,text:d,replyToCommentId:p},h=u?"AggregatedCommentReplyResource":"AggregatedCommentResource";return a.Z.create(h,m).callCreate().then((i=>{const a=i.resource_response.data;t(l,a),e((0,r.vX)({feedType:u?o.DV.AGGREGATED_COMMENT_REPLIES:o.DV.UNIFIED_COMMENTS,feedId:l,itemIds:[a.id],itemType:a.type})),u&&n(l,1)}))}}},998651:(e,t,n)=>{n.d(t,{L:()=>l,r:()=>r});var i=n(385740),a=n(909499);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function r({query:e,rs:t,scope:n},o){const r=(0,i.BE)(),l=!(null!=r&&r.viewType||null!=r&&r.viewParameter),s=(0,a.wF)(n);if(!l&&s){const{viewType:n,viewParameter:i}=null!=r?r:{};o({event_type:s,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&o.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},163331:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(121093),a=n(667294),o=n(250059),r=n(149230),l=n(287072),s=n(643010),d=n(883119),c=n(785893);const u={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},p={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},m=({color:e,isPrimary:t,shape:n,text:i,textColor:a})=>{const o=(t?u:p)[(0,s.Yc)()?"darkMode":"lightMode"];return(0,c.jsx)(d.xv,{align:"center",weight:"bold",children:(0,c.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||o.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:a||o.color,padding:"10px 14px"},children:i})})},h=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:a,color:s,isPrimary:u,textColor:p,minHeight:h=40,shape:_,text:g})=>{const v=(0,o.Z)(i),y=(0,l.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:v});return(0,c.jsx)(d.xu,{"aria-label":a,minHeight:h,children:v?(0,c.jsx)(d.iP,{role:"link",onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||y({event:e})},href:v,target:"blank",rel:(0,r.Z)({url:v})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===_?"pill":2,children:(0,c.jsx)(m,{color:s,isPrimary:u,shape:_,text:g,textColor:p})}):(0,c.jsx)(d.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===_?"pill":2,children:(0,c.jsx)(m,{color:s,isPrimary:u,shape:_,text:g,textColor:p})})})};var _=n(249647),g=n(164985),v=n(391254),y=n(70061);function f(e){return e.startsWith("https://")||e.startsWith("http://")}const b=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:o,placement_id:r}=e||{},l=(0,a.useMemo)((()=>(0,_.Z)(y.Z)(i)),[i]),{backgroundColorNarrowMweb:s,backgroundColorWideMweb:u,backgroundImageNarrow:p,backgroundImageWide:m,button1ColorNarrowMweb:b,button1ColorWideMweb:x,button1TextColorNarrowMweb:P,button1TextColorWideMweb:S,button1Text:w,button1Uri:T,button2ColorNarrowMweb:k,button2ColorWideMweb:E,button2TextColorNarrowMweb:I,button2TextColorWideMweb:A,button2Text:C,button2Uri:R,completeButtonAction:j,coverImage:D,detailedTextWithLinks:O,iconImage:L,layoutNarrow:N,layoutWide:F,links:M,linkTitles:z,primaryColorNarrowMweb:U,primaryColorWideMweb:B,titleText:Z}=l,{windowWidth:V}=(0,g.Z)(),H=V<=480,K=H?N:F,G=!H&&3!==K,W=H?s:u,$=H?b:x,q=H?P:S,Y=H?k:E,X=H?I:A,J=H?U:B,{altText:Q,uri:ee}=(H?p:m)||{},{altText:te,uri:ne}=D||{},{altText:ie,uri:ae}=L||{},oe=H&&2===K||!H&&2===K,re=H?"96px":"48px",le=H&&3===K,se=w&&(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(h,{accessibilityLabel:w,color:$,external:T?f(T):void 0,onTouch:()=>{!T&&r&&o&&n&&n()},shape:"pill",text:w,textColor:q,to:T})}),de=C&&(0,c.jsx)(h,{accessibilityLabel:C,color:Y,external:R?f(R):void 0,isPrimary:!0,onTouch:()=>{return e=j,void(t&&t(e));var e},shape:"pill",text:C,textColor:X,to:R}),ce=M.reduce(((e,t,n)=>{const i=`<a href="${t}" ${f(t)?'rel="noreferrer noopener" target="_blank"':""}>${z[n]}</a>`;return e.replace(`{${n}}`,i)}),O),ue={backgroundColor:W,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},pe={backgroundImage:!ee||oe||le?void 0:`url(${ee})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:ue},marginBottom:1,rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[le&&ne&&(0,c.jsx)(d.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,c.jsx)(d.Ee,{alt:te||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ne})}),(0,c.jsxs)(d.xu,{"aria-label":Q,alignItems:"center",dangerouslySetInlineStyle:{__style:pe},direction:G?"row":"column",display:"flex",justifyContent:"between",marginTop:le?-2:0,padding:6,children:[(0,c.jsxs)(d.kC,{alignItems:"center",direction:G?"row":"column",justifyContent:"between",maxWidth:G?void 0:"560px",children:[oe&&ae&&(0,c.jsx)(d.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:G?4:0,marginBottom:G?0:6,children:(0,c.jsx)(d.xu,{height:re,width:re,children:(0,c.jsx)(d.zd,{rounding:G?4:6,children:(0,c.jsx)(d.Ee,{alt:ie||"icon",naturalHeight:1,naturalWidth:1,src:ae})})})}),!G&&Z&&(0,c.jsx)(d.xv,{align:"center",weight:"bold",children:(0,c.jsx)(d.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:J,fontSize:"20px"}},children:Z})}),O&&(0,c.jsxs)(d.xv,{align:G?"start":"center",overflow:"normal",children:[(0,c.jsx)(v.Z,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${J||""};\n                        font-weight: bold;\n                      }`}),(0,c.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:ce},style:{color:J}})]})]}),(se||de)&&(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:G?0:-1,marginStart:G?4:0,marginTop:G?0:4,wrap:!G,children:[se,de]})]})]})})},x=({experience:e={}})=>(0,c.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,c.jsx)(b,{experience:n,onComplete:e,onDismiss:t})})},229646:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),o=n(121093),r=n(332611),l=n(785893);const s=[502321,502322];class d extends i.Component{componentDidMount(){const{experience:e,completeExperience:t}=this.props;e&&s.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,l.jsx)(o.Z,{experience:this.props.experience,eligibleIds:s,children:(0,l.jsx)("span",{})})}}const c=(0,a.connect)(null,((e,t)=>({completeExperience:(t,n,i)=>e((0,r.CK)(t,n,i))})))(d)},120285:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),o=n(121093),r=n(63552),l=n(883119),s=n(332611),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",(e=>{const{onClickDismiss:t,dismissExperience:n,experience:i}=this.props;if(!i)return;const{experience_id:a,placement_id:o}=i;n(o,a),t&&t()})),c(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const n=e.current.getBoundingClientRect(),{height:i,width:a}=n,o=-(68+i/2),s=-(68-a/2);return(0,d.jsx)(r.Z,{pressState:"none",children:(0,d.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:o,marginLeft:s,pointerEvents:"none"}},children:(0,d.jsx)(l.o3,{paused:t,size:136})})})}render(){const{children:e,color:t,eligibleIds:n,experience:i,idealDirection:a,onClickComplete:r,showCaret:s,size:c,textWeight:u="bold",textAlign:p,textOverflow:m,fontSize:h}=this.props,{showPulsar:_,hasMounted:g}=this.state;if(!i||!n.includes(i.experience_id)||!g)return e({experience:i});const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:y=0,...f}}=i;return(0,d.jsx)(o.Z,{eligibleIds:n,experience:i,children:({complete:n})=>{const o=()=>(g(),setTimeout(this.handleDismiss,1e3*y)),g=()=>{v&&(window.removeEventListener("scroll",o),window.removeEventListener("touchmove",o))};v&&(window.addEventListener("scroll",o),window.addEventListener("touchmove",o));return(0,d.jsxs)(l.xu,{ref:this.wrapperRef,children:[e({experience:i}),_?this.renderPulsar():f.has_tooltip&&(0,d.jsx)(l.J2,{anchor:this.wrapperRef.current,color:t,idealDirection:a||"down",onDismiss:this.handleDismiss,showCaret:s,size:c,children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsxs)(l.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(l.xu,{column:12,children:(0,d.jsxs)(l.xv,{align:"right"===p?"end":p,color:"inverse",overflow:m,size:h,weight:u||"bold",children:[f.text,f.secondary_cta_link&&(0,d.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(l.xv,{size:h,weight:"bold",color:"inverse",children:(0,d.jsx)(l.rU,{display:"inlineBlock",target:"blank",href:f.secondary_cta_link.url,underline:"hover",children:f.secondary_cta_link.text})})})]})}),f.complete_button_text&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:f.complete_button_text&&(0,d.jsx)(l.kC,{alignContent:"center",children:(0,d.jsx)(l.zx,{color:"white",onClick:()=>{g(),n(1),r&&r()},size:"md",text:f.complete_button_text})})})]})})})]})}})}}const p=(0,a.connect)(null,(e=>({dismissExperience:(t,n)=>e((0,s.Qu)(t,n)),completeExperience:(t,n)=>e((0,s.CK)(t,n))})))(u)},679031:(e,t,n)=>{n.d(t,{G9:()=>u,c$:()=>m,cn:()=>h,gG:()=>p,kk:()=>c});var i=n(63552),a=n(19121),o=n(883119),r=n(204283),l=n(305324),s=n(50286),d=n(785893);const c=({isDesktop:e})=>{const t=(0,r.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,s.HG)(),t=(0,r.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,d.jsx)(o.xu,{marginTop:n,marginBottom:n,paddingY:t})},m=({children:e,feedRef:t,viewParameter:n,viewType:i})=>(0,a.Z)().isAuth?e:(0,d.jsx)(l.g,{feedRef:t,viewParameter:n,viewType:i,children:e}),h=({children:e})=>(0,d.jsx)(i.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},821997:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},82058:(e,t,n)=>{n.d(t,{_l:()=>y,cO:()=>v,w2:()=>f,xM:()=>g});var i=n(667294),a=n(214494),o=n(19121),r=n(53987),l=n(826067),s=n(50286),d=n(276775),c=n(785893);const u="UnauthDesktopSocialPinLandingPageContext",p="AuthMobileSocialPinLandingPageContext",m=(0,i.createContext)(),h=({children:e})=>{const[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)((()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n})),[t,n]);return(0,c.jsx)(m.Provider,{value:a,children:e})},_=(0,i.createContext)({key:"",data:null}),g=({children:e})=>{const t=(0,d.useLocation)(),n=(0,o.Z)(),m=n&&n.isAuth,g=(0,s.HG)(),v=(0,i.useRef)((0,r.fY)(t)&&(0,l.mB)(t.search).invite_code||null),y=(0,d.matchPath)(t.pathname,{path:"/pin/:id"}),f=y&&y.params.id||"",[b,x]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)((()=>{!async function(){const e=v.current;if(e)try{var t;const o=a.Z.create("InviteCodeMetadataResource",{invite_code:e}),r=null===(t=(await o.callGet()).resource_response)||void 0===t?void 0:t.data;if(r){var i;const e=null!==(i=r.sender)&&void 0!==i?i:null;!m&&g?x({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(r.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):m&&!g&&e.id!==n.id&&x({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:f}}}})}else x({key:"",data:null})}catch(o){x({key:"",data:null})}}()}),[m,g,n.id,f]),(0,c.jsx)(h,{children:(0,c.jsx)(_.Provider,{value:b,children:e})})},v=()=>{const e=(0,i.useContext)(_);return e.key===u?e:null},y=()=>{const e=(0,i.useContext)(_);return e.key===p?e:null},f=()=>(0,i.useContext)(m)},886076:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const a=i,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}n.d(t,{Z:()=>i})},830157:(e,t,n)=>{function i(e,t){return e||(t?`${t}~0`:"~0")}n.d(t,{Z:()=>i})},948376:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(339363),a=n(202139),o=n(844974);const r=14*a.F4;function l(e,t,n){return e-t>n}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,i.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||r,!a||function(e,t,n){return e<t+n}(i,a,t)?!d:!!l(i,s,n)&&((0,o.L_)("firstUpsellTime"),!0)}(t,a.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||l(n,i,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>_,EU:()=>y,IO:()=>v,Jd:()=>m,KH:()=>c,QR:()=>d,Uw:()=>a,ZR:()=>f,dy:()=>s,eA:()=>p,fo:()=>h,k7:()=>r,rT:()=>g,tz:()=>u,u9:()=>b,zR:()=>l,zu:()=>i});const i="OPEN_UNAUTH",a="openUnauthType",o="_isAfterLogin",r="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,m="_unauthInviteCode",h="_unauthReferrerString",_="unauthTopicsFollowed",g=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),y=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},805410:(e,t,n)=>{n.d(t,{I:()=>i,y:()=>a});const i="uploaded",a="pinbuilder"},208901:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071);const a=e=>{i.Z.increment(`closeup.image.clicked.${e}`,1,{platform:"mobile"})}},844887:(e,t,n)=>{n.d(t,{DZ:()=>u,Dv:()=>p,Es:()=>d,HW:()=>s,mv:()=>c});var i=n(844974),a=n(773285),o=n(116485);const r=e=>e>=Date.now()-72e5,l=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||r(i.ts)&&n.push(i);return n},s=()=>{const e=(0,i.qn)(o.zR),t=e?JSON.parse(e):[],n=l(t,!1),a=l(t,!0),s=n.map((e=>e.first_pin_image_signature)),d=a.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const n of e)n.is_shared&&r(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,i.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:s,plpImageRenderData:n,extraBlpImages:l(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},c=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),u=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,p=()=>{const{checkExperiment:e}=(0,a.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},62409:(e,t,n)=>{n.d(t,{AH:()=>s,Bk:()=>o,CK:()=>l,Xe:()=>a,kb:()=>r,wS:()=>i});const i=(e,t,n,i)=>{let a;return a=t||(e?e.official_user:n||i),a};function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:a,sourceUserFullName:o}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:o}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}const o=({i18n:e,isLego:t,hasLinkDomain:n,hasRichMetadataArticle:i,hasRichMetadataTutorial:a,hasRichMetadataRecipeCategorizedIngredients:o,hasRichMetadataProductOfferSummary:r,hasRichSummaryProductOfferSummary:l,richMetadataRecipeFromAggregatedData:s,richMetadataProductName:d,richSummaryProductName:c})=>{const u=o;let p;d&&r&&(p=!0);const m=i,h=a;let _=t?e.bt(" ", "From ", "Closeup pin annotation", undefined, true):e.bt(": ", "Saved from ", "Closeup pin annotation", undefined, true);return!n||s?_=e.bt(" : ", "Saved by ", "Closeup pin annotation", undefined, true):p?_=e.bt(" : ", "Product sold by ", "pin annotation", undefined, true):h?(t&&(_=e.bt(" ", "From ", "pin annotation", undefined, true)),_=e.bt(": ", "Saved from ", "pin annotation", undefined, true)):u?_=e.bt(" : ", "Recipe from ", "pin annotation", undefined, true):m&&(_=e.bt(" : ", "Article from ", "pin annotation", undefined, true)),!r&&c&&l&&(_=e.bt(" : ", "Product sold by ", "pin annotation", undefined, true)),_},r=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>{var i;return e&&(null==t||null===(i=t.recipe)||void 0===i||!i.fromAggregatedData)&&null!=t&&t.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:null!=n&&n.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0},l=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,s=e=>!!e&&!e.startsWith("https://i.pinimg.com")},367438:(e,t,n)=>{function i(e){return!!e.key}n.d(t,{Z:()=>i})},772486:(e,t,n)=>{n.d(t,{XK:()=>l,jC:()=>r,yd:()=>s});var i=n(745760);let a=null,o=null;const r=((e,t)=>{let n=null;return r=>{var l;if(r&&!n)return n={...r,event_type:e,time:(0,i.h1)()},null===(l=o)||void 0===l||l.logContextEvent(n),a&&n&&a.storeClickthroughProperties(n),e;if(!r&&n){var s;const e={...n,event_type:t,duration_ns:(0,i.h1)()-n.time};return null===(s=o)||void 0===s||s.logContextEvent(e),n=null,t}return null}})(12,4100),l=e=>{a=e},s=e=>{o=e}},529195:(e,t,n)=>{n.d(t,{CC:()=>x,Cb:()=>y,Ff:()=>C,H$:()=>S,Mt:()=>b,OJ:()=>v,Yi:()=>k,Ys:()=>g,Yy:()=>I,Z4:()=>_,ZN:()=>p,dc:()=>T,dp:()=>P,i$:()=>h,kw:()=>f,p9:()=>w,t_:()=>m});var i=n(231486),a=n(214494),o=n(826067),r=n(332215),l=n(226198),s=n(867820),d=n(339363),c=n(844974),u=n(116485);const p=["utm_pai","utm_source","invite_code"],m=()=>(0,c.qn)(u.tz,""),h=()=>{const e=m();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},_=(e,t)=>{const n=h(),i=n.length,a=i?n[0].path:"";if(i<u.eA&&(!i||e!==a)){const i={path:e,pageType:t,ts:Date.now()};(0,c.Nh)(u.tz,JSON.stringify([i].concat(n)))}},g=e=>{(0,c.Nh)(u.Jd,e)},v=()=>(0,c.qn)(u.fo,""),y=e=>{(0,c.Nh)(u.fo,e)},f=()=>{m()&&(0,c.L_)(u.tz),(0,c.qn)(u.Jd,"")&&(0,c.L_)(u.Jd),v()&&(0,c.L_)(u.fo)},b=(e,t,n,i,a,o,r=u.k7)=>{const l=(0,c.qn)(r)?JSON.parse((0,c.qn)(r)):[];if(!l[0]||l[0].path!==e){const s=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:a||"",is_shared:!!o,pin_invite_code:o}];(0,c.Nh)(r,JSON.stringify(s.concat(l)))}},x=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:a})=>{const o=(()=>{const e=(0,d.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!o[0]||o[0].path!==e){const r=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:a||""}];(0,d.Nh)(u.KH,JSON.stringify(r.concat(o)))}};function P(e,t,n,i,a,o){b(e,t,n,i,a,o,u.zR)}const S=(e,t,n,i,a)=>{b(e,t,n,i,null!=a?a:"","",u.dy)};function w(e,t,n,i,a){b(e,t,n,i,a,"",u.QR)}function T(){return h().filter((e=>"closeup"===e.pageType)).length}function k(){const e=a.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const a=e.resource_response.data,o=!!i.U2(l.x3);return a?((0,r.Wn)(a.medium_image_url)&&(a.medium_image_url=""),(0,s.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),t(a)):((0,s.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,s.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,s.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function E({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let a;try{a=JSON.parse((0,d.qn)(u.KH))}catch(o){a=[]}if(a&&a.length>0){const t=a[0];if(t)return t.bannerCopy=e.bt("   .", "More ideas like this await", "page banner with pin image that was signed up from", undefined, true),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const I=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function A({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||I(t);if(i){const t=i.indexOf("?"),n=(0,o.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e.bt("       .", "Save this idea and discover more inspiration like it.", "page banner with pin image that was signed up from", undefined, true)}}}return{showPLPBanner:!1,pinForBanner:null}}function C({i18n:e,location:t}){return A({i18n:e,location:t}).showPLPBanner?A({i18n:e,location:t}):E({i18n:e,location:t}).showPLPBanner?E({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},534427:(e,t,n)=>{n.d(t,{E:()=>r,S:()=>l});var i=n(667294),a=n(844974);const o="_loggingInNotHome",r=e=>{e?(0,a.Nh)(o,1):(0,a.L_)(o)},l=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e&&(0,a.qn)(o)}},305324:(e,t,n)=>{n.d(t,{M:()=>y,g:()=>f});var i,a=n(667294),o=n(590674),r=(n(883119),n(867820)),l=n(447409),s=n(50286),d=n(780280),c=n(430235),u=n(874317),p=n(167912),m=n(785893);const h=void 0!==i?i:i=n(110767);const _=({queryReference:e,...t})=>{var n;const i=(0,p.usePreloadedQuery)(h,e),a=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,m.jsx)(c.Z,{...t,graphqlRef:a}):null},g=({queryReference:e,...t})=>{var n;const i=(0,p.usePreloadedQuery)(h,e),a=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,m.jsx)(u.ZP,{...t,graphqlRef:a}):null},v=(0,a.createContext)((()=>()=>{})),y=()=>(0,a.useContext)(v),f=({children:e,feedRef:t,viewType:n,viewParameter:i,useGraphql:y})=>{const[f,b]=(0,a.useState)(null),[x,P]=(0,a.useState)(null),[S,w]=(0,a.useState)(!1),[T,k]=(0,a.useState)(null),[E,I]=(0,a.useState)(!1),A=(0,s.HG)(),{isAuthenticated:C}=(0,d.B)(),[R,j]=(0,p.useQueryLoader)(h);if(y&&!R&&T){j(function({pinId:e,isAuth:t}){return{query:h,variables:{pinId:e,isAuth:t}}}({pinId:T,isAuth:C}).variables)}const D=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,a.useEffect)((()=>D),[]);const O=(0,a.useCallback)((e=>n=>{const{pinId:i,deviceOptions:a}=e;if(n.stopPropagation(),n.preventDefault(),k(i),a.isDesktop)I(a.isMainPinImage),(0,r.My)("dweb.unauth.context_menu.open_menu"),b({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,r.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(t&&t.current){const n=t.current.getBoundingClientRect(),i=Math.min(e.pageX-n.left,n.width-u.nt),o=e.pageY-l.n;P({xPosition:i,yPosition:o,context:a.context})}}}),[t]),L=!!f;(0,a.useEffect)((()=>{const e=()=>{b(null),D(),(0,r.My)("dweb.unauth.context_menu.click_away")};return L&&document.addEventListener("click",e),()=>{L&&document.removeEventListener("click",e)}}),[L]);const N=f&&T?y?R&&(0,m.jsx)(_,{desktopContextMenuState:f,pinId:T,isMainPinImage:!!E,queryReference:R}):(0,m.jsx)(c.Z,{desktopContextMenuState:f,pinId:T,isMainPinImage:!!E,graphqlRef:null}):null,F=x&&T?y?R&&(0,m.jsx)(g,{mwebContextMenuState:x,pinId:T,openShareModal:w,setMwebContextMenuState:P,queryReference:R}):(0,m.jsx)(u.ZP,{graphqlRef:null,mwebContextMenuState:x,pinId:T,openShareModal:w,setMwebContextMenuState:P}):null;return(0,m.jsx)(v.Provider,{value:O,children:(0,m.jsxs)(a.Fragment,{children:[e,A&&N,!A&&F,!A&&S&&T&&(0,m.jsx)(o.default,{objectType:1,isOpen:S,onDismiss:()=>w(!1),objectId:T,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:i,component:18})]})})}},364034:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(807609),o=n(844974);const r=e=>{const t=(0,o.qn)(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}};var l=n(773285);const s=()=>{const[e,t]=function(e){const t=(0,a.Z)(),[n,l]=(0,i.useState)(t?null:r(e));return(0,i.useEffect)((()=>{l(r(e))}),[e]),[n,(0,i.useCallback)((t=>{l(t),null===t?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(t))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(s=e)?void 0:s.pins)&&void 0!==d?d:[];var s,d;const c=e=>t((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,l.F)(),p=()=>{const{anyEnabled:e,group:t}=u("mweb_unauth_save_shopping_cart_v0");let i=0;if(e){const e=t.split("_")[1];i=e?parseInt(e,10):0}return n.length<i};return{pins:n,save:e=>{p()&&c(n.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:t})=>t!==e))),isSaved:e=>n.some((({id:t})=>t===e)),clear:()=>c([]),canSaveMore:p}}},332215:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>o,xT:()=>a});const a=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},691720:(e,t,n)=>{n.d(t,{Hg:()=>a,T_:()=>r,g6:()=>o,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,o=600;function r(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},698629:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(391254),o=n(619623),r=n(50286),l=n(444445),s=n(883119),d=n(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(s.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),m=({children:e})=>(0,d.jsx)(s.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{const t="desktop"===(0,r.ZP)(),n=t?l.yF:l.tG;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,o.Z)({name:e,width:n,height:t}))).join("")}),(0,d.jsx)(s.xu,{marginStart:l.qG,marginEnd:l.qG,children:t?(0,d.jsxs)(s.kC,{direction:"row",gap:{row:l.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(s.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},987318:(e,t,n)=>{n.d(t,{H:()=>o,o:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("LimitedLogin")},945698:(e,t,n)=>{n.d(t,{N4:()=>o,Wh:()=>i,hr:()=>a});const i=e=>e.bt("  .", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.bt("  !  Pinterest    .", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt(" .", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt(" .", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},881802:(e,t,n)=>{n.d(t,{Bb:()=>g,Bx:()=>s,F4:()=>l,OG:()=>o,Qj:()=>d,_6:()=>_,gv:()=>r,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(826067);const a=e=>e.bt("  .", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),o=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t.bt("{{ name }}   ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("   ", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e.bt("   .", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e.bt("   .", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt("   .", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e.bt("    .", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),h=e=>e.bt("   ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),_=e=>e.bt("  ", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),g=e=>e.bt("  .", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},149823:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(881802),o=n(987318),r=n(785893);function l({children:e,callbackFunction:t,modalHeader:n,nextLocation:l}){const s=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,o.H)(),m="LIMITED_LOGIN"===d.type;return(0,r.jsx)("div",{onClickCapture:e=>{m&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==c||c.setVisible(!0),null==u||u.setText(n||(0,a.lt)(s)),l&&(null==p||p.setRoute(l)))},children:e})}},801645:(e,t,n)=>{n.d(t,{NN:()=>s,UE:()=>r,cZ:()=>l,sh:()=>d});let i,a=null,o=null;const r=e=>{a=e},l=e=>{o=e},s=e=>{i=e},d=({resourceUrl:e,currentPageUrl:t,subHeaderText:n})=>{a&&a(),o&&o(n),i&&i({event_type:9850,view_type:9,view_parameter:63,aux_data:{resource_url:e,current_page_url:t}})}},927383:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(50286),o=n(987318),r=n(945698);const l=()=>{const e=(0,i.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,o.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==l||l.setVisible(!0),null==s||s.setText(n||(t?(0,r.hr)(e):(0,r.Wh)(e))),i&&(null==d||d.setRoute(i))}:({fn:e})=>e}},56390:(e,t,n)=>{n.d(t,{C:()=>s,P:()=>l});var i=n(172071),a=n(53987),o=n(339363);const r="msmrsfda",l=()=>!!(0,o.qn)(r),s=e=>{(0,a.LM)(e)&&!l()&&((0,o.Nh)(r,"1"),i.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},574724:(e,t,n)=>{n.d(t,{Ee:()=>f,Hn:()=>u,Jw:()=>g,L7:()=>i,PS:()=>y,Qc:()=>a,UF:()=>d,UT:()=>p,UV:()=>r,W1:()=>o,Ws:()=>m,ZW:()=>s,cK:()=>v,cy:()=>_,o4:()=>h,tr:()=>c,vF:()=>l});const i=1,a=2,o="female",r="male",l="unspecified",s="en-US",d="US",c=3,u="has_done_closeup",p=[503459,505150,503761,505139],m="Gender",h="InterestPicker",_="LoadingStep",g="AppInstall",v={NUX_GENDER_STEP_NAME:m,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_LOADING_STEP_NAME:_,NUX_APP_INSTALL_STEP_NAME:g},y="mweb_cfa_full_modal_opt_in_tp",f="mweb_modernize_nux"},633083:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643010),a=n(883119),o=n(785893);function r({color:e,image:t,isSelected:n,title:r}){var l,s,d;return(0,o.jsxs)(a.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(l=t.height)&&void 0!==l?l:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,o.jsx)(a.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(a.xv,{color:n?"inverse":(0,i.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},461355:(e,t,n)=>{n.d(t,{Z:()=>_,z:()=>c});var i=n(667294),a=n(702664),o=n(391254),r=n(350118),l=n(698330),s=n(883119),d=n(785893);const c=2500,u={__style:{right:"-105px"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},m={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},_=(0,i.memo)((({children:e})=>{var t;const n=null===(t=(0,l.Tt)())||void 0===t?void 0:t.last_repin_id,i=(0,r.S6)(),c=n?i(n):null,_=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!c||!_)return e;const{images:g}=c,{height:v,width:y,url:f}=(null==g?void 0:g["136x136"])||(null==g?void 0:g["236x"])||{};return(0,d.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,d.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,d.jsxs)(s.xu,{position:"relative",children:[(0,d.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:u,children:[(0,d.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:p}),(0,d.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:m,children:(0,d.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,d.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=y?y:1,naturalHeight:null!=v?v:1,src:null!=f?f:""})})})]}),(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},327212:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),a=n(376030),o=n(391254),r=n(883119),l=n(785893);function s({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:s,minHeight:d,subHeaderText:c}){return(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,l.jsxs)(r.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:d||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=s||(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(o.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,l.jsx)(r.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,l.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,l.jsx)(r.xu,{marginEnd:4,children:e})})(),(0,l.jsxs)(r.xu,{marginEnd:"auto",children:[(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:n}),!!c&&(0,l.jsx)(r.xu,{paddingY:1,children:(0,l.jsx)(r.xv,{size:"300",color:"default",children:c})})]}),(0,l.jsx)(r.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var d=n(223815),c=n(829407),u=n(898781),p=n(759929);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(e,t)=>(e-t)/2,_=68,g=h(_,68),v=h(_,66),y=h(_,60),f="cubicBezier(0.25, 0.1, 0.25, 1)",b="encourageToastIconContainer",x="encourageToastIconRadiateBg",P="encourageToastIconRadiateRing",S={targets:`#${b}`,duration:300,scale:1.4,easing:f},w={targets:`#${b}`,duration:300,scale:1,easing:f,endDelay:1e3},T={targets:`#${b}`,duration:300,scale:.42,easing:f},k={targets:`#${x}`,duration:400,opacity:0,scale:1.6,easing:f},E={targets:`#${P}`,duration:650,opacity:0,scale:2,easing:f};function I({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class A extends i.PureComponent{constructor(...e){super(...e),m(this,"delayTimer",null),m(this,"requestAnimationFrameId",null),m(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(k),(0,a.Z)(E),(0,a.Z)(S).finished.then((()=>{(0,a.Z)(w).finished.then((()=>{a.Z.set(`#${b}`,{transformOrigin:"top right"}),(0,a.Z)(T)}))}))}))})),m(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),m(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30}))),m(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),m(this,"renderAnimatedIcon",(()=>(0,l.jsxs)(r.xu,{height:_,position:"relative",width:_,children:[(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${y}px`,top:`${y}px`}},children:this.props.thumbnail}),(0,l.jsxs)(r.xu,{id:b,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,l.jsx)(r.xu,{color:"infoBase",id:x,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,l.jsx)(r.xu,{id:P,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,l.jsx)(r.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,l.jsx)(r.JO,{accessibilityLabel:this.props.i18n.bt(" ", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,l.jsx)(s,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function C(e){const{duration:t,onHide:n}=e,a=(0,u.ZP)(),[o,s]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),_=(0,i.useRef)(),g=()=>{s(!0),_.current=setTimeout(n,200)},v=()=>{_.current&&clearTimeout(_.current)};(0,c.Z)((()=>(setTimeout((()=>h(!0)),100),_.current=setTimeout(g,t||p.w),v)));let y=(0,l.jsx)(A,{...e,i18n:a});return e.href&&(y=(0,l.jsx)(r.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:y})),(0,l.jsx)(d.Z,{children:(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...I({hiding:o,visible:m})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:y})})})}},56632:(e,t,n)=>{n.d(t,{L:()=>c,q:()=>u});var i=n(223019),a=n(258430),o=n(898781),r=n(883119),l=n(785893);const s=()=>{const e=(0,o.ZP)();return e.bt("!", "Sweet save!", "Header text on toast that appears after user creates their first board", undefined, true)},d=()=>{const e=(0,o.ZP)();return e.bt("    ", "All your boards live on your profile", "Subheader text on toast that appears after user creates their first board", undefined, true)},c=e=>({duration:5e3,thumbnail:(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,l.jsx)(a.Z,{boardId:e})})}),u=({boardId:e,isFBC:t,viewType:n})=>({duration:5e3,thumbnail:(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,l.jsx)(i.Z,{boardId:e,viewType:n,type:"thumbnail"})}),text:t?[(0,l.jsx)(s,{},"0"),(0,l.jsx)(d,{},"1")]:void 0})},414221:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(844974);function a(){const e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},662089:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),a=n(461355),o=n(343341),r=n(639952);function l(){const e=(0,i.useDispatch)(),{showToast:t,showOneToast:n}=(0,o.F9)();return{showToast:t,showOneToast:n,showRepinConfirmation:(n,i)=>{i||e((0,r.WF)()),setTimeout((()=>{i||e((0,r.a5)()),t(n)}),a.z)}}}},709655:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne,getPinResourceOptions:()=>$,graphqlDescriptor:()=>X});var i=n(667294),a=n(702664),o=n(446713),r=n(594353),l=n(926275),s=n(240684),d=n(280446),c=n(120605),u=n(42447),p=n(947599),m=n(954959),h=n(938917),_=n(829407),g=n(898781),v=n(526915),y=n(784590),f=n(19121),b=n(535684),x=n(651745),P=n(332215),S=n(826067),w=n(378518),T=n(773285),k=n(350118),E=n(698330),I=n(597897),A=n(118405),C=n(361115),R=n(198462),j=n(780280),D=n(82058),O=n(872482),L=n(50286),N=n(31062),F=n(529195),M=n(639952),z=n(883119),U=n(623568),B=n(167912),Z=n.n(B),V=n(276775),H=n(785893),K;const G=(0,s.ZP)({resolved:{},chunkName:()=>"tv-EpisodeCloseupPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(26467),n.e(59221),n.e(90902),n.e(10293)]).then(n.bind(n,950201)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 950201}}),W=3e3,$=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:a})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:a?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},q=({pinId:e})=>((0,y.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e}}),null),Y=void 0!==K?K:K=n(821358);function X({pinId:e,isAuth:t,isDesktop:n}){return{query:Y,variables:{pinId:e,isAuth:t,isDesktop:n}}}function J({isProductPinDetail:e,shouldUseGraphQL:t}){const n=[(0,C.J1)("mainPin"),(0,C.J1)("relatedPins")];if(e){const e=["PinPageMainImageRendered","shopButton"];return t||e.push("resource"),{annotateExperiments:n,surface:"product_details",constraints:e,customEnabledNavigationTypes:["client_route_push","client_route_replace"]}}return{annotateExperiments:n,surface:"pin_closeup",constraints:["PinPageMainImageRendered"]}}function Q({creatorClassId:e,creatorClassInstanceId:t,description:n,dominantColor:r,graphqlRef:s,imageSignature:d,isDeletedStoryPin:c,isEligibleForAggregatedComments:u,isLoaded:p,isProductPin:m,isStoryPin:g,isStoryPinWithProducts:y,isVideoPin:k,pinId:C,pinImage:z,pinTitle:B,renderAuthMobilePinLandingToast:Z,storyPinDataId:K,uanuthDesktopSocialLandingPopover:$}){const{checkExperiment:Y}=(0,T.F)(),X=(0,R.N5)(),J=(0,I.U)(),Q=(0,a.useDispatch)(),ee=(0,V.useHistory)(),te=(0,V.useLocation)(),ne=(0,w._)({id:1000112}),{id:ie}=(0,f.Z)(),{isAuthenticated:ae,isBot:oe,locale:re,referrerFromCookie:le,userAgent:{browserName:se,platform:de}}=(0,j.B)(),{scrollToCloseupPin:ce}=(0,a.useSelector)((({session:e})=>e)),ue=(0,E.mN)()(null!=ie?ie:""),pe=(0,a.useSelector)((({experiences:e})=>e)),me=(0,U.hb)({isStoryPin:g,isVideoPin:k}),{setHomeFlyoutText:he,setShowHomeBadge:_e,setShowHomeFlyoutWithButton:ge}=(0,A.U)(),[ve,ye]=(0,i.useState)(!1);(0,i.useEffect)((()=>{J&&setTimeout((()=>{var e;null===(e=J.preload)||void 0===e||e.call(J,new URL("pin/[id]/repin.js","file://"))}),500)}),[]),(0,v.Z)("closeup"),(0,i.useEffect)((()=>{ye(!1)}),[C]);const fe=(0,L.ZP)(),be="desktop"!==fe&&(ae?Y("phone"===fe?"auth_docked_nav_bar_exp":"auth_tablet_docked_nav_bar_exp").anyEnabled:!oe),xe=()=>{Q((0,M.Cp)()),window.removeEventListener("scroll",xe)};(0,i.useEffect)((()=>{if(be&&!K?window.addEventListener("scroll",xe):Q(K?(0,M.FK)():(0,M.Cp)()),ae)d&&Q((0,M.xu)(d));else{var e;const t=te.pathname,i=null!=n?n:"",a=null!=r?r:null;(0,F.Mt)(t,d),(0,F.CC)({path:t,image:z,dominant_color:a,pin_description:i,pin_id:C});const o=(0,S.mB)(te.search).invite_code;(0,F.dp)(t,d,C,z,null!=i?i:"",o),null!==(e=te.state)&&void 0!==e&&e.isFromNavFooterPage||(0,F.p9)(t,d,C,z,"pin")}}),[te]);const Pe=(0,O.a)(),Se=null==Pe?void 0:Pe.onPinTypeLoad,we=!!p;(0,i.useEffect)((()=>{we&&Se&&Se(g)}),[we,g,Se]);const Te="pin_closeup_lcp",ke=(0,N.PY)(Te);(0,i.useEffect)((()=>{ke&&(0,N.ku)({stopwatchName:Te,binaryAnnotationName:"pinType",value:me,annotationType:"STRING"})}),[ke,me]);const Ee=(0,h.Z)(),Ie=ae?(0,x.oB)({canUpsellNativeApp:Ee}):"unauthPostDownloadUpsell",Ae=(0,i.useMemo)((()=>({isStoryPinWithProducts:y})),[y]),{hasSeenAuthMobileLandingToast:Ce,setHasSeenAuthMobileLandingToast:Re}=(0,D.w2)()||{},[je,De]=(0,i.useState)(!1);(0,_.Z)((()=>(Re&&!Ce&&setTimeout((()=>{De(!0)}),W),()=>{Re(!0)})));return e&&t?(0,H.jsx)(G,{pinId:C}):(0,H.jsxs)(b.b,{value:Ae,children:[y&&!!C&&(0,H.jsx)(q,{pinId:C}),je&&void(Z&&(Z({type:"pin",id:C,data:{title:B||n||"",imgUrl:(null==z?void 0:z.url)||"",dominantColor:r||""}}),De(!1))),(0,H.jsx)(o.Z,{clickthroughInterstitialExperience:pe[1000162],closeupIsFirstPageInHistoryStack:void 0===ee.location.state,experience:ne,isAuthenticated:ae,isChromeOnIOS:"ios"===de&&"Chrome"===se,isDeletedStoryPin:c,isEligibleForAggregatedComments:u,isLimitedLoginUser:(0,P.xT)(ue),isNewUser:(0,l.Z)(null==ue?void 0:ue.created_at),isPartner:!(!ue||!ue.is_partner),isProductPin:m,isSeoBot:oe||!1,isSimplified:Boolean(!ae&&(0,S.mB)(te.search)&&(0,S.mB)(te.search).simplified),isStoryPin:Boolean(g),locale:re,onlyShowingRelatedPins:ve,graphqlRef:s,pinId:C,platform:de,postDownloadModalEligibilityType:Ie,pwtStaticContext:X,referrer:null!=le?le:"",scrollToCloseupPin:ce||!1,setHomeFlyoutText:he,setOnlyShowingRelatedPins:ye,setShowHomeBadge:_e,setShowHomeFlyoutWithButton:ge,stopScrollToCloseup:()=>Q((0,M.wb)()),uanuthDesktopSocialLandingPopover:$,viewerId:null!=ie?ie:"",viewingUser:ue})]})}function ee({pinId:e,queryRef:t,...n}){var i,a,o,r,l,s,d,c,p,h,_,g,v,y,f,b,x,P,S;const w=null===(i=(0,B.usePreloadedQuery)(Y,t).v3GetPinQuery)||void 0===i?void 0:i.data,T=null!=w&&w.imageSpec_236x?{dominant_color:null!==(a=w.imageSpec_236x.dominantColor)&&void 0!==a?a:"",height:null!==(o=w.imageSpec_236x.height)&&void 0!==o?o:0,type:null!==(r=w.imageSpec_236x.type)&&void 0!==r?r:"",url:null!==(l=w.imageSpec_236x.url)&&void 0!==l?l:"",width:null!==(s=w.imageSpec_236x.width)&&void 0!==s?s:0}:null,k=!(null==w||null===(d=w.videos)||void 0===d||null===(c=d.videoUrls)||void 0===c||!c.length),E=!(null==w||!w.storyPinDataId),I=!(null==w||!w.richSummary),A=(0,m.Z)({isEligibleForPdp:null==w?void 0:w.isEligibleForPdp,isStaleProduct:null==w?void 0:w.isStaleProduct,isOutOfStockProduct:null==w?void 0:w.isOosProduct}),C=J({isProductPinDetail:I&&A,shouldUseGraphQL:!0});return(0,H.jsx)(u.Z,{...C,children:(0,H.jsx)(Q,{...n,creatorClassId:null==w||null===(p=w.creatorClass)||void 0===p?void 0:p.entityId,creatorClassInstanceId:null==w||null===(h=w.creatorClassInstance)||void 0===h?void 0:h.entityId,description:null==w?void 0:w.description,dominantColor:null==w?void 0:w.dominantColor,graphqlRef:w,imageSignature:null!==(_=null==w?void 0:w.imageSignature)&&void 0!==_?_:"",isDownstreamPromotion:null!==(g=null==w?void 0:w.isDownstreamPromotion)&&void 0!==g&&g,isDeletedStoryPin:null!==(v=null==w||null===(y=w.storyPinData)||void 0===y?void 0:y.isDeleted)&&void 0!==v&&v,isEligibleForAggregatedComments:null!==(f=null==w?void 0:w.isEligibleForAggregatedComments)&&void 0!==f&&f,isProductPin:A,isLoaded:!!w,isStoryPin:E,isStoryPinWithProducts:null!==(b=null==w||null===(x=w.storyPinData)||void 0===x?void 0:x.hasProductPins)&&void 0!==b&&b,isVideoPin:k,pinId:e,pinImage:T,pinTitle:null!==(P=null!==(S=null==w?void 0:w.gridTitle)&&void 0!==S?S:null==w?void 0:w.gridDescription)&&void 0!==P?P:"",storyPinDataId:null==w?void 0:w.storyPinDataId})})}function te({pinId:e,...t}){const{countryFromIp:n,isBot:i,isAuthenticated:a}=(0,j.B)(),o=(0,L.HG)(),l=(0,r.Z)(null!=n?n:"",i,o),s=(0,k.S6)()(e),d=J({isProductPinDetail:(0,m.Z)({isEligibleForPdp:null==s?void 0:s.is_eligible_for_pdp,isOutOfStockProduct:null==s?void 0:s.is_oos_product,isStaleProduct:null==s?void 0:s.is_stale_product}),shouldUseGraphQL:!1});return(0,H.jsx)(u.Z,{...d,children:(0,H.jsx)(c.Z,{pinId:e,resourceOptions:$({id:e,isAuthenticated:a,addUserConnectionType:l,shouldLazyLoadPinJoin:!o&&!a&&!i}),children:({pinResource:n})=>{var i,a,o,r,l,d,c,u,p,h,_;const g=n.data||s;return(0,H.jsx)(Q,{...t,creatorClassId:null==g||null===(i=g.creator_class)||void 0===i?void 0:i.id,creatorClassInstanceId:null==g||null===(a=g.creator_class_instance)||void 0===a?void 0:a.id,description:null==g?void 0:g.description,dominantColor:null==g?void 0:g.dominant_color,imageSignature:null==g?void 0:g.image_signature,isDownstreamPromotion:null==g?void 0:g.is_downstream_promotion,isLoaded:!!g,isDeletedStoryPin:null!==(o=null==g||null===(r=g.story_pin_data)||void 0===r?void 0:r.is_deleted)&&void 0!==o&&o,isEligibleForAggregatedComments:null!==(l=null==g?void 0:g.is_eligible_for_aggregated_comments)&&void 0!==l&&l,isProductPin:(0,m.Z)({isEligibleForPdp:null==g?void 0:g.is_eligible_for_pdp,isStaleProduct:null==g?void 0:g.is_stale_product,isOutOfStockProduct:null==g?void 0:g.is_oos_product}),isStoryPin:!!g&&(0,U.hy)(g.story_pin_data_id),isStoryPinWithProducts:null!==(d=null==g||null===(c=g.story_pin_data)||void 0===c?void 0:c.has_product_pins)&&void 0!==d&&d,isVideoPin:(0,U.iR)(null==g?void 0:g.videos),pinId:e,pinImage:null!==(u=null==g||null===(p=g.images)||void 0===p?void 0:p["236x"])&&void 0!==u?u:null,pinTitle:null!==(h=null!==(_=null==g?void 0:g.grid_title)&&void 0!==_?_:null==g?void 0:g.grid_description)&&void 0!==h?h:"",storyPinDataId:null==g?void 0:g.story_pin_data_id})}})})}function ne({queryRef:e,...t}){const n=(0,V.useRouteMatch)(),{pinId:i}=(0,d.Z)(n.params.id||""),a=(0,g.ZP)();return"GRAPHQL_DISABLED"===e?(0,H.jsx)(te,{...t,pinId:i}):(0,H.jsx)(p.Z,{dangerouslyServerRenderForGraphQL:!0,fallback:(0,H.jsx)(z.xu,{padding:5,children:(0,H.jsx)(z.$j,{accessibilityLabel:a.bt("   ", "Loading pin data", "closeupPage.loadingPinData", undefined, true),show:!0})}),children:e&&(0,H.jsx)(ee,{...t,pinId:i,queryRef:e})})}},971917:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(598615),a=n(116303),o=n(63552),r=n(172071),l=n(867820),s=n(883119),d=n(785893);function c({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:a}){const c=t.split(n);return(0,d.jsx)(s.xu,{children:(0,d.jsx)(o.Z,{onTouch:()=>{r.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,d.jsxs)(s.kC,{direction:"row",gap:{row:1,column:0},children:[(0,d.jsx)(s.xv,{inline:!0,size:"300",children:c[0]}),e?(0,d.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:(0,d.jsx)(s.rU,{href:"/"+a,target:"blank",onClick:()=>(0,l.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,d.jsx)(s.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:n}),(0,d.jsx)(s.xv,{inline:!0,size:i?"200":"300",children:c[1]})]})})})}var u=n(938917),p=n(898781),m=n(667679),h=n(773285),_=n(50286);function g({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:g}){const v=(0,p.ZP)(),{checkExperiment:y}=(0,h.F)(),f=(0,_.ml)(),b=()=>r.Z.increment("mweb_social_unauth.closeup.avatar_click"),x=(0,u.Z)(),P=(0,m.Z)(),S=(v.bt("{{ name }}    .", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",t),w="undefined"!=typeof window&&window.innerWidth<360,T=t.length>25,k=f&&!g&&y("mweb_social_context_header_upsell").anyEnabled,E=y("mweb_social_context_header_upsell").group;return x&&g?(0,d.jsxs)(s.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:T?100:80,children:[(0,d.jsx)(s.xu,{marginTop:4,marginBottom:4,width:40,children:(0,d.jsx)(o.Z,{onTouch:b,pressState:"none",children:(0,d.jsx)(a.Z,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,d.jsx)(s.kC.Item,{flex:"grow",children:(0,d.jsxs)(s.xu,{display:"flex",direction:T?"column":"row",alignItems:"center",justifyContent:T?"start":"between",padding:T?3:0,children:[(0,d.jsxs)(s.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!w,children:[(0,d.jsx)(s.kC,{children:(0,d.jsxs)(s.xv,{align:T?"center":"start",children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,l.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),S.split(t)[1]]})}),!T&&(0,d.jsx)(s.xv,{size:"100",children:v.bt("   Pinterest .", "Open Pinterest to see more", "unauth.mweb.shared.banner.edu", undefined, true)})]}),(0,d.jsx)(s.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:T?0:100,marginTop:T?3:0,children:(0,d.jsx)(i.Z,{componentType:14161,within:"social-context-header",children:({handleOpenApp:e})=>(0,d.jsx)(s.zx,{onClick:()=>e(),size:"md",text:v.bt(" ", "Open app", "unauth.mweb.shared.banner.cta", undefined, true)})})})]})})]}):(0,d.jsx)(o.Z,{onTouch:()=>{k&&P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,d.jsxs)(s.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,d.jsx)(s.xu,{marginTop:4,marginStart:k?2:0,marginBottom:4,width:48,children:(0,d.jsx)(o.Z,{onTouch:b,pressState:"none",children:(0,d.jsx)(a.Z,{src:null!=e?e:void 0,name:n})})}),(0,d.jsxs)(s.kC,{alignItems:k?"start":"center",justifyContent:"start",direction:"column",children:[(0,d.jsx)(s.xu,{marginStart:k?-1:0,children:(0,d.jsx)(c,{isStoryPin:g,inviteText:k&&E.includes("join")?(v.bt("{{ name }}    .", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):k&&E.includes("converse")?(v.bt("{{ name }}  .", "{{ name }} sent an idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):k&&E.includes("explore")?(v.bt("{{ name }}   .", "{{ name }} sent this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):(v.bt("{{ name }}    .", "{{ name }} shared this idea with you", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:k})}),k&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:E.includes("join")?v.bt("Pinterest  .", "Tap to join them on Pinterest", "pin.closeup.header.shareNotification.text", undefined, true):E.includes("converse")?v.bt("  .", "Tap to share feedback", "pin.closeup.header.shareNotification.text", undefined, true):E.includes("explore")&&v.bt("    .", "Tap to see more like it", "pin.closeup.header.shareNotification.text", undefined, true)})})]})]})})}},594353:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(116485);const a=(e,t,n)=>!t&&!n&&i.ZR.has(e)},239682:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},59644:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},240265:(e,t,n)=>{n.d(t,{O:()=>l,Q:()=>s});var i=n(59644),a=n(414327),o=n(956800);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},s=e=>r.reduce(((t,n)=>{const r=[(0,o.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{r.push((0,a.jB)(l.name,l.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(r)}),[])},737849:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(121151),a=n(898781),o=n(966113),r=n(349700),l=n(883119),s=n(785893);const d=o.K_+"?source=block_dialogue";function c({firstName:e,onBlockUser:t,onClearModal:n}){const o=(0,a.ZP)(),c=(0,r.nk)(o.bt("{{ firstName }}  ?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join("");return(0,s.jsxs)(i.ZP,{accessibilityModalLabel:c,onDismiss:n,heading:c,footer:(0,s.jsxs)(l.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,s.jsx)(l.xu,{padding:1,children:(0,s.jsx)(l.zx,{fullWidth:!0,size:"md",text:o.bt("", "Cancel", "blockUser.modal.cancel", undefined, true),onClick:n})}),(0,s.jsx)(l.xu,{padding:1,children:(0,s.jsx)(l.zx,{fullWidth:!0,size:"md",color:"red",text:o.bt("", "Block", "Button to confirm blocking a user", undefined, true),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,s.jsx)(l.xu,{padding:4,"data-test-id":"block-text",children:(0,s.jsx)(l.xv,{children:(0,r.nk)(o.bt("{{ firstName }}   , ,  .      .", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each others profiles.", "blockUser.modal.description", undefined, true),{firstName:e})})}),(0,s.jsx)(l.xu,{padding:4,children:(0,s.jsx)(l.xv,{color:"default",weight:"bold",children:(0,s.jsx)(l.rU,{target:"blank",href:d,children:o.bt(" ", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]})}},678638:(e,t,n)=>{n.d(t,{$n:()=>y,A4:()=>P,CE:()=>m,ET:()=>E,F$:()=>v,Kw:()=>T,Nv:()=>w,PA:()=>x,X_:()=>k,d9:()=>f,e1:()=>p,o4:()=>S,vB:()=>_});var i=n(563339),a=n(483025),o=n(254176),r=n(422946),l=n(248327),s=n(782677),d=n(214494),c=n(956800),u=n(414327);function p(e){return t=>{const{boardId:n,sectionIdBefore:i,sectionIdAfter:a,sourceSectionId:o,targetSectionId:l}=e;t((0,c._f)({feedType:r.DV.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:o,targetItemId:l}));const s={section_id:o,section_before:i||void 0,section_after:a||void 0};return d.Z.create("BoardSectionsReorderResource",s).callUpdate({showError:!1})}}function m(e,t){return n=>n((0,l.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function h(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _({boardId:e,name:t,nameSource:n,pinImport:a,initialPinIds:l=[]},s,p){let m=0;"RECOMMENDATION"===n?m=1:"EDITED_RECOMMENDATION"===n&&(m=2);const _={board_id:e,initial_pins:a&&!a.all?a.pinIds:l,name:t,name_source:m,...p?{orbac_subject_id:p}:Object.freeze({})};return t=>d.Z.create("BoardSectionResource",_).callCreate({showError:!1}).then((({resource_response:{data:n}})=>{t(h(e,n)),t((0,c.vX)({feedId:e,feedType:r.DV.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t((0,o.Tq)(e,"pin_count")),t((0,u.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:l,pinIds:d}=a||{all:!1,pinIds:[]};return l?new Promise(((a,o)=>t((0,i.Z)({inverseSelection:!0,selectedPinIds:d,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},s)).then((()=>a(n))).catch(o))):(d.length>0&&t((0,c.N8)(r.DV.BOARDFEED,e)),n)}))}function g(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function v(e,t,n){return i=>d.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then((()=>Promise.all([i(g(e,t)),i((0,c.EX)({feedId:e,feedType:r.DV.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,o.Tq)(e,"pin_count")),i((0,u.jB)("BoardSectionsRepinResource",{board_id:e}))])))}function y(e,t,n,i){return a=>d.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then((t=>{const n=t.resource_response.data;return a(function(e,t){return n=>{const i=t.board;var a,l,s,d,u;i&&i.id!==e?(n(g(e,null!==(a=t.id)&&void 0!==a?a:"")),n((0,c.EX)({feedId:e,feedType:r.DV.BOARD_SECTIONS,itemIds:[null!==(l=t.id)&&void 0!==l?l:""],itemType:"boardsection"})),n((0,o.Tq)(e,"pin_count")),n(h(null!==(s=i.id)&&void 0!==s?s:"",t)),n((0,c.vX)({feedId:null!==(d=i.id)&&void 0!==d?d:"",feedType:r.DV.BOARD_SECTIONS,itemIds:[null!==(u=t.id)&&void 0!==u?u:""],itemType:"boardsection"})),n((0,o.Tq)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),a((0,u.jB)("BoardSectionsRepinResource",{board_id:e})),n}))}function f(e,t,n){return i=>d.Z.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then((a=>Promise.all([i(g(e,t)),i((0,u.jB)("BoardSectionsRepinResource",{board_id:e})),i(m(n)),i((0,c.N8)(r.DV.BOARD_SECTION_PINS,n))]).then((()=>a))))}const b=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),x=(e,t)=>n=>d.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(b(0,t)),e.resource_response.data))),P=e=>t=>{const n={section_id:e};return d.Z.create("BoardSectionResource",n).callGet().then((e=>{var n;const i=(null===(n=e.resource_response)||void 0===n?void 0:n.data)||{id:"",title:""};return t(b(0,i)),e}))},S=(e,t,n,i)=>a=>{const o=d.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return a(((e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}))(e,t,n,i)),o},w=(e,t,n)=>i=>{const o={board_id:e,initial_pins:t,name:n},r="BoardSectionResource";return d.Z.create(r,o).callCreate().then((n=>{const l=n.resource_response.data,d=(0,s.Fv)(l,a.Z[r]);return i((0,u.XM)(r,o,n,d)),t.length&&i({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:l.id},pinIds:t}}),n}))},T=e=>t=>{const{source:n,target:i,pinIds:o}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){const e={board_id:i.boardId,pin_ids:o,section_id:i.sectionId},t="BulkEditResource";return d.Z.create(t,e).callUpdate()}if(i.sectionId){const e={section_id:i.sectionId,pins:o},n="BoardSectionEditResource";return d.Z.create(n,e).callUpdate().then((i=>{const o=(0,s.Fv)(i.resource_response.data,a.Z[n]);return t((0,u.XM)(n,e,i,o)),i}))}const r={section_id:n.sectionId,pins:o};return d.Z.create("BoardSectionPinsResource",r).callDelete()},k=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});const{source:n,target:i,excludePinIds:a}=e,o={board_id:n.boardId,new_board_id:i.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:i.sectionId};return d.Z.create("BulkEditSelectAllResource",o).callUpdate()},E=(e,t,n,i)=>a=>a(w(e,[],t)).then((t=>{const o=t.resource_response.data.id;return a(k({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:o},excludePinIds:n}))}))},254176:(e,t,n)=>{n.d(t,{$z:()=>H,Br:()=>x,Cr:()=>O,K8:()=>E,KQ:()=>G,L1:()=>$,NH:()=>ie,OA:()=>W,RZ:()=>X,Tq:()=>T,Xi:()=>Z,YQ:()=>K,YV:()=>D,ZP:()=>L,aX:()=>N,eo:()=>S,fJ:()=>Y,h6:()=>Q,k8:()=>ee,md:()=>P,oG:()=>w,oL:()=>F,of:()=>I,rS:()=>ae,xH:()=>k,xQ:()=>A,xR:()=>V,xk:()=>R,yT:()=>b,yt:()=>te,zC:()=>ne,zS:()=>q});var i,a,o,r,l,s,d=n(702664),c=n(27255),u=n(239682),p=n(172071),m=n(422946),h=n(248327),_=n(240265),g=n(414327),v=n(214494),y=n(956800),f=n(167912);function b(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function x(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function P(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function S({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const w=(e,t)=>n=>n((0,h.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function T(e,t,n){return(0,h.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function k(e,t,n){return i=>v.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([i(S({boardId:e})),i(T(t,"pin_count")),i((0,y.N8)(m.DV.BOARD_SECTIONS,t))])))}function E(e){return t=>{e&&(0,_.Q)(e).forEach((e=>{t(e)}))}}const I=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),A=e=>w(e,"pin_count");function C(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function R(e,t){return n=>(n(C(e)),v.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function j(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function D(e,t){return n=>(n(j(e)),v.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const O=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),L=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function N(e,t,n){const i={name:e,privacy:c.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>v.Z.create("BoardResource",i).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,g.jB)("BoardsResource",(0,u.Z)(t,!1))),i}))}function F(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const M=(e,t,n)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}),z=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),U=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),B=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),Z=(e,t=!1,n)=>i=>(i(M(e,t,n)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),V=(e,t)=>n=>(n(z(e,t)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),H=(e,t,n)=>i=>(i(B(e,t,"new",n)),v.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),K=(e,t,n,i,a)=>o=>{var r,l;const s="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(U(e,null!==(r=null==i?void 0:i.id)&&void 0!==r?r:"",n)),v.Z.create(s,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"",...a?{orbac_subject_id:a}:{}}).callDelete().catch((()=>o(B(e,n,t,[i]))))},G=(e,t)=>n=>v.Z.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((i=>{if(!i||!i.resource_response)return{};const a=i.resource_response.data||{},o=(a.model||{}).custom_properties||{},{campaign_id:r="unknown"}=o,l=a.display_data||{},s=!!a.display_data,d=l.header_image_mobile,c=l.header_background_color,u=l.text_icon_color,m={boardId:e,isSocialSeasonalBoard:s,socialHeaderBgImage:d,socialHeaderBgColor:c,textIconColor:u};return p.Z.increment(`mweb.seasonal_board.${r}.${t}.land`),n((e=>({type:"SET_SOCIAL_SEASONAL_BOARD",payload:e}))(m))})),W=(e,t)=>()=>v.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),$=(e,t,n,i)=>a=>{const o=v.Z.create("BoardResource",{board_id:n}).callDelete();return a(S({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),o},q=(e,t)=>n=>v.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((i=>(n((0,y.Qv)("archived-boards",[{id:e,type:"board"}])),n(C(e,t)),i))),Y=(e,t)=>n=>v.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((i=>(n((0,y.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(j(e)),i))),X=()=>{const e=void 0!==i?i:i=n(604955),[t]=(0,f.useMutation)(e);return async e=>{const n={boardId:e};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},J=()=>{const e=void 0!==a?a:a=n(90105),[t]=(0,f.useMutation)(e);return async(e,n,i)=>{const a={boardId:e,userId:n,ban:i||!1};return await new Promise(((e,n)=>{t({variables:{...a},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},Q=()=>{const e=void 0!==r?r:r=n(518190),[t]=(0,f.useMutation)(e),i=(0,d.useDispatch)();return async(e,n,a)=>{const o={boardId:e,userId:(null==a?void 0:a.id)||""};return await new Promise(((r,l)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&l(o[0]),i(M(e,n,a)),r(t)},onError:e=>l(e)})}))}},ee=()=>{const e=J();return(t,n)=>i=>(i(z(t,n)),e(t,n))},te=()=>{const e=void 0!==l?l:l=n(16945),[t]=(0,f.useMutation)(e);return async(e,n)=>{const i={boardId:e,collaboratorIds:n.map((({id:e})=>e)),message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},ne=()=>{const e=void 0!==s?s:s=n(787525),[t]=(0,f.useMutation)(e);return async(e,n)=>{const i={board:e,emails:n,message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},ie=()=>{const e=te();return(t,n,i)=>a=>(a(B(t,n,"new",i)),e(t,i))},ae=()=>{const e=J(),t=(()=>{const e=void 0!==o?o:o=n(472297),[t]=(0,f.useMutation)(e);return async(e,n)=>{const i={board:e,collaboratorIds:[n]};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}})();return(n,i,a,o)=>r=>{var l,s;const d="accepted"===i?t:e;return r(U(n,null!==(l=null==o?void 0:o.id)&&void 0!==l?l:"",a)),d(n,null!==(s=null==o?void 0:o.id)&&void 0!==s?s:"").catch((()=>r(B(n,a,i,[o]))))}}},576028:(e,t,n)=>{n.d(t,{V:()=>r,u:()=>o});var i=n(214494),a=n(254176);const o=e=>t=>{const n={board_id:e};return i.Z.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,a.yT)(n)),e}))};function r(e,t,n){return(o,r)=>{const{boards:l}=r(),s=l[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return o((0,a.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return o((0,a.yT)(n)),e})).catch((e=>{throw s&&o((0,a.yT)(s)),e}))}}},712055:(e,t,n)=>{n.d(t,{Z:()=>r,f:()=>l});var i=n(214494),a=n(254176);function o(e){return i.Z.create("BoardFollowResource",{board_id:e})}function r(e){return t=>{o(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function l(e){return t=>{o(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},600147:(e,t,n)=>{n.d(t,{DD:()=>c,lg:()=>u,Th:()=>m,YH:()=>l,wH:()=>r,IU:()=>p,L8:()=>d});var i=n(214494),a=n(422946),o=n(956800);function r({didItDataId:e,isLikedByMe:t}){return n=>{const a=i.Z.create("DidItLikeResource",{didItDataId:e});return t?a.callDelete({showError:!1}):a.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function l({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>{const a=i.Z.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?a.callDelete({showError:!1}):a.callCreate({showError:!1}),n(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}function s(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function d(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function c({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:r,pin_id:l,username:s,updateParentDidItCount:c}){const u={aggregatedPinDataId:e,details:t,image_signatures:r,pin_id:l};return t=>i.Z.create("DidItActivityResource",u).callCreate().then((i=>{const r=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),t((0,o.vX)({feedId:e,feedType:n?a.DV.UNIFIED_COMMENTS:a.DV.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),t((0,o.vX)({feedId:s,feedType:a.DV.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),c&&t(d(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:r,pinId:l,username:c,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:l}).callDelete().then((i=>{r&&p(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(l)),p(s(n)),p((0,o.EX)({feedId:null!=e?e:"",feedType:t||a.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,o.EX)({feedId:c,feedType:a.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,o.EX)({feedId:c,feedType:a.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(d(n,-1))}),(()=>{}))}}function p({id:e,details:t,image_signatures:n,pinId:a}){const o={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:a};return e=>{i.Z.create("DidItActivityResource",o).callUpdate().then((t=>{const n=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(n))}),(()=>{}))}}function m(e,t,n,r,l){const d={reason:r,detailed_reasons:t,user_did_it_data_id:n};return t=>{i.Z.create("DidItActivityFlagResource",d).callCreate().then((()=>{t(s(n)),e&&t((0,o.EX)({feedId:e,feedType:a.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),t((0,o.EX)({feedId:l,feedType:a.DV.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))}),(()=>{}))}}},956800:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>a,Qv:()=>o,_f:()=>i,vX:()=>l});const o=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},29857:(e,t,n)=>{n.d(t,{r:()=>i});const i=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},563339:(e,t,n)=>{n.d(t,{Z:()=>m,S:()=>p});var i=n(214494),a=n(254176),o=n(422946),r=n(678638),l=n(124237);const s=e=>t=>{l.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("      .", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))};var d=n(956800);const c=e=>(0,d.N8)(e.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,e.sectionId||e.boardId);function u(e,t){const{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,a.Tq)(n.boardId,"pin_count")),t((0,a.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,a.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,r.CE)(n.sectionId)),i.sectionId&&t((0,r.CE)(i.sectionId))}function p(e){return t=>{const{selectedPinIds:n,source:i,target:a}=e;t((0,d.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,d.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function m(e,t){return n=>function(e,t,n){const{inverseSelection:a,selectedPinIds:r,source:l,target:u,orbacSubjectId:p}=e;if(l.boardId===u.boardId&&(l.sectionId||null)===(u.sectionId||null))return Promise.reject();if(a){const e={board_id:l.boardId,new_board_id:u.boardId,old_section_id:l.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:r,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(c(l)),t(c(u))]))).catch(s(n))}{const e=(e,n)=>{t((0,d.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,d.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?o.DV.BOARD_SECTION_PINS:o.DV.BOARDFEED,itemIds:r,itemType:"pin"}))};e(l,u);const a=()=>e(u,l);if(u.boardId===l.boardId){if(u.sectionId){const e={section_id:u.sectionId,pins:r,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),s(n)(e)}))}{const e={section_id:l.sectionId,pins:r,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{a(),s(n)(e)}))}}{const e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:r,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),s(n)(e)}))}}}(e,n,t).then((()=>u(e,n)))}},177891:(e,t,n)=>{n.d(t,{a:()=>i,k:()=>a});const i=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},490543:(e,t,n)=>{n.d(t,{F:()=>i,p:()=>a});const i=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),a=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},108712:(e,t,n)=>{function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function a(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>a,k:()=>i})},447948:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,n,i,a){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:i,localPinId:a}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:()=>r,I1:()=>c,Ib:()=>p,NA:()=>d,Ur:()=>o,Vw:()=>s,b9:()=>h,i0:()=>m,mO:()=>a,q1:()=>u,t_:()=>l,yR:()=>i,yj:()=>_});const l=(e,t,n)=>({type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}});function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function d({id:e,text:t,undoAction:n,undoActionOptions:i,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoActionOptions:i,undoText:a}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function m(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function _(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}},12918:(e,t,n)=>{n.d(t,{M:()=>s,i:()=>d});var i=n(483025),a=n(414327),o=n(782677),r=n(90326),l=n(214494);const s=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=e=>t=>{const{method:n,guid:d,image_base64:c,image_url:u}=e;return((e,t)=>new Promise((n=>{e?(0,r.eR)(e).then((e=>{n(e)})):n(t)})))(c,u).then((r=>{const c={...e,method:"button"!==n||d?n:"button_external",image_url:r,image_base64:void 0},u="PinResource";return l.Z.create(u,c).callCreate().then((e=>{const n=(0,o.Fv)(e.resource_response.data,i.Z.PinResource);t((0,a.XM)(u,c,e,n));const r=e.resource_response.data,{board:{id:l},pinner:{id:d},section:p}=r,m=p&&p.id;return t(s(r.id,l,m,d)),e}))}))}},274415:(e,t,n)=>{function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},139574:(e,t,n)=>{n.d(t,{L:()=>l,q:()=>s});var i=n(422946),a=n(956800),o=n(254176),r=n(214494);function l(e){return t=>{const{inSelectAll:n,selectedPinIds:l,orbacSubjectId:s,source:{boardId:d,sectionId:c}}=e,u=n?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:d,section_id:c,pin_ids:l,orbac_subject_id:s};return t((0,o.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,inverseSelection:n,itemIds:l,itemType:"pin"})),r.Z.create(u,p).callDelete()}}const s=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:i})=>(a,o)=>{const l=r.Z.create("PinResource",{id:e,client_tracking_params:i}).callDelete(),{session:{userId:s}}=o();return a(((e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,s)),l}},550393:(e,t,n)=>{n.d(t,{Q:()=>o,a:()=>a});var i=n(214494);function a(e,t){return async n=>{const{resource_response:a}=await i.Z.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return n(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),a}}function o(e){return async t=>{const{resource_response:n}=await i.Z.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:a}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(a.id,a.tagged_users)),n}}},95359:(e,t,n)=>{n.d(t,{G3:()=>u,Gy:()=>c,Ps:()=>s,fA:()=>p,xQ:()=>d});var i=n(214494),a=n(483025),o=n(414327),r=n(782677);function l(e,t,n){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:n,pinId:e}}}function s(e,t){return l(e,!1,t)}function d(e,t){return l(e,!0,t)}const c=(e,t,n,l,s)=>d=>{const c={pin_id:e,user_id:l,reaction_type:t,reaction_pin_id:n,action_type:"reaction",client_tracking_parameters:s},u="ReactionsResource";return i.Z.create(u,c).callUpdate().then((e=>{const t=(0,r.Fv)(e.resource_response.data,a.Z[u]);d((0,o.XM)(u,c,e,t))}))},u=(e,t,n,l)=>s=>{const d={pin_id:e,user_id:n,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:l},c="ReactionsResource";return i.Z.create(c,d).callDelete().then((e=>{const t=(0,r.Fv)(e.resource_response.data,a.Z[c]);s((0,o.XM)(c,d,e,t))}))};function p(e,t,n){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}},850431:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(349741),a=n(956800);const o=({pinId:e,boardId:t,i18n:n,logContextEvent:o,onSuccess:r,onUndo:l,originalPinId:s,showNewUserSavetoProfileAnimation:d,showRepinConfirmation:c,showToast:u,section:p,trackingParams:m,isOneTapSave:h,viewType:_,historyPush:g,suggestedBoardIds:v})=>(y,f)=>{var b,x,P,S,w;const{pins:T,session:k,feeds:E}=f(),I=T[e];t&&((null===(b=null!==(x=null==I?void 0:I.shopping_flags)&&void 0!==x?x:[])||void 0===b?void 0:b.length)>0||null!=I&&I.rich_summary&&(null===(P=null!==(S=null==I||null===(w=I.rich_summary)||void 0===w?void 0:w.products)&&void 0!==S?S:[])||void 0===P?void 0:P.length)>0)&&(E[`board-shop-saved-preview:${t}`]&&y((0,a.Qv)(`board-shop-saved-preview:${t}`,[I],{isPrepend:!0})),E[`board-shop-saved:${t}`]&&y((0,a.Qv)(`board-shop-saved:${t}`,[I],{isPrepend:!0})));return new i.Z({boardId:t,dispatch:y,i18n:n,isLegoSaveStyle:!0,isOneTapSave:h,onSuccess:r,onUndo:l,originalPinId:s,pin:I,resourceName:"RepinResource",section:p,showNewUserSavetoProfileAnimation:d,showRepinToasts:e=>c?c(e):u?u(e):void 0,trackingParams:m,userId:k.userId,viewType:_,historyPush:g,suggestedBoardIds:v}).processRepin(o)}},639952:(e,t,n)=>{n.d(t,{Cp:()=>s,FK:()=>l,H5:()=>x,MI:()=>h,Mj:()=>f,O0:()=>m,QZ:()=>r,W:()=>v,WF:()=>c,Wz:()=>P,a5:()=>u,dz:()=>g,e0:()=>p,e2:()=>o,iW:()=>y,n1:()=>a,rm:()=>d,wb:()=>b,xu:()=>_});var i=n(53987);const a=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),_=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),v=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),y=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=(e,t,n)=>i=>i(((e,t,n)=>({type:"SET_SHARE_ON_BOARD_PAGE",payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),b=()=>({type:"STOP_SCROLL_TO_CLOSEUP_PIN"}),x=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),P=(e,t)=>{let n;return n=e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:n}}},70090:(e,t,n)=>{n.d(t,{ZN:()=>r,bJ:()=>s,fv:()=>l,hr:()=>o,lD:()=>d});var i=n(214494);function a(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>n=>{a(e,t).callCreate().catch((()=>n(o(e,!1)))),n(o(e,!0))},l=(e,t)=>n=>{a(e,t).callDelete().catch((()=>n(o(e,!0)))),n(o(e,!1))},s=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(o(e,!n))}))}))},d=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(o(t,i))}))}))},461773:(e,t,n)=>{n.d(t,{KF:()=>d,ZN:()=>r,fv:()=>s,kE:()=>u,yA:()=>l});var i=n(214494),a=n(90326);function o(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return n=>{o(e,t).callCreate().catch((()=>n((0,a.P_)(e,!1)))),n((0,a.P_)(e,!0))}}function l(e,t=null){return async n=>{n((0,a.P_)(e,!0)),await o(e,t).callCreate().catch((t=>{throw n((0,a.P_)(e,!1)),t}))}}function s(e,t=null){return n=>{o(e,t).callDelete().catch((()=>n((0,a.P_)(e,!0)))),n((0,a.P_)(e,!1))}}function d(e,t=null){return async n=>{n((0,a.P_)(e,!1)),await o(e,t).callDelete().catch((t=>{throw n((0,a.P_)(e,!0)),t}))}}const c=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(i.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(c(e,!1)))),t(c(e,!0)))}},90326:(e,t,n)=>{n.d(t,{Ge:()=>s,JS:()=>o,OF:()=>g,P_:()=>r,Q_:()=>u,b8:()=>p,eR:()=>_,h2:()=>d,h6:()=>c});var i=n(735422),a=n(214494);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const r=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),s=({id:e,orbacSubjectId:t,blockSource:n,blockContext:i})=>o=>(o(l(e,!0)),a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:i}).callCreate().catch((()=>o(l(e,!1))))),d=e=>t=>(t(l(e,!1)),a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(l(e,!0)))));function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const u=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),p=(e,t,n)=>(o,r)=>{a.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,i.Dm)()}),t)};const m=async(e,t,n)=>{var i;const o=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(i=o.resource_response)&&void 0!==i&&i.data[e]){const i=o.resource_response.data[e],{status:a,signature:r}=i;if("processing"===a||"registered"===a)setTimeout((async()=>{m(e,t,n)}),5e3);else if("succeeded"===a){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);t(e)}else n()}else n()},h=e=>new Promise(((t,n)=>{var i,o,r,l,s;i=e,o="pinimage",r=()=>{},l=e=>{t(e)},s=e=>{n(e)},(new FormData).append("img",i),a.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:a}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",n,!0),o.onload=()=>{(e=>e>=200&&e<400)(o.status)?(r(100),m(t,l,s)):s()},o.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);r(t)};const d=new FormData;for(const e in a)d.append(e,a[e]);d.append("file",i),o.send(d)}}),(()=>{s()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&h(function(e,t=512){const n=e.split(";"),i=n[0].split(":")[1],a=n[1].split(",")[1],o=atob(a),r=[];for(let l=0;l<o.length;l+=t){const e=o.slice(l,l+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const i=new Uint8Array(n);r.push(i)}return new Blob(r,{type:i})}(e)).then((e=>t(e))):n("Invalid Image")})),g=e=>()=>a.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},483025:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(819063);const a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,ExploreArticleResource:i.yg,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},819063:(e,t,n)=>{n.d(t,{Cj:()=>d,EA:()=>o,Gn:()=>T,Ht:()=>w,IY:()=>s,LR:()=>E,_F:()=>p,cC:()=>f,dq:()=>h,fE:()=>u,iF:()=>y,rm:()=>r,sN:()=>k,sf:()=>b,t6:()=>S,yg:()=>g});var i=n(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),o=new i.fK.Entity(a.user),r=new i.fK.Entity(a.aggregatedComment,{user:o,tagged_users:[o]}),l=new i.fK.Entity(a.article),s=new i.fK.Entity(a.board),d=new i.fK.Entity(a.pin),c=new i.fK.Entity(a.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(a.boardsection),m=new i.fK.Entity(a.conversationMessage,{sender:o,users:[o],board:s,pin:d,user:o}),h=new i.fK.Array(m),_=new i.fK.Entity(a.contactrequest),g=new i.fK.Entity(a.story),v=new i.fK.Entity(a.triedit),y=new i.fK.Entity(a.todayArticle,{article_creator_user:o,content_pin:d,content_pin_official_user:o,video_pin:d}),f=new i.fK.Entity(a.topic,{},{processStrategy:(e,t,n)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(a.invite,{invited_by_user:o,invited_user:o,board:s},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},P=new i.fK.Union({user:o,board:s,invite:b,pin:d,topic:f,triedit:v},x),S=new i.fK.Entity(a.notification,{content_items:[{content_object:P}],header_icon_objects:[P]}),w=new i.fK.Array(b),T=new i.fK.Array(o),k=new i.fK.Array(s),E=new i.fK.Array({aggregatedComment:r,article:l,board:s,boardsection:p,contactrequest:_,conversationMessage:m,notification:S,pin:d,story:g,todayArticle:y,topic:f,triedit:v,user:o},x,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:E})},550858:(e,t,n)=>{n.d(t,{Qi:()=>d,RK:()=>s,$_:()=>l});var i=n(766935);var a=n(844974);const o="REDUX_STATE",r=()=>!!navigator.serviceWorker,l=()=>r()&&JSON.parse((0,a.qn)(o))||{},s=e=>(0,i.Z)((t=>{const n={};n[e]=t,r()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{r()&&(0,a.Nh)(o,JSON.stringify({...l(),...e}))})(n)))}),1e3),d=()=>{(0,a.L_)(o)}},422946:(e,t,n)=>{n.d(t,{DV:()=>c,J:()=>_,ZP:()=>f});var i=n(59644),a=n(932995),o=n(483025),r=n(998651),l=n(648284),s=n(819063),d=n(338739);const c={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${c.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:i}=n?n.objects[0]:{story_type:""};return`explore-${i.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:c.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:c.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?c.AGGREGATED_COMMENT_REPLIES:c.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:c.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:c.PROFILE_BOARDS,id:(0,i.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:a,query:o,user:s},response:d})=>{var u;return{type:c.SEARCH_PINS,id:(0,l.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:o,selectedPinImgSig:a,scope:n,user:s}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,r.L)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:c.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:c.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:c.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:c.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},h=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),_=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,v=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((i,a)=>{const o=e[a]||[],r=o.filter((e=>!(e.type===t&&e.id===n)));return o.length!==r.length&&(i[a]=r),i}),{...e}),f=(e={},t)=>{switch(t.type){case d.zP:case d.aW:{const{payload:i}=t,{resource:a,options:r,normalizedResponse:l,schema:u}=i;if(l&&a in p){const n=((e,t,n)=>{const i=n||o.Z[e];if(i===s.LR)return t.result;if(i===s.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===s.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===s.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===s.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===s.LR));if(e)return t.result[e[0]]}return null})(a,l,u);if(n&&Array.isArray(n)){const i=p[a](r);if("ShoppingFeedModularizedResource"===a){const{board_id:t,saved_products_only:i}=null!=r?r:{},a=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,s=`board-shop-saved-preview:${t}`,d=[...e[a]||[]],c=[...e[o]||[]],u=[...e[s]||[]];return v(n,l.entities).forEach((e=>{var n;i?c.push(e):l.entities.pins&&(null===(n=l.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):d.push(e)})),{...e,[a]:d,[o]:c,[s]:u}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[i]:n};{const a=(t.type===d.aW&&e[i]||[]).concat(v(n,l.entities));return{...e,[i]:a}}}}else{var n;const a=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const o=m[i.resource](i);if(o){const{type:n,id:i,items:r,reversed:l}=o;let s=(r||a||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));l&&(s=s.reverse());const u=`${n}:${i}`,p=e[u];if(p||t.type!==d.aW){const n=p||[];let i=s;return t.type===d.aW&&(i=l?s.concat(n):n.concat(s)),{...e,[u]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:l}}=t,s=`${n}:${i}`,d=e[s]||[];let u=-1,p=-1;if([c.BOARDFEED,c.BOARD_SECTION_PINS,c.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex((e=>e.type===o&&e.id===l)),p=d.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[s]:(0,a.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:a,itemType:o,itemIds:r=[]}}=t,l=`${n}:${i}`,s=e[l]||[];if(s&&s.length>0&&(n===c.BOARD_SECTION_PINS||n===c.BOARDFEED)){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&(a&&!t||!a&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[l]:n?t:[]}}if(s&&s.length>0&&n===c.BOARD_SECTIONS){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[l]:t}}if(s&&s.length>0&&(n===c.AGGREGATED_COMMENTS||n===c.BOARDLESS_PINS||n===c.PROFILE_PINS_FEED||n===c.STORY_PINS_FEED||n===c.UNIFIED_COMMENTS||n===c.TRIED_IT_FEED||n===c.STORY_PIN_DATA)){const t=s.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[l]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:a,itemIds:o=[],prepend:r}}=t,l=`${n}:${i}`,s=e[l]||[];if(s&&(n===c.BOARD_SECTION_PINS||n===c.BOARDFEED||n===c.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:a})));let n=0;"story"===(s[0]||{}).type&&(n=1),"story"===(s[1]||{}).type&&(n=2);const i=[...s.slice(0,n),...t,...s.slice(n)];return{...e,[l]:i}}if(s&&n===c.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),n=s?[...t,...s]:[...t];return{...e,[l]:n}}if(n===c.AGGREGATED_COMMENTS||n===c.AGGREGATED_COMMENT_REPLIES||n===c.PROFILE_PINS_FEED||n===c.STORY_PINS_FEED||n===c.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:a}))),n=s?[...r?t:s,...r?s:t]:t;return{...e,[l]:n}}if(n===c.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:a}))),n=s?[...t,...s]:t;return{...e,[l]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,a=`${n}:${i}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:i,options:a}}=t,o=e[n];if(o){let t;return t=a.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],i,o.slice(1)):i.concat(o):o.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,a=`profile-boards:${null!=i?i:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:i,pinIds:a,userId:o}}=t,r=n.boardlessPins&&o&&`boardless-pins:${o}`||n.boardId&&g(n.boardId,n.sectionId),l=g(i.boardId,i.sectionId);return a.reduce(((e,t)=>h(e,{pinId:t,oldFeedId:r,newFeedId:l})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:i,excludePinIds:a}}=t,o=g(n.boardId,n.sectionId),r=g(i.boardId,i.sectionId),l={...e,[o]:a.map((e=>({type:"pin",id:e})))};return delete l[r],l}case"PIN_EDIT":{const{payload:{pinId:n,boardId:i,section:a,source:{boardId:o,sectionId:r}}}=t,l=g(o,r),s=g(i,null==a?void 0:a.id);return h(e,{pinId:n,oldFeedId:l,newFeedId:s})}case d.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,i=n.board;let a;if("quick_saves"===i.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[a]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[a]=[i].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},a={id:n,type:"boardsection"};return t[i]=[a].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let a={...e};for(const o of i){const i=`${o}:${t.payload.options.objectId}`;e[i]&&(a={...a,[i]:[n].concat(a[i])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${c.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,a={...e},o={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return a[i]=[o].concat(e[i]),a}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",i)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},404508:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(702664),a=n(941646),o=n(898781),r=n(112690),l=n(52022),s=n(867820),d=n(385740),c=n(883119),u=n(276775),p=n(785893);function m({alignIconLeft:e,bgColor:t,color:n,disableRedirect:m=!1,fallbackUrl:h,icon:_="arrow-back",onTouch:g,padding:v,placement:y,shouldUseFallbackUrl:f,size:b="lg",viewParameter:x,viewType:P}){const S=(0,o.ZP)(),w=(0,u.useHistory)(),T=(0,u.useLocation)(),k=(0,i.useSelector)((e=>e.session.isAuthenticated)),E=(0,r.Z)(),I=(0,l.Z)(),{viewType:A,viewParameter:C}=(0,d.SU)(),[R,j]=P?[P,x]:[A,C],D=()=>{(0,s.My)(`mweb_back_button_click.${String(y)}.is_auth_${String(k)}`),I({action:"click",item:"back-button"}),R&&E({view_type:R,view_parameter:j,element:34,event_type:102}),g&&g(),m||((!T.key||T.state&&"redirect"===T.state.referrer||f)&&h?w.push(h):T.pathname.includes("/password/reset/")&&T.search&&T.search.includes("?nativeShouldDismiss=true")?w.push("/login/?dismissWebview=true"):w.goBack())};return(0,p.jsx)(a.Z,{id:"back-button",children:e?(0,p.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===_?-1:-2,children:(0,p.jsx)(c.hU,{accessibilityLabel:S.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:D,padding:"auto"!==v?v:2,size:b})}):(0,p.jsx)(c.hU,{accessibilityLabel:S.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:D,padding:"auto"!==v?v:2,size:b})})}},947729:(e,t,n)=>{function i(e,t){return e?t.bt("  .    100  ", "Title too long. Make sure all cards' titles have less than 100 characters", "Title entered is too long while editing a carousel pin and/or one of its pins", undefined, true):t.bt("  .   100  ", "Title too long. Make sure title has less than 100 characters", "Title entered is too long while editing a pin", undefined, true)}function a(e,t){return e?t.bt("  .    500  ", "Description too long. Make sure all cards' descriptions have less than 500 characters", "Description entered is too long while editing a carousel pin and/or one of its pins", undefined, true):t.bt("  .  500  ", "Description too long. Make sure description has less than 500 characters", "Description entered is too long while editing a pin", undefined, true)}function o(e,t){return t.bt("  .  5   .", "Too many mentions. Make sure you have at most 5.", "editPinModal.errorMessages.userMentionOverLimit", undefined, true)}function r(e,t){return e?t.bt(" URL .     ", "Need to provide a valid URL. Make sure all cards' links are valid", "Invalid URL/link provided while editing a carousel pin and/or one of its pins", undefined, true):t.bt(" URL .   ", "Need to provide a valid URL. Make sure the link is valid", "Invalid URL/link provided while editing a pin", undefined, true)}n.d(t,{MM:()=>a,Y8:()=>i,bl:()=>o,qj:()=>r})},675752:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},977734:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(349741),a=n(214494);function o({history:e,i18n:t,logContextEvent:n,onSuccess:o,onUndo:r,originalPinId:l,pinId:s,trackingParams:d,disableRepinAnimation:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,historyPush:m}){return(h,_)=>{const{pins:g,session:v}=_(),{userId:y}=v,f=g[s],b={name:t.bt(" ", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:y};return a.Z.create("BoardResource",b).callCreate().then((a=>{const s=a.resource_response.data;return new i.Z({boardId:s.id,dispatch:h,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:r,originalPinId:l,pin:f,resourceName:"RepinResource",section:void 0,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e,c):void 0,trackingParams:d,userId:v.userId,historyPush:m}).processRepin(n)}))}}},166753:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(499128),a=n(139574),o=n(576028),r=n(678638),l=n(447948),s=n(785893);const d=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:d,i18n:c,newPinId:u,onError:p,onSuccess:m,originalPinId:h,shouldRefresh:_=!1,showToast:g,sourcePinId:v})=>d((0,a.q)({pinId:u,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{h&&d((0,l.t_)(h,e,t)),d((0,l.t_)(v,e,t)),_&&(t&&d((0,r.A4)(t)),e&&d((0,o.u)(e))),g((({hideToast:e})=>(0,s.jsx)(i.ZP,{text:c.bt(" !", "Pin removed!", "Utils.Unsave.Success", undefined, true),onHide:e}))),m&&m()})).catch((()=>{g((({hideToast:e})=>(0,s.jsx)(i.ZP,{variant:"error",text:c.bt("!     .", "Sorry! There was an error removing your Pin.", "Utils.Unsave.Error", undefined, true),onHide:e}))),null==p||p()}))},797087:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),a=n(432300),o=n(898781),r=n(112690),l=n(927383),s=n(52022),d=n(62409),c=n(332215),u=n(698330),p=n(276775),m=n(362240),h=n(881802);function _({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:_,hasRichMetadataArticle:g,hasRichMetadataRecipe:v,images:y,isFromUnauthContextMenu:f,isStoryPin:b,pinId:x}){const P=(0,r.Z)(),S=(0,s.Z)(),{isAuthenticated:w,userId:T}=(0,i.useSelector)((({session:e})=>e)),k=(0,l.Z)(),E=(0,o.ZP)(),I=(0,u.mN)()(T),A=(0,p.useLocation)(),C=(0,m.Z)({embedSrc:e,embedType:t,images:y,pinId:x,isFromUnauthContextMenu:null!=f&&f});return e=>{(0,m.E)({action:"save_button_click",isAuthenticated:w}),P({view_type:3,view_parameter:x?(0,d.CK)({hasRichMetadata:n,hasRichMetadataProducts:_,hasRichMetadataArticle:g,hasRichMetadataRecipe:v}):67,element:48,event_type:102,aux_data:{...w?{login_state:(0,c.xT)(I)?a.Z.LIMITED:a.Z.DEFAULT}:{}}}),b&&P({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),w||(e.preventDefault(),C&&C.onSave(),S({action:"click",item:"save-button"})),k({fn:()=>{},modalHeader:(0,h.Bx)(E),nextLocation:(0,h.Qj)(A)})(e)}}},458996:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(702664),a=n(362240);function o({embedSrc:e,embedType:t,images:n,pinId:o,pinnerId:r,reduxPinSavedThisSession:l}){var s;const{isAuthenticated:d,userId:c}=(0,i.useSelector)((({session:e})=>e)),u=(0,a.Z)({embedSrc:e,embedType:t,images:n,pinId:o});return!!o&&(d?!(r!==c&&!l):null!==(s=null==u?void 0:u.isSaved)&&void 0!==s&&s)}},995269:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(702664),a=n(830157),o=n(166753),r=n(898781),l=n(927383),s=n(362240),d=n(343341),c=n(276775);function u({boardId:e,embedSrc:t,embedType:n,images:u,pinId:p,pinnerId:m,pinnedToBoardId:h,pinSectionId:_,reduxPinSavedThisSession:g,trackingParams:v,showSingleToast:y,onError:f,shouldRefresh:b=!0}){const x=(0,i.useDispatch)(),P=(0,l.Z)(),S=(0,d.F9)()[y?"showOneToast":"showToast"],w=(0,r.ZP)(),T=(0,s.Z)({embedSrc:t,embedType:n,images:u,pinId:p}),k=(0,c.useHistory)(),E=(0,c.useLocation)(),{isAuthenticated:I,userId:A}=(0,i.useSelector)((({session:e})=>e)),C=(0,a.Z)(E.state?E.state.trackingParams:"",v),R=P({fn:()=>{if(!p||!e||!m)return void(null==f||f());const t=m===A,n=!t&&g?g:p,i=!t&&h?h:e,a=t?k.goBack():void 0;(0,o.Z)({boardId:i,boardSectionId:null!=_?_:"",clientTrackingParams:C,dispatch:x,i18n:w,newPinId:n,onError:f,onSuccess:a,shouldRefresh:b,showToast:S,sourcePinId:p})}});return I?R:(null==T?void 0:T.onUnsave)||(()=>{})}},571577:(e,t,n)=>{n.d(t,{H:()=>o,I:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("ScreenSize")},962551:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(643010),a=n(883119),o=n(785893);function r({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:r,display:l}=e,s=(0,o.jsx)(a.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:r,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(a.xv,{align:n?"start":"center",color:n?(0,i.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:l})})});return n?s:(0,o.jsx)(a.xu,{flex:"none",marginStart:-7,paddingX:4,children:s})}const l=-1,s=0;function d({guides:e,isSlot0Style:t=!1,query:n}){const i=({position:e,term:t})=>e===l?t:e===s?`${t} ${n}`:`${n} ${t}`,d=()=>e.map((e=>(0,o.jsx)(r,{guide:e,guidedQuery:i(e),isSlot0Style:t},e.display)));return t?(0,o.jsx)(a.xu,{padding:2,children:(0,o.jsx)(a.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:d()})}):(0,o.jsx)(a.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(a.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:d()})})}},678532:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(540923),r=n(50286),l=n(898781),s=n(219413),d=n(349700),c=n(867820),u=n(350118),p=n(882801),m=n(883119),h=n(167912),_=n(785893);const g=void 0!==i?i:i=n(50448),v=({onTap:e,isOpen:t})=>{const n=(0,l.ZP)();return(0,_.jsx)(m.iP,{tapStyle:"compress",onTap:e,children:(0,_.jsxs)(m.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,_.jsx)(m.xv,{weight:"bold",size:"300",children:n.bt("  ", "Product details", "productDetails.descriptionTap.text", undefined, true)}),(0,_.jsx)(m.JO,{accessibilityLabel:n.bt("  ", "Arrow forward", "productDetails.openDropdown", undefined, true),color:"default",icon:t?"arrow-down":"arrow-forward"})]})})};function y({onClickTitleOrDomain:e,structuredDescriptionComponents:t,closeupUnifiedDescription:n,closeupAttributionDomainUrl:i}){const s=(0,l.ZP)(),u=(0,r.ZP)(),h=n&&n.trim(),g=i,y=(0,p.jo)({components:t||[],pinDescription:h}),[f,b]=(0,a.useState)(!1);return(0,_.jsx)(m.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:y.length>0&&(0,_.jsxs)(m.xu,{marginTop:6,width:"100%",children:[(0,_.jsx)(v,{isOpen:f,onTap:()=>{b(!f),(0,c.My)("unuath.pdp.details.click",{action:f?"open":"close",device:u})}}),(0,_.jsx)(m.xu,{overflow:"scrollY",maxHeight:f?"75vh":"0vh",paddingX:4,children:(0,_.jsxs)(m.xu,{marginBottom:6,marginTop:2,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,_.jsx)(o.Z,{descriptions:y}),g&&(0,_.jsx)(m.xu,{marginTop:6,children:(0,_.jsx)(m.xv,{children:(0,d.nk)(s.bt("{{ userDomain }}   ", "Ships from and sold by {{ userDomain }}", "productDetails.productDescription.soldBy", undefined, true),{userDomain:(0,_.jsx)(m.iP,{onTap:e,tapStyle:"compress",children:(0,_.jsx)(m.xv,{inline:!0,weight:"bold",children:g})},g)})})})]})})]})})}function f({pinId:e,graphqlRef:t,...n}){var i,a;const o=(0,h.useFragment)(g,t),r=(0,s.Z)({pin:o});return(0,_.jsx)(y,{...n,graphqlRef:o,pinId:e,structuredDescriptionComponents:r.components||{},closeupUnifiedDescription:null!==(i=null==o?void 0:o.closeupUnifiedDescription)&&void 0!==i?i:"",closeupAttributionDomainUrl:null==o||null===(a=o.closeupAttribution)||void 0===a?void 0:a.domainUrl})}function b({pinId:e,...t}){var n,i;const a=(0,u.S6)()(e),o=(0,p.fv)(a);return(0,_.jsx)(y,{...t,pinId:e,structuredDescriptionComponents:o,closeupUnifiedDescription:null!==(n=null==a?void 0:a.closeup_unified_description)&&void 0!==n?n:"",closeupAttributionDomainUrl:null==a||null===(i=a.closeup_attribution)||void 0===i?void 0:i.domain_url})}function x({graphqlRef:e,...t}){return e?(0,_.jsx)(f,{...t,graphqlRef:e}):(0,_.jsx)(b,{...t})}},718254:(e,t,n)=>{n.d(t,{Z:()=>V});var i=n(667294),a=n(40995),o=n(745162),r=n(819354),l=n(121151),s=n(540923),d=n(898781),c=n(112690),u=n(349700),p=n(883119),m=n(785893);function h({descriptions:e,userDomainUrl:t,pinId:n,onClickDomain:a,onDismiss:o,isOpen:r}){const h=(0,d.ZP)(),_=(0,c.Z)();return(0,i.useEffect)((()=>{_({event_type:13,view_type:3,view_parameter:144,component:13597,element:10492,aux_data:{pin_id:n}})}),[]),(0,m.jsx)(l.ZP,{accessibilityModalLabel:"",type:"product_details",onDismiss:o,isOpen:r,mobileAccessibilityCloseIconLabel:h.bt("   ", "close product description modal", "productDetails.productDescription.closeModal", undefined, true),heading:h.bt("  ", "Product details", "productDetails.productDescription.heading", undefined, true),children:(0,m.jsx)(p.xu,{overflow:"scrollY",maxHeight:"75vh",paddingX:4,paddingY:2,children:(0,m.jsxs)(p.xu,{marginBottom:12,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,m.jsx)(s.Z,{descriptions:e}),t&&(0,m.jsx)(p.xu,{marginTop:6,children:(0,m.jsx)(p.xv,{children:(0,u.nk)(h.bt("{{ userDomain }}   ", "Ships from and sold by {{ userDomain }}", "productDetails.productDescription.soldBy", undefined, true),{userDomain:(0,m.jsx)(p.iP,{onTap:a,tapStyle:"compress",children:(0,m.jsx)(p.xv,{inline:!0,weight:"bold",children:t})},t)})})})]})})})}var _,g=n(831539),v=n(869503),y=n(350118),f=n(167912);const b=void 0!==_?_:_=n(298740);function x({ratingValue:e,ratingCount:t,reviewCount:n,freeShippingPrice:i,freeShippingValue:a,inStock:o}){const r=(0,d.ZP)(),l=e&&!(!t&&!n),s=Number.isFinite(a)&&i;return o?l||s?(0,m.jsxs)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},"data-test-id":"product-metadata",display:"flex",marginTop:2,wrap:!0,children:[l&&(0,m.jsx)(g.Z,{count:t||n,countFormat:"text",countType:"rating",rating:e,textSize:"300"}),s&&(0,m.jsx)(v.Z,{customStyles:{color:"default",size:"300"},freeShippingPrice:i,freeShippingValue:a,showPrevDot:!!l})]}):null:(0,m.jsx)(p.X6,{color:"subtle",size:"400",align:"center",children:r.bt("", "Sold out", "product.price.soldOut", undefined, true)})}function P(e){var t,n,i,a,o;const r=(0,f.useFragment)(b,e.graphqlRef),l=null==r?void 0:r.richMetadata,s=null==r?void 0:r.richSummary;let d,c;null!=l&&null!==(t=l.products)&&void 0!==t&&t[0]&&l.products[0].name&&l.products[0].offerSummary&&(d=l.products[0].offerSummary,c=l.products[0].shippingInfo),!d&&null!=s&&null!==(n=s.products)&&void 0!==n&&n[0]&&s.products[0].name&&s.products[0].offerSummary&&(d=s.products[0].offerSummary,c=s.products[0].shippingInfo);const u=null==l?void 0:l.aggregateRating;return(0,m.jsx)(x,{ratingValue:null==u?void 0:u.ratingValue,ratingCount:null==u?void 0:u.ratingCount,reviewCount:null==u?void 0:u.reviewCount,freeShippingPrice:null===(i=c)||void 0===i?void 0:i.freeShippingPrice,freeShippingValue:null===(a=c)||void 0===a?void 0:a.freeShippingValue,inStock:null===(o=d)||void 0===o?void 0:o.inStock})}function S(e){var t,n,i,a,o;const r=(0,y.S6)()(e.pinId),l=null==r?void 0:r.rich_metadata,s=null==r?void 0:r.rich_summary;let d,c;null!=l&&null!==(t=l.products)&&void 0!==t&&t[0]&&l.products[0].name&&l.products[0].offer_summary&&(d=l.products[0].offer_summary,c=l.products[0].shipping_info),!d&&null!=s&&null!==(n=s.products)&&void 0!==n&&n[0]&&s.products[0].name&&s.products[0].offer_summary&&(d=s.products[0].offer_summary,c=s.products[0].shipping_info);const u=null==l?void 0:l.aggregate_rating;return(0,m.jsx)(x,{ratingValue:null==u?void 0:u.rating_value,ratingCount:null==u?void 0:u.rating_count,reviewCount:null==u?void 0:u.review_count,freeShippingPrice:null===(i=c)||void 0===i?void 0:i.free_shipping_price,freeShippingValue:null===(a=c)||void 0===a?void 0:a.free_shipping_value,inStock:null===(o=d)||void 0===o?void 0:o.in_stock})}function w(e){return e.graphqlRef?(0,m.jsx)(P,{...e}):(0,m.jsx)(S,{...e})}var T=n(63536),k=(n(561195),n(407043));var E;void 0!==E||(E=n(716478));var I;void 0!==I||(I=n(365396));var A;void 0!==A||(A=n(30428));var C;n(784590);void 0!==C||(C=n(567974));var R,j=n(862193),D=n(219413),O=n(992750),L=n(62409),N=n(780280),F=n(882801);const M=void 0!==R?R:R=n(390961),z=({onTap:e})=>{const t=(0,d.ZP)();return(0,m.jsx)(p.iP,{tapStyle:"compress",onTap:e,children:(0,m.jsxs)(p.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,m.jsx)(p.xv,{weight:"bold",size:"300",children:t.bt("  ", "Product details", "productDetails.descriptionTap.text", undefined, true)}),(0,m.jsx)(p.JO,{accessibilityLabel:t.bt("  ", "Arrow forward", "productDetails.openModal", undefined, true),color:"default",icon:"arrow-forward"})]})})};function U({isEligibleForPdp:e,isImagePinForUnauthOnTablet:t,onClickTitleOrDomain:n,showUnauthFullDesc:l,graphqlRef:s,pinId:c,pinLink:u,structuredDescriptionComponents:_,closeupUnifiedDescription:g,offerSummaryInStock:v,gridTitle:y,pinTitle:f,richSummaryDisplayName:b,richMetadataTitle:x,storyPinDataId:P,storyPinDataMetadataPinTitle:S,placeSummaryName:E,pinJoinVisualAnnotation:I,pinJoinAnnotationsWithLinks:A,closeupAttributionDomainUrl:C}){const R=(0,d.ZP)(),{isAuthenticated:j}=(0,N.B)(),{logContextEvent:D}=(0,k.v)(),M=(0,L.AH)(u),U=g&&g.trim();let B=y||f;j||(B=(0,O.Ly)({pinTitle:f,gridTitle:y,richSummaryDisplayName:b,richMetadataTitle:x,storyPinDataId:P,storyPinDataMetadataPinTitle:S,placeSummaryName:E,pinJoinVisualAnnotation:I,pinJoinAnnotationsWithLinks:A}));const Z=(0,o.Z)({isImagePinForUnauthOnTablet:t}),V=C,H=(0,F.jo)({components:e||l?_:[],pinDescription:U}),[K,G]=(0,i.useState)(!1),[W,$]=(0,i.useState)(!1);return(0,m.jsxs)(p.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:[v?(0,m.jsx)(T.ZP,{pinId:c,graphqlRef:s}):(0,m.jsx)(p.X6,{color:"error",size:"400",align:"start",children:R.bt("", "Sold out", "product.price.soldOut", undefined, true)}),B&&(0,m.jsx)(p.xu,{marginTop:2,marginBottom:2,children:(0,m.jsx)(a.Z,{onClick:n,hasLink:M,forceSmallerHeading:!t,textAlign:"start",pinId:c,graphqlRef:s,lineClamp:Z})}),(0,m.jsx)(r.Z,{graphqlRef:s,pinId:c}),(0,m.jsx)(w,{pinId:c,graphqlRef:s}),H.length>0&&(0,m.jsxs)(p.xu,{marginTop:6,width:"100%",children:[(0,m.jsx)(z,{onTap:()=>{G(!0),D({view_type:3,view_parameter:144,component:13597,element:10492,event_type:102,aux_data:{pin_id:c,commerce_data:JSON.stringify({pin_show_pdp:"1",has_description:"1"})}})}}),(0,m.jsx)(h,{onClickDomain:n,isOpen:K,onDismiss:()=>{G(!1)},descriptions:H,userDomainUrl:V,pinId:c})]}),!1]})}function B({pinId:e,graphqlRef:t,...n}){var i,a,o,r,l,s,d,c,u,p,h,_;const g=(0,f.useFragment)(M,t),v=(0,j.Z)(g),y=(0,D.Z)({pin:g}),b=(null==g||null===(i=g.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];if(b.length<1)return null;const x=null==g?void 0:g.richMetadata,P=null==g?void 0:g.richSummary;let S;return null!=x&&null!==(a=x.products)&&void 0!==a&&a[0]&&x.products[0].name&&x.products[0].offerSummary&&(S=x.products[0].offerSummary),!S&&null!=P&&null!==(o=P.products)&&void 0!==o&&o[0]&&P.products[0].name&&P.products[0].offerSummary&&(S=P.products[0].offerSummary),(0,m.jsx)(U,{...n,graphqlRef:g,pinId:e,pinLink:null==g?void 0:g.link,structuredDescriptionComponents:y.components||{},closeupUnifiedDescription:null!==(r=null==g?void 0:g.closeupUnifiedDescription)&&void 0!==r?r:"",offerSummaryInStock:null===(l=S)||void 0===l?void 0:l.inStock,gridTitle:null==g?void 0:g.gridTitle,pinTitle:null==g?void 0:g.title,richSummaryDisplayName:null!==(s=null==g||null===(d=g.richSummary)||void 0===d?void 0:d.displayName)&&void 0!==s?s:"",richMetadataTitle:null!==(c=null==g||null===(u=g.richMetadata)||void 0===u?void 0:u.title)&&void 0!==c?c:"",storyPinDataId:null==g?void 0:g.storyPinDataId,storyPinDataMetadataPinTitle:null==g||null===(p=g.storyPinData)||void 0===p||null===(h=p.metadata)||void 0===h?void 0:h.pinTitle,pinJoinVisualAnnotation:b,pinJoinAnnotationsWithLinks:v,closeupAttributionDomainUrl:null==g||null===(_=g.closeupAttribution)||void 0===_?void 0:_.domainUrl})}function Z({pinId:e,...t}){var n,i,a,o,r,l,s,d,c,u,p,h,_,g;const v=(0,y.S6)()(e),f=null==v?void 0:v.rich_metadata,b=null==v?void 0:v.rich_summary;let x;null!=f&&null!==(n=f.products)&&void 0!==n&&n[0]&&f.products[0].name&&f.products[0].offer_summary&&(x=f.products[0].offer_summary),!x&&null!=b&&null!==(i=b.products)&&void 0!==i&&i[0]&&b.products[0].name&&b.products[0].offer_summary&&(x=b.products[0].offer_summary);const P=(0,F.fv)(v);return(0,m.jsx)(U,{...t,pinId:e,pinLink:null==v?void 0:v.link,structuredDescriptionComponents:P,closeupUnifiedDescription:null!==(a=null==v?void 0:v.closeup_unified_description)&&void 0!==a?a:"",offerSummaryInStock:null===(o=x)||void 0===o?void 0:o.in_stock,gridTitle:null==v?void 0:v.grid_title,pinTitle:null==v?void 0:v.title,richSummaryDisplayName:null!==(r=null==v||null===(l=v.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==r?r:"",richMetadataTitle:null!==(s=null==v||null===(d=v.rich_metadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",storyPinDataId:null==v?void 0:v.story_pin_data_id,storyPinDataMetadataPinTitle:null==v||null===(c=v.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,placeSummaryName:null!==(p=null==v?void 0:v.place_summary)&&void 0!==p?p:"",pinJoinVisualAnnotation:null==v||null===(h=v.pin_join)||void 0===h?void 0:h.visual_annotation,pinJoinAnnotationsWithLinks:null==v||null===(_=v.pin_join)||void 0===_?void 0:_.annotations_with_links,closeupAttributionDomainUrl:null==v||null===(g=v.closeup_attribution)||void 0===g?void 0:g.domain_url})}function V({graphqlRef:e,...t}){return e?(0,m.jsx)(B,{...t,graphqlRef:e}):(0,m.jsx)(Z,{...t})}},63536:(e,t,n)=>{n.d(t,{ZP:()=>y});var i=n(883119),a=n(350118),o=n(785893);const r=({maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:a,RangedPrice:r,RegularPrice:l,RangedSalePrice:s,SalePrice:d})=>t&&e&&i?(0,o.jsx)(s,{saleMinPrice:t,saleMaxPrice:e,regularPriceRange:i}):t&&e?(0,o.jsx)(r,{maxPrice:e,minPrice:t}):n?i&&n!==i?(0,o.jsx)(d,{regularPrice:i,salePrice:n}):(0,o.jsx)(l,{price:n}):(0,o.jsx)(a,{});var l,s=n(167912);const d=()=>null,c=void 0!==l?l:l=n(375882),u=({price:e,align:t})=>(0,o.jsx)(i.X6,{color:"default",size:"400",align:t,children:e}),p=({minPrice:e,maxPrice:t,align:n})=>(0,o.jsx)(i.X6,{color:"default",size:"400",align:n,children:`${e}-${t}`}),m=({salePrice:e,regularPrice:t,align:n})=>(0,o.jsxs)(i.X6,{size:"400",align:n,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]}),h=({saleMinPrice:e,saleMaxPrice:t,regularPriceRange:n,align:a})=>(0,o.jsxs)(i.X6,{size:"400",align:a,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${t}`})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]});function _({maxPrice:e,minPrice:t,price:n,standardPrice:i,align:a,NoPrice:l,RangedPrice:s,RangedSalePrice:c,RegularPrice:_,SalePrice:g}){return l||(l=e=>(0,o.jsx)(d,{...e,align:a})),s||(s=e=>(0,o.jsx)(p,{...e,align:a})),c||(c=e=>(0,o.jsx)(h,{...e,align:a})),_||(_=e=>(0,o.jsx)(u,{...e,align:a})),g||(g=e=>(0,o.jsx)(m,{...e,align:a})),(0,o.jsx)(r,{maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:l,RegularPrice:_,RangedPrice:s,RangedSalePrice:c,SalePrice:g})}function g(e){var t,n,i,a,r,l;const d=(0,s.useFragment)(c,e.graphqlRef),u=null==d?void 0:d.richMetadata,p=null==d?void 0:d.richSummary;let m;return null!=u&&null!==(t=u.products)&&void 0!==t&&t[0]&&u.products[0].name&&u.products[0].offerSummary&&(m=u.products[0].offerSummary),!m&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offerSummary&&(m=p.products[0].offerSummary),(0,o.jsx)(_,{maxPrice:null===(i=m)||void 0===i?void 0:i.maxPrice,minPrice:null===(a=m)||void 0===a?void 0:a.minPrice,price:null===(r=m)||void 0===r?void 0:r.price,standardPrice:null===(l=m)||void 0===l?void 0:l.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function v(e){var t,n,i,r,l,s;const d=(0,a.S6)()(e.pinId||""),c=null==d?void 0:d.rich_metadata,u=null==d?void 0:d.rich_summary;let p;return null!=c&&null!==(t=c.products)&&void 0!==t&&t[0]&&c.products[0].name&&c.products[0].offer_summary&&(p=c.products[0].offer_summary),!p&&null!=u&&null!==(n=u.products)&&void 0!==n&&n[0]&&u.products[0].name&&u.products[0].offer_summary&&(p=u.products[0].offer_summary),(0,o.jsx)(_,{maxPrice:null===(i=p)||void 0===i?void 0:i.max_price,minPrice:null===(r=p)||void 0===r?void 0:r.min_price,price:null===(l=p)||void 0===l?void 0:l.price,standardPrice:null===(s=p)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function y(e){return e.graphqlRef?(0,o.jsx)(g,{...e}):(0,o.jsx)(v,{...e})}},215317:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),a=n(834911),o=n(737022),r=n(341732),l=n(50286),s=n(744856),d=n(867820),c=n(773285),u=n(780280),p=n(883119),m=n(276775),h=n(785893);function _({alt:e,dominantColor:t,height:n,onLoad:i,src:a,width:o,unauthLazyLoad:r,index:_,setMwebTapToZoomExpEnabled:g,isEligibleForTapToZoom:v}){const y=(0,m.useHistory)(),f=(0,m.useRouteMatch)(),{isAuthenticated:b}=(0,u.B)(),x=(0,l.ZP)(),{checkExperiment:P}=(0,c.F)();return(0,h.jsxs)(p.iP,{tapStyle:"compress",onTap:()=>{if(!b&&((0,d.My)("unauth.pdp.carousel.click",{device:x,index:_}),v&&g)){const e=P("unauth_mweb_tap_to_zoom").anyEnabled;if(!e)return;(0,d.My)("unauth.mweb.pdp.tap_to_zoom.carousel.click"),g(e)}y&&f&&f.params&&f.params.id&&y.push(`/pin/${f.params.id}#${s.v}`,{imageData:{src:a,height:n,width:o}})},children:[(0,h.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},position:"absolute",width:"100%",height:"100%",zIndex:new p.Ry(1),top:!0}),(0,h.jsx)(p.Ee,{alt:e,color:t,loading:r?"lazy":"auto",naturalHeight:n,naturalWidth:o,onLoad:i,src:a})]})}var g,v=n(167912);const y=void 0!==g?g:g=n(789849),f=e=>{const t=(0,v.useFragment)(y,e);return(0,i.useMemo)((()=>t?(t.carouselSlots||[]).map((e=>{var t,n,i,a,o,r,l,s,d,c,u,p,m;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:void 0,images:{"564x":{height:(null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,url:(null===(i=e.imageSpec_564x)||void 0===i?void 0:i.url)||void 0,width:(null===(a=e.imageSpec_564x)||void 0===a?void 0:a.width)||void 0},"236x":{height:(null===(o=e.imageSpec_236x)||void 0===o?void 0:o.height)||void 0,url:(null===(r=e.imageSpec_236x)||void 0===r?void 0:r.url)||void 0,width:(null===(l=e.imageSpec_236x)||void 0===l?void 0:l.width)||void 0},"474x":{height:(null===(s=e.imageSpec_474x)||void 0===s?void 0:s.height)||void 0,url:(null===(d=e.imageSpec_474x)||void 0===d?void 0:d.url)||void 0,width:(null===(c=e.imageSpec_474x)||void 0===c?void 0:c.width)||void 0},"736x":{height:(null===(u=e.imageSpec_736x)||void 0===u?void 0:u.height)||void 0,url:(null===(p=e.imageSpec_736x)||void 0===p?void 0:p.url)||void 0,width:(null===(m=e.imageSpec_736x)||void 0===m?void 0:m.width)||void 0}}}})):[]),[t])};var b,x=n(829407),P=n(898781),S=n(112690),w=n(759177);const T=void 0!==b?b:b=n(753140),k=(e,t,n)=>{(e||[]).forEach((e=>{const{canonicalImage:i,imageSignature:a}=e,{height:o,url:r,width:l}=null!=i?i:Object.freeze({});if(!a)return;const s=n[a]||{image_signature:a,canonical_images:{}};s.canonical_images&&(s.canonical_images[t]={height:null!=o?o:void 0,url:null!=r?r:void 0,width:null!=l?l:void 0}),n[a]=s}))},E=e=>{const t=(0,v.useFragment)(T,e);return(0,i.useMemo)((()=>{if(!t)return null;const e={};return k(t.imageSpec_236x,"236x",e),k(t.imageSpec_474x,"474x",e),k(t.imageSpec_564x,"564x",e),k(t.imageSpec_736x,"736x",e),Object.keys(e).reduce(((t,n)=>(t.push(e[n]),t)),[])}),[t])};var I,A=n(444445),C=n(350118);const R=void 0!==I?I:I=n(800881);function j({carouselSlots:e,pinId:t,pwtSurfaceContext:n,viewParameter:a,unauthLazyLoad:r,setMwebTapToZoomExpEnabled:l,isEligibleForTapToZoom:s}){const d=(0,m.useHistory)(),c=(0,m.useRouteMatch)(),u=(0,P.ZP)(),g=(0,S.Z)(),[v,y]=(0,i.useState)(0),f=(0,i.useRef)(null),b=(0,i.useRef)([]),w=(0,i.useCallback)((()=>{n&&n.markConstraintComplete("PinPageMainImageRendered")}),[n]),T=u.bt(" ", "Pin image", "Pin closeup image", undefined, true),k=e.filter((e=>{const t=(0,o.Z)(e.images);return t&&t.url})),E=k.length,{image_signature:I}=k[v]||{},C=()=>{if(!f.current)return;const{left:e,width:t}=f.current.getBoundingClientRect(),n=e+t/2;for(let a=0;a<E;a++){var i;const{x:e}=b.current[a].current.getBoundingClientRect(),{x:t=1/0}=(null===(i=b.current[a+1])||void 0===i?void 0:i.current.getBoundingClientRect())||{};if(e<=n&&t>n){y(a);break}}};return(0,x.Z)((()=>{b.current=Array(E).fill().map(((e,t)=>b.current[t]||(0,i.createRef)()));const e=f.current;return e&&e.addEventListener("scroll",C),()=>{null==e||e.removeEventListener("scroll",C)}})),(0,i.useEffect)((()=>{I&&g({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:I}})}),[g,I]),(0,h.jsxs)(p.xu,{position:"relative",marginStart:-A.D6,marginEnd:-A.D6,children:[(0,h.jsx)(p.xu,{minHeight:"30vh",maxHeight:"60vh",overflow:"scrollX",display:"flex",ref:f,children:k.map(((e,n)=>{const i=0===n,a=n===E-1,{url:d="",height:c=1,width:u=1}=(0,o.Z)(e.images)||{};return(0,h.jsx)(p.xu,{width:"80%",flex:"none",marginEnd:a?0:2,display:"flex",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},ref:b.current[n],children:(0,h.jsx)(_,{alt:T,src:d,height:c,width:u,dominantColor:"#ffffff00",onLoad:w,unauthLazyLoad:r&&!i,index:n,setMwebTapToZoomExpEnabled:l,isEligibleForTapToZoom:s})},`${t}_${n}`)}))}),(0,h.jsx)(p.xu,{margin:4,position:"absolute",bottom:!0,right:!0,zIndex:new p.Ry(2),children:(0,h.jsx)(p.iP,{onTap:()=>{const{image_signature:e}=k[v]||{},n=c.params.id||t;g({component:128,element:234,event_type:102,view_parameter:a,view_type:3}),e?d.push(`/pin/${n}/visual-search/?image_signature=${e}`):d.push(`/pin/${n}/visual-search/`)},children:(0,h.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",justifyContent:"center",rounding:"pill",padding:3,children:(0,h.jsx)(p.JO,{accessibilityLabel:u.bt(" ", "Visual search", "Button to search for visually similar Pins", undefined, true),color:"default",icon:"flashlight",size:24})})})})]})}function D({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:o,isEligibleForTapToZoom:l}){var s,d,c;const u=(0,v.useFragment)(R,e),p=((null===(s=u.richMetadata)||void 0===s?void 0:s.products)||(null===(d=u.richSummary)||void 0===d?void 0:d.products)||[])[0],m=(0,w.Z)(u),_=E(p);let g=null!==(c=f(u.carouselData))&&void 0!==c?c:[];if(p&&_&&_.length>0){var y;g=null!==(y=(0,r.Z)(m,_).carousel_slots)&&void 0!==y?y:[]}return(0,h.jsx)(j,{carouselSlots:g,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:o,isEligibleForTapToZoom:l})}function O({pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i,setMwebTapToZoomExpEnabled:o,isEligibleForTapToZoom:r}){const l=(0,C.S6)()(e),{carousel_slots:s=[]}=(0,a.Z)({carouselData:null==l?void 0:l.carousel_data,images:null==l?void 0:l.images,richMetadata:null==l?void 0:l.rich_metadata,richSummary:null==l?void 0:l.rich_summary})||{};return(0,h.jsx)(j,{carouselSlots:s,pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i,setMwebTapToZoomExpEnabled:o,isEligibleForTapToZoom:r})}function L({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a,isEligibleForTapToZoom:o,setMwebTapToZoomExpEnabled:r}){return e?(0,h.jsx)(D,{graphqlRef:e,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a}):(0,h.jsx)(O,{pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:r,isEligibleForTapToZoom:o})}},225313:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),a=n(702664),o=n(90771),r=n(31149),l=n(659522),s=n(214680),d=n(331744),c=n(172071),u=n(757146),p=n(785893);function m({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var h=n(862960),_=n(941646),g=n(499128),v=n(464240),y=n(287072),f=n(89396),b=n(22641),x=n(467570),P=n(867820),S=n(773285),w=n(50286),T=n(167912),k=n(780280),E=n(898781),I=n(112690),A=n(52022),C=n(86802),R=n(642832),j=n(883119),D=n(844974),O=n(644035),L=n(343341);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=56,M=String(86),z=({text:e})=>(0,p.jsx)(j.xv,{align:"center",size:"100",children:e});class U extends i.PureComponent{constructor(...e){super(...e),N(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),N(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,R.sF)(n,t,e,this.showCopyToast)})),N(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(g.ZP,{text:this.props.i18n.bt("   ", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),N(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,R.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),N(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,D.qn)(C.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),N(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||C.F6.has(e)||(0,D.Nh)(C.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),N(this,"handleMessagingAppClick",(e=>{var t,n,i,a;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),C.rO.has(e)||(0,D.Nh)(C.Cq,e),this.setNewAppOrder(e)})),N(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),N(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),N(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),N(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),N(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),N(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),N(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),N(this,"handleFacebookClick",(e=>{var t,n,i,a;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),(0,P.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);const{inviteCode:r,invitePath:l,fbLoaded:s}=this.state;(0,R.Rh)(s,l,r||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),N(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),N(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,viewType:l,viewParameter:s}=this.props;(0,R.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,view_type:l,view_parameter:s})})),N(this,"copyButtonRef",null),N(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:a,WhatsApp:o,Twitter:r,Viber:l,Telegram:s,CopyLink:d,Sms:c,ShareVia:u})=>{const m=this.getAppOrder(),h=new Map([[6,n],[10,o],[5,t],[9,r],[3,e],[8,a],[20,s],[22,l],[4,c],[12,d],[11,u]]);return(0,p.jsx)(i.Fragment,{children:m.map((e=>h.get(e)))})})),N(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,x.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:a,title:o,message:r}=await(0,R.yP)(e,t,n,this.props.relayEnvironment),l={};i&&(l.invitePath=i),a&&(l.inviteCode=a),o&&(l.inviteTitle=o),r&&(l.inviteMessage=r),this.setState(l)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:a,inVerticalContactsShareExp:g}=this.props,{invitePath:y,inviteMessage:x,inviteTitle:P}=this.state,{emailShareLink:S,messengerShareLink:w,twitterShareLink:T,whatsappShareLink:k,lineShareLink:E,telegramShareLink:I,viberShareLink:A,smsShareLink:C}=(0,R.tA)({invitePath:y,inviteTitle:P,objectType:t,i18n:this.props.i18n,isDesktop:e}),D=({children:t})=>(0,p.jsx)(j.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),O=({children:e})=>(0,p.jsx)(j.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:F})})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("", "Messenger", "shareMenu.icon.label.messenger", undefined, true)})]}),N=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(b.Z,{size:F})})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "shareMenu.icon.label.whatsapp", undefined, true)})]}),U=(0,p.jsx)(j.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(l.Z,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("Facebook", "Facebook", "shareMenu.icon.label.facebook", undefined, true)})]})}),B=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"twitter-share-icon",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(v.Z,{size:F})})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("Twitter", "Twitter", "shareMenu.icon.label.twitter", undefined, true)})]}),Z=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(d.Z,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt(" ", "Line", "shareMenu.icon.label.line", undefined, true)})]}),V=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(f.Z,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("Viber", "Viber", "shareMenu.icon.label.viber", undefined, true)})]}),H=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(h.Z,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("Telegram", "Telegram", "shareMenu.icon.label.telegram", undefined, true)})]}),K=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"email-share-button",children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(r.Z,{size:F})})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("", "Email", "shareMenu.icon.label.email", undefined, true)})]}),G=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const a=x.indexOf("https://");navigator.share&&navigator.share({url:y,text:a>0?x.slice(0,a):x,title:P}).then((()=>{this.handleMessagingAppClick(11),c.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{c.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(j.xu,{height:F,children:(0,p.jsx)(j.hU,{accessibilityLabel:this.props.i18n.bt("   ", "Native share sheet icon", "shareMenu.icon.accessibilityLabel.native_share_sheet", undefined, true),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(z,{text:this.props.i18n.bt(" ", "Share via", "shareMenu.icon.label.share_via", undefined, true)})]}),W=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,p.jsx)(s.Z,{size:F}):(0,p.jsx)(o.Z,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("", "Message", "shareMenu.icon.label.message", undefined, true)})]}),$=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:F,children:(0,p.jsx)(j.hU,{accessibilityLabel:this.props.i18n.bt(" ", "Link icon", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(z,{text:this.props.i18n.bt(" ", "Copy link", "shareMenu.icon.label.copy", undefined, true)})]});return(0,p.jsxs)(j.xu,{children:[!g&&(0,p.jsx)(j.xu,{height:4}),(0,p.jsx)(j.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(j.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,marginTop:g?-2:void 0,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(j.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(m,{size:F})})}),(0,p.jsx)(z,{text:this.props.i18n.bt("", "Save", "shareMenu.icon.label.save", undefined, true)})]}))(),this.renderAppsInCustomOrder({Email:K,Facebook:U,FBMessenger:L,Line:Z,WhatsApp:N,Twitter:B,Viber:V,Telegram:H,CopyLink:$,Sms:W,ShareVia:G})]})}),(0,p.jsx)(j.xu,{height:16})]})}}function B(e){const t=(0,E.ZP)(),n=(0,w.HG)(),{showToast:i}=(0,L.F9)(),{country:o,locale:r}=(0,k.B)(),l=(0,y.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:s}=(0,S.F)(),d=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),c=d===O.RL||d===O.s4,u=s("graphql_migration_sharesheet_sgrowth_web").anyEnabled,m=(0,T.useRelayEnvironment)(),h=(0,I.Z)(),_=(0,A.Z)();return(0,p.jsx)(U,{...e,country:o,i18n:t,isDesktop:n,locale:r,showToast:i,onNavigation:l,logContextEvent:h,isAppleDevice:c,relayEnvironment:u?m:void 0,trackInteraction:_})}},642832:(e,t,n)=>{n.d(t,{Iz:()=>g,Rh:()=>p,pW:()=>c,rL:()=>_,sF:()=>m,tA:()=>u,yP:()=>h});var i,a,o=n(214494),r=n(467570),l=n(867060),s=n(167912);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:a,Facebook:o,Twitter:r,Email:l,Line:s,Telegram:c,Viber:u,Sms:p,CopyLink:m,ShareVia:h}=d;function _(){switch(e){case"US":return t?[a,o,r,l]:[p,i,a,o,r];case"ID":return t?[a,s,l,o]:[a,c,p,s,l,o];case"JP":case"TH":case"TW":return t?[s,r,l,o]:[s,l,p,r,o];case"GR":return t?[a,o,r,l]:[u,i,a,p,o,r];case"IR":case"IQ":return t?[a,o,r,l]:[a,c,p,i,r];case"UA":case"RU":return t?[a,o,r,l]:[a,u,c,o,i,p,r];default:return t?[a,o,r,l]:[a,i,p,o,r]}}return t?[m,..._()]:[..._(),m,...n?[h]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:a}){let o=i.bt("  ", "A Pin for you", "shareMenu.message.title", undefined, true);8===n&&(o=i.bt("Pinterest   !", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));const l=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,d=`${t}\n${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,m=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:l,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:m,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function m(e,t,n,i){if(!n||!t)return;const a=new t(n,{text:()=>e});a.on("success",(e=>{i&&i(e)})),a.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function h(e,t,a,r){if(r)return((e,t,a,o,r)=>{const l=void 0!==i?i:i=n(865107),d={invite_category:t,invite_object:a,invite_channel:o};return(0,s.fetchQuery)(e,l,{inviteType:JSON.stringify(d),objectId:r}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,a;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(r,3,a,e.toString(),t);{const n=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:r,invite_code:l,title:s,message:d}=i.resource_response.data;return{inviteCode:l,invitePath:r,title:s,message:d}}}const _=(e,t,i,o,r,l)=>{const d=void 0!==a?a:a=n(361600),c={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:o}),inviteCode:r,objectId:l};(0,s.commitMutation)(e,{mutation:d,variables:{...c}})};async function g({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:r,logContextEvent:s,view_parameter:d,view_type:c}){let u,p;s({aux_data:{invite_object:i},object_id_str:n,component:a,clientTrackingParams:r,element:l.cc[e],event_type:102,view_type:c,view_parameter:d}),u=2===i?l.LO:3===i?l.Pu:l.dB,p=14122===a?14312:14123===a?14310:14309,s({event_type:10399,component:p,object_id_str:n,view_type:c,view_parameter:d,aux_data:{invite_object:i},element:u[e]}),o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:r}).callCreate()}},24987:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),a=n(90771),o=n(659522),r=n(214680),l=n(331744),s=n(757146),d=n(862960),c=n(464240),u=n(89396),p=n(22641),m=n(844974),h=n(86802),_=n(785893);var g=n(391254),v=n(95551),y=n(941646),f=n(829407),b=n(898781),x=n(112690),P=n(52022),S=n(100183),w=n(773285),T=n(50286),k=n(780280),E=n(82058),I=n(883119),A=n(644035);const C=e=>({animation:`ANIMATE_SHARE_${e} ${h.zn}ms ease-in-out`,WebkitAnimation:`ANIMATE_SHARE_${e} ${h.zn}ms ease-in-out`}),R=({children:e,handleShareTap:t,upsellIcon:n})=>{const i=(0,b.ZP)();return n?((0,m.Nh)(h.RV,Date.now()),(0,_.jsxs)(I.xu,{children:[(0,_.jsx)(g.Z,{unsafeCSS:(0,S.Ll)(["ANIMATE_SHARE_default {\n      from: {\n        opacity: 1;\n        visibility:visible;\n      }\n      7% {\n        fill: #ffffff;\n        opacity: 0;\n        visibility:hidden;\n      }\n      89% {\n        fill: #ffffff;\n        opacity: 0;\n        visibility:hidden;\n      }\n      93% {\n        opacity: 0.5;\n        visibility:visible;\n      }\n      to {\n        fill: #111111;\n        opacity: 1;\n        visibility:visible;\n      }\n    }","ANIMATE_SHARE_upsellApp {\n      from {\n        opacity: 0;\n        fill: #ffffff;\n      }\n      7% {\n        fill: #ffffff;\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      11% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      89% {\n        fill: #ffffff;\n        transform: scale(1);\n        opacity: 1;\n      }\n      93% {\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      to {\n        fill: #ffffff;\n        opacity: 0;\n      }\n    }"])}),(0,_.jsxs)(I.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:48,height:48,borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...C("container")}},children:[(0,_.jsx)(I.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:C("upsellApp")},children:(0,_.jsx)(I.iP,{accessibilityLabel:i.bt("", "Send", "Board.Pin.SendButton", undefined, true),onTap:({event:e})=>t(e),children:n})}),(0,_.jsx)(I.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:C("default")},children:e})]})]})):e},j=({onDefaultSendButtonClick:e,sendButtonColor:t,viewParameter:n})=>{const g=(0,T.HG)(),b=(0,x.Z)(),S=(0,P.Z)(),{country:I,userAgent:{platform:C}}=(0,k.B)(),j=C===A.RL||C===A.s4,[D,O]=(0,i.useState)(),L=(0,E._l)(),{hasSeenAuthMobileLandingToast:N}=(0,E.w2)()||{},{checkExperiment:F}=(0,w.F)(),M=L&&!N&&F("mweb_social_pin_landing_toast").anyEnabled,z=()=>{S({action:"click",item:"share-button"}),b({component:194,element:46,event_type:102,view_type:3,view_parameter:n})};return(0,f.Z)((()=>{if(!g){const e=function({country:e,isAppleDevice:t}){const n=(0,m.qn)(h.RV);if(!(n&&Date.now()-Number(n)<h.bm))switch(Number((0,m.qn)(h.Cq))||h.iS.get(e)||10){case 5:return(0,_.jsx)(o.Z,{size:h.VZ});case 6:return(0,_.jsx)(s.Z,{size:h.VZ});case 8:return(0,_.jsx)(l.Z,{size:h.VZ});case 4:return t?(0,_.jsx)(r.Z,{size:h.VZ}):(0,_.jsx)(a.Z,{size:h.VZ});case 20:return(0,_.jsx)(d.Z,{size:h.VZ});case 9:return(0,_.jsx)(c.Z,{size:h.VZ});case 22:return(0,_.jsx)(u.Z,{size:h.VZ});case 10:return(0,_.jsx)(p.Z,{size:h.VZ})}return null}({country:I,isAppleDevice:j});e&&setTimeout((()=>{O(e)}),h.W_)}})),M?(0,_.jsx)(y.Z,{id:"share-button-no-animation",children:(0,_.jsx)(v.Z,{onSendButtonClick:e,trackShareTap:z,color:t})}):(0,_.jsx)(R,{handleShareTap:t=>{z(),e(t)},upsellIcon:D,children:(0,_.jsx)(y.Z,{id:"share-button-no-animation",children:(0,_.jsx)(v.Z,{onSendButtonClick:e,trackShareTap:z,color:t})})})}},246340:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(225313),o=n(158989),r=n(829407),l=n(112690),s=n(749049),d=n(883119),c=n(785893);const u=new d.H3([o.Z]);function p({anchor:e,onDismiss:t,objectId:n,objectType:o,title:p,component:m,viewType:h,viewParameter:_}){const g=(0,l.Z)(),[v,y]=(0,i.useState)(!1);return(0,r.Z)((()=>{g({event_type:10400,view_type:h,component:m,view_parameter:_,element:(0,s.O)(o),aux_data:{invite_object:o}})})),(0,c.jsx)(d.mh,{zIndex:u,children:(0,c.jsx)(d.J2,{anchor:e,onDismiss:()=>{v||g({component:14309,event_type:10403,element:13478,view_type:h,view_parameter:_,aux_data:{invite_object:o}}),t()},size:"xl",positionRelativeToAnchor:!1,children:(0,c.jsxs)(d.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,c.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(d.xv,{size:"300",weight:"bold",children:p})}),(0,c.jsx)(d.kC,{width:360,children:(0,c.jsx)(a.Z,{objectId:n,objectType:o,onDismiss:t,setShareSent:e=>y(e)})})]})})})}},590674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(667294),a=n(225313),o=n(702664),r=n(766935),l=n(72566),s=n(936776),d=n(172071),c=n(214494),u=n(700380),p=n(784590),m=n(19121),h=n(53987),_=n(773285),g=n(385740),v=n(698330),y=n(878499),f=n(116303),b=n(499128),x=n(407043),P=n(898781),S=n(927383),w=n(349700),T=n(313951),k=n(883119),E=n(276775),I=n(343341),A=n(785893);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.PureComponent{constructor(...e){var t;super(...e),t=this,C(this,"state",{viewConversation:!1,isSent:!1,path:""}),C(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,A.jsxs)(k.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,A.jsx)(k.zx,{fullWidth:!0,size:"sm",text:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true),color:"white",onClick:()=>{this.onViewConversation()}}),(0,A.jsx)(k.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n.bt(" ", "View chat", "View current chat", undefined, true)})]}):(0,A.jsxs)(k.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,A.jsx)(k.xu,{marginEnd:2,children:(0,A.jsx)(k.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n.bt("", "sent", "content is sent", undefined, true)})}),(0,A.jsx)(k.xu,{marginEnd:2,children:(0,A.jsx)(k.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n.bt("", "Sent", "mweb.sharemenu.contactItem.isSent", undefined, true)})})]})})),C(this,"onViewConversation",(()=>{const{path:e}=this.state,{sendObject:t}=this.props;let n;d.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e),n=3===t.objectType?13532:2===t.objectType?13529:13526,this.props.logContextEvent({view_type:this.props.viewType,event_type:10399,component:14309,element:n})})),C(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:n,i18n:i,isFullHeight:a,onDismiss:o,setShareSent:r,recipient:l,sendObject:s,showToast:c,email:u,updateCachedContactsAfterSend:p,userId:m,logContextOnSend:h}=t.props,_=e[s.objectType];null==h||h(),t.setState({isSent:!0});try{const e=await n({user_ids:l?[l.id,m]:void 0,[_]:s.objectId,emails:u?[u]:void 0});if(e){const n=e.id;t.setState({path:`/conversation/${n}`,viewConversation:!0}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),r(!0),null==p||p(),!a&&o&&(c((({hideToast:e})=>(0,A.jsx)(b.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:i.bt(" ", "View the conversation", "ContactItem.ConfirmationToast.a11yButtonText", undefined, true),label:i.bt("", "View", "ContactItem.ConfirmationToast.buttonText", undefined, true),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,w.Wc)(i.bt("{{recipientName}} !", "Sent to {{recipientName}}!", "ContactItem.ConfirmationToast.text", undefined, true),{recipientName:(null==l?void 0:l.full_name)||""}),iconThumbnail:(0,A.jsx)(f.Z,{size:"fit",src:(null==l?void 0:l.image_large_url)||"",name:(null==l?void 0:l.full_name)||""}),thumbnailShape:"circle"}))),o(n))}}catch(g){c((({hideToast:e})=>(0,A.jsx)(b.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||i.bt("  .", "Failed to create conversation.", "ContactItem.errorToast.text", undefined, true),onHide:e}))),t.setState({isSent:!1}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,t,n,a,o,r;const{isFullHeight:l,recipient:s,email:d,inVerticalContactsShareExp:c}=this.props,{isSent:u}=this.state,p=(0,A.jsx)(k.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n.bt("", "Send", "Send current content", undefined, true),onClick:()=>{this.onInlineSend()}});return!l&&s?(0,A.jsx)(i.Fragment,{children:c?(0,A.jsxs)(k.xu,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[(0,A.jsx)(k.kC,{height:48,width:48,flex:"none",children:(0,A.jsx)(f.Z,{size:"md",src:null!==(e=s.image_large_url)&&void 0!==e?e:"",name:null!==(t=s.full_name)&&void 0!==t?t:""})}),(0,A.jsx)(k.xu,{paddingX:2,marginStart:2,display:"flex",flex:"grow",children:(0,A.jsx)(k.xv,{lineClamp:1,children:s.full_name})}),(0,A.jsx)(k.xu,{"data-test-id":"sharesheet-send-button",children:p})]}):(0,A.jsxs)(k.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,A.jsx)(k.iP,{onTap:()=>this.onInlineSend(),children:(0,A.jsx)(k.xu,{height:56,marginBottom:1,width:56,children:(0,A.jsx)(f.Z,{size:"fit",src:null!==(n=s.image_large_url)&&void 0!==n?n:"",name:null!==(a=s.full_name)&&void 0!==a?a:""})})}),(0,A.jsx)(k.xu,{width:56,children:(0,A.jsx)(k.xv,{lineClamp:1,size:"100",align:"center",children:s.full_name})})]})}):(0,A.jsxs)(k.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[s?(0,A.jsx)(k.xu,{children:(0,A.jsx)(f.Z,{size:"md",src:null!==(o=s.image_large_url)&&void 0!==o?o:"",name:null!==(r=s.full_name)&&void 0!==r?r:""})}):d&&(0,A.jsx)(k.xu,{children:(0,A.jsx)(f.Z,{size:"md",name:d})}),(0,A.jsx)(k.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,A.jsx)(k.xv,{lineClamp:1,weight:"bold",children:s?s.full_name:d&&u?d:(0,w.nk)(this.props.i18n.bt("{{email}} ", "invite {{email}}", "mweb.newMessage.searchEmail", undefined, true),{email:d})})}),(0,A.jsx)(k.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:u?this.renderViewConversationButton():p})]})}}function j(e){const t=(0,E.useHistory)(),n=(0,P.ZP)(),i=(0,S.Z)(),{showToast:a}=(0,I.F9)(),o=(0,T.aX)(),{logContextEvent:r}=(0,x.v)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,A.jsx)(R,{...e,createConversation:o,history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:a,logContextEvent:r})}var D=n(112690),O=n(248327);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class F extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,a=this.getContactSuggestions();if(!n&&i){const e=a.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),L(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),L(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),L(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:a}=this.state;if(!i)return a.filter((e=>e.id&&n[e.id]))||[];const o=`term="${i}",user="${t}"`,r=`term="${i.slice(0,-1)}",user="${t}"`;return e[o]||e[r]||[]})),L(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,logContextEvent:a,onDismiss:o,sendObject:r,setShareSent:l,userId:d,updateCachedContactsAfterSend:c,viewType:u,viewParameter:p,inVerticalContactsShareExp:m,location:_}=this.props,{loadingDefaultSuggestions:g,value:v}=this.state,y=this.getContactSuggestions(),f=t||g,b=m?48:56,x=()=>{let t;a({event_type:102,view_type:70,view_parameter:256,component:14315,element:13498}),t=3===r.objectType?13531:2===r.objectType?13528:13525,a({view_type:(0,h.b0)(_)?42:u,view_parameter:(0,h.b0)(_)?203:p,event_type:10399,component:14309,element:t}),e()},P=e=>{const t=v&&v.trim(),{selected_contact_index:n,selected_contact_reason:o}=e||{},l=()=>t?(0,s.Z)(t)?{is_selected_contact_email:"true"}:{search_query_length:JSON.stringify(t.length),selected_contact_index:n,selected_contact_reason:o}:{selected_contact_index:n,selected_contact_reason:o};let d;a({event_type:102,view_type:70,view_parameter:i?3827:256,component:t?14314:14315,element:10837,aux_data:l()}),d=3===r.objectType?13530:2===r.objectType?13527:13524,a({event_type:10399,view_type:(0,h.b0)(_)?42:u,view_parameter:(0,h.b0)(_)?203:p,component:14309,element:d,aux_data:l()})};let S;return S=!i&&f?107:"100%",f?(0,A.jsx)(k.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:S,paddingY:2,children:(0,A.jsx)(k.$j,{show:!0,accessibilityLabel:n.bt("  ", "Searching for contacts", "Placeholder text for spinner on share menu", undefined, true)})}):0===y.length&&!(0,s.Z)(v)&&v&&i?(0,A.jsx)(k.xu,{marginTop:3,children:(0,A.jsx)(k.xv,{align:"center",children:n.bt(".    .", "Sorry, we can't find anyone by that name.", "Text to show empty state when a contact can not be found", undefined, true)})}):(0,A.jsx)(k.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,A.jsxs)(k.xu,{display:i?void 0:"flex",direction:!i&&m?"column":void 0,height:S,overflow:i||m?void 0:"scrollX",paddingX:i?4:1,width:"100%",children:[0===y.length&&(0,s.Z)(v)&&(0,A.jsx)(j,{email:v,isFullHeight:i,sendObject:r,setShareSent:l,userId:d,logContextOnSend:P,viewType:u}),!i&&(0,A.jsxs)(k.xu,{alignItems:"center",display:"flex",direction:m?"row":"column",paddingX:3,paddingY:m?2:4,children:[(0,A.jsx)(k.xu,{marginEnd:m?1:void 0,marginBottom:m?void 0:1,"data-test-id":"sharesheet-search-icon",width:b,height:b,children:(0,A.jsx)(k.hU,{accessibilityLabel:n.bt(" ", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:x,size:m?"lg":"xl"})}),(0,A.jsx)(k.xu,{paddingX:m?1:void 0,marginStart:m?2:void 0,display:"flex",flex:"grow",children:(0,A.jsx)(k.iP,{onTap:m?x:void 0,children:(0,A.jsx)(k.xv,{lineClamp:1,size:m?void 0:"100",children:m?n.bt(" ", "Search contacts", "ContactsSuggestions.SearchOption.text", undefined, true):n.bt("", "Search", "ContactsSuggestions.SearchOption.text", undefined, true)})})})]}),y.map(((e,t)=>(0,A.jsx)(j,{isFullHeight:i,onDismiss:o,recipient:e,sendObject:r,setShareSent:l,userId:d,updateCachedContactsAfterSend:c,logContextOnSend:()=>{P({selected_contact_index:JSON.stringify(t),selected_contact_reason:JSON.stringify(e.debug_reason.reason)})},viewType:u,inVerticalContactsShareExp:m},e.id)))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,a=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,A.jsx)(i.Fragment,{children:t?(0,A.jsxs)(k.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,A.jsx)(k.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?N:null},children:(0,A.jsx)(l.Z,{accessibilityLabel:this.props.i18n.bt(" ", "search contact", "Accessibility label for searchbar on share menu", undefined, true),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n.bt("   ", "Search by name or email", "Placeholder text for searchbar on share menu", undefined, true),value:this.state.value,autoFocus:t})}),(0,A.jsx)(k.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:a,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,A.jsx)(k.xu,{children:this.renderContactSuggestions()})})}}function M(e){const t=(0,P.ZP)(),n=(0,v.kW)(),i=(0,D.Z)(),{id:a}=(0,m.Z)(),l=(0,o.useDispatch)(),{viewType:s}=(0,g.SU)(),u=(0,E.useLocation)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:a}});const h=(0,o.useSelector)((({resources:e})=>{const{ShareSuggestionsTypeaheadResource:t}=e,n={};for(const i of Object.keys(t||{})){const e=t[i].data;e&&e.items&&(n[i]=e.items)}return n})),f=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),b=Object.keys(f||{}).some((e=>f[e].fetching)),{cachedShareSuggestions:x,clearCachedShareSuggestions:S,updateCachedShareSuggestions:w}=(0,y.$)(),T=async()=>{let e;const t=c.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){d.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:k}=(0,_.F)(),I=k("mweb_cache_contacts_share").anyEnabled;return(0,A.jsx)(F,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,r.Z)(l((0,O.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:b,userId:a||"",typeaheadSuggestions:h,inContactsCacheExp:I,cachedShareSuggestions:x,getFreshContactSuggestions:T,updateCachedContactsAfterSend:async()=>{if(I){S();const e=await T();e&&w(e)}},updateCachedShareSuggestions:w,viewType:s,location:u})}var z=n(79113),U=n(121151),B=n(52022),Z=n(749049),V=n(867820),H=n(50286);const K=14121,G=({heading:e,onDismiss:t})=>{const n=(0,P.ZP)();return(0,A.jsxs)(k.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,A.jsx)(k.xu,{display:"flex",alignItems:"center",padding:1,children:(0,A.jsx)(k.hU,{accessibilityLabel:n.bt("", "Close", "close share menu", undefined, true),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,A.jsx)(k.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,A.jsx)(k.xv,{align:"center",weight:"bold",children:(0,A.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},W=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:a,shouldRenderFullHeight:o,heading:r})=>{const l=(0,P.ZP)(),s={mobileAccessibilityCloseIconLabel:l.bt("  ", "close send modal", " - ", undefined, true),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!a,isOpen:t,onDismiss:n,type:"share_menu"};return o?(0,A.jsxs)(z.Z,{isOpen:t,accessibilityModalLabel:r,children:[(0,A.jsx)(G,{heading:r,onDismiss:n}),e]}):(0,A.jsx)(U.ZP,{...s,children:(0,A.jsx)(k.xu,{marginTop:a?0:4,paddingX:i,children:e})})},$=({isOpen:e,onDismiss:t,objectType:n,objectId:o,hideContactsSuggestions:r,clientTrackingParams:l,element:s,viewType:c,viewParameter:u,component:p})=>{const m=(0,P.ZP)(),[g,v]=(0,i.useState)(!1),[y,f]=(0,i.useState)(!1),b=(0,E.useLocation)(),{checkExperiment:x}=(0,_.F)(),S=(0,D.Z)(),w=(0,B.Z)(),T=e=>{x("mweb_share_menu_logging").anyEnabled&&S({clientTrackingParams:l,component:K,event_type:y||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}}),y||void 0!==e||S({clientTrackingParams:l,component:14309,event_type:10403,element:13478,view_type:c,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,h.cD)(e)?"profile_page":(0,h.am)(e)?"board_page":(0,h.uM)(e)?"pin_page":"unknown")(b);w({action:"click",item:"close-share-menu"}),t(),(0,V.My)(`mweb_${i}_share_menu.click_invite.close`)},I=x("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&(S({event_type:7120,component:K,object_id_str:o,clientTrackingParams:I?l:null,element:I?s:null,view_type:I?c:70,view_parameter:I?u:256,aux_data:I?{invite_object:n}:void 0}),S({event_type:10400,component:p,object_id_str:o,clientTrackingParams:l,element:(0,Z.O)(n),view_type:c,view_parameter:u,aux_data:{invite_object:n}}))}),[e,x,I]);const C=(0,H.Wb)(),R=!r&&x("mweb_share_sheet_vertical_contacts").anyEnabled,j=m.bt("Pinterest ", "Send on Pinterest", "Heading for share contacts search", undefined, true),O=R?m.bt(" ", "Share to", "ShareMenu.AllShareOptions.HeaderText", undefined, true):m.bt("", "Share", "ShareMenu.AllShareOptions.HeaderText", undefined, true),L=g?j:(0,A.jsx)(k.xu,{marginTop:0,children:(0,A.jsx)(k.xv,{align:"center",weight:"bold",size:"300",children:r||R?O:j})}),N=(0,A.jsx)(M,{sendObject:{objectId:o,objectType:n},expandContactsList:()=>{v(!0),d.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:g,onDismiss:T,setShareSent:e=>f(e),viewType:c,viewParameter:u,inVerticalContactsShareExp:R}),F=(0,A.jsx)(a.Z,{objectId:o,objectType:n,viewType:I?c:70,viewParameter:u,onDismiss:T,setShareSent:e=>f(e),clientTrackingParams:l,component:K,inVerticalContactsShareExp:R});return(0,A.jsx)(W,{isOpen:e,onDismiss:g?()=>{v(!1),d.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>T(),shouldRenderFullHeight:g,shouldRenderCloseIcon:!0,childPaddingX:0,heading:L,children:(0,A.jsx)(k.kC,{justifyContent:"center",children:(0,A.jsx)(k.xu,{width:C?440:"100%",height:"100%",children:g?N:(0,A.jsx)(i.Fragment,{children:r?(0,A.jsx)(k.xu,{marginBottom:8,children:F}):(0,A.jsx)(i.Fragment,{children:R?(0,A.jsxs)(k.xu,{maxHeight:C?552:526,marginTop:C?-6:void 0,overflow:"scrollY",paddingY:C?6:void 0,position:C?"relative":void 0,rounding:C?8:void 0,zIndex:C?new k.Ry(1):void 0,children:[F,(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(k.xu,{paddingX:4,children:[(0,A.jsx)(k.xu,{marginTop:2,marginBottom:4,children:(0,A.jsx)(k.iz,{})}),(0,A.jsx)(k.xu,{paddingY:2,children:(0,A.jsx)(k.xv,{size:"300",weight:"bold",children:j})})]}),N]})]}):(0,A.jsxs)(k.xu,{marginBottom:8,marginTop:-4,children:[(0,A.jsxs)(i.Fragment,{children:[N,(0,A.jsxs)(k.xu,{marginTop:4,paddingX:4,children:[(0,A.jsx)(k.iz,{}),(0,A.jsx)(k.xu,{marginTop:8,children:(0,A.jsx)(k.xv,{align:"center",size:"300",weight:"bold",children:O})})]})]}),F]})})})})})})}},878499:(e,t,n)=>{n.d(t,{$:()=>l,l:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("ShareSuggestions");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>{n(void 0)}),[]),l=(0,i.useCallback)((e=>{n(e)}),[]),s=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:a,updateCachedShareSuggestions:l})),[t,a,l]);return(0,o.jsx)(r,{value:s,children:e})}},86802:(e,t,n)=>{n.d(t,{B:()=>o,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>s,bm:()=>l,iS:()=>p,rO:()=>c,zn:()=>d});const i="animatedShareIconLastViewed",a="lastUsedSocialShare",o="customizedSocialAppOrder",r=44,l=9e5,s=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},749049:(e,t,n)=>{n.d(t,{O:()=>i});const i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},72566:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);class r extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:l,value:s}=this.props;return(0,o.jsx)(a.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:l,ref:this.setSearchRef,size:"lg",value:s})}}},163321:(e,t,n)=>{n.d(t,{Z:()=>_,e:()=>p});var i=n(702664),a=n(240684),o=n(46584),r=n(131108),l=n(599997),s=n(883119),d=n(332611),c=n(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(19596).then(n.bind(n,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),m={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(s.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:l.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function _({buttonAction:e,buttonCustomization:t,buttonText:n,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:_,openNewTab:g,storyType:v,titleText:y,titleTextColor:f,titleTextCustomization:b,videoPin:x,videoPlaceholderImage:P}){var S;const w=(0,i.useDispatch)(),{experience_id:T,placement_id:k}=a||{},E=(0,o.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",w((0,d.UT)(k,T,!1,!0)))}}),I=(0,l.zn)(v),A=I?r.f8:r.hm,C=I?r.sH:r.HI,R=!I,{color:j,fontStyle:D,fontWeight:O,horizontalAlignment:L,fontSize:N}=(0,l.Mf)(b||{},"mweb"),{button_background_color:F,button_text_color:M}=t||{};return(0,c.jsx)(s.xu,{position:"relative",padding:1,marginBottom:2,ref:E,children:(0,c.jsxs)(s.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&w((0,d.CK)(k,T,!1,!0))},target:g?"blank":null,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&x?(0,c.jsx)(h,{titleText:y,videoPin:x,videoPlaceholderImage:P}):_&&(0,c.jsx)(s.Ee,{alt:p||y||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:_,fit:"cover"})}),R&&(0,c.jsx)(s.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:m.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(A,{children:(0,c.jsx)(s.xv,{align:L,color:f,italic:"italics"===D,weight:O,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=j||f)&&void 0!==S?S:void 0,fontSize:N}},children:y})})})]})}),!u&&(0,c.jsx)(C,{children:(0,c.jsx)(s.xu,{display:"flex",rounding:"pill",color:I?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:F}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(s.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:M}},children:n})})})})]})})}},706794:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),o=n(491563),r=n(19121),l=n(773285),s=n(350118),d=n(861411),c=n(883119),u=n(785893);function p({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:p}=(0,r.Z)(),{checkExperiment:m}=(0,l.F)(),h=(0,s.S6)(),{action:_,aux_fields:g,objects:v,story_type:y,title:f}=(0,a.useSelector)((({stories:e})=>e[t])),b=v[0].id,x=v.slice(1,3).map((({id:e})=>h(e)));return!n&&x.length<2?null:m(p?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(d.qS,{auxData:{content_ids:x.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,...g},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,u.jsxs)(c.xu,{ref:e,children:[f&&(0,u.jsx)(c.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(c.xv,{align:"center",children:f.format})}),(0,u.jsx)(o.Z,{action:_,auxData:g,isPinnerAuthorityHero:n,userId:b,userPins:n?void 0:x,userSearchRepStyle:n,viewParameter:43,viewType:2})]})}):(0,u.jsx)(d.Hs,{auxData:{content_ids:x.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,...g},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,u.jsxs)(i.Fragment,{children:[f&&(0,u.jsx)(c.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(c.xv,{align:"center",children:f.format})}),(0,u.jsx)(o.Z,{action:_,auxData:g,isPinnerAuthorityHero:n,userId:b,userPins:n?void 0:x,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}},687866:(e,t,n)=>{n.d(t,{UG:()=>u,ZP:()=>m,aG:()=>p});var i=n(667294),a=n(116303),o=n(898781),r=n(52022),l=n(57791),s=n(940882),d=n(883119),c=n(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:m,curator:h,font:_,format:g,height:v,identifierIconType:y,onTap:f,pwtSurfaceContext:b,referringSource:x,subtitle:P,title:S,buttonFormat:w,contentAlign:T="center",textAlign:k="center",width:E="100%"}){const I=(0,o.ZP)(),A=(0,r.Z)(),[C,R]=(0,i.useState)("string"==typeof v?void 0:v),j=e=>{if(e){const t=e.offsetWidth,n="string"==typeof v?Number.parseFloat(v):100;R(t*n/100)}};if(!C)return(0,c.jsx)(d.xu,{ref:j,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof v?Number.parseFloat(v)+"%":"100%",width:E}}});const D=g===u.article,O=g===u.interest,L=_||C>250&&"lg"||C>140&&g&&[u.medium,u.small,u.article].includes(g)&&"md"||C<120&&g&&g===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":x,children:(0,c.jsx)(l.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{f&&(A({action:"click",item:"search-suggestion"}),f(t))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:E,height:C,children:m&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{b&&b.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:C,width:E,position:"absolute",top:!0,left:!0}),h&&!D&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),!!y&&y!==s.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,s.Z)(y),accessibilityLabel:I.bt(" ", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:E,height:C,padding:D||O?6:C>100?3:1,alignItems:D||O?"end":"center",justifyContent:T,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[P&&(0,c.jsx)(d.xv,{align:k,color:"light",size:"lg"===L?"300":"100",overflow:"normal",children:P}),["lg","md"].includes(L)?(0,c.jsx)(d.X6,{align:k,size:"md"===L&&O?"500":"lg"===L?"600":"400",color:"light",overflow:"normal",children:S}):(0,c.jsx)(d.xv,{align:k,color:"light",size:"sm"===L?"300":"100",overflow:"normal",weight:"bold",children:S}),h&&D&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:h.full_name})]}),w&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:w.text,href:w.href,size:w.size,accessibilityLabel:w.accessibilityLabel})})]})})]})})})}},368156:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294),o=n(702664),r=n(30439),l=n(934494),s=n(149230),d=n(112690),c=n(861411),u=n(940882),p=n(883119),m=n(167912),h=n(785893);const _=void 0!==i?i:i=n(16143);function g({auxData:e,pattern:t,slotIndex:n,storyId:i,viewType:l,viewParameter:m,storyData:{storyType:_,referringSource:g,hasTitle:v,titleFormat:y,identifierIconName:f,actionUrl:b,actionText:x,articlesIds:P}}){const S=(0,d.Z)(),w=(0,o.useSelector)((({articles:e})=>P.map((t=>e[t])))),T={story_type:_,story_id:i,content_ids:w.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,h.jsx)(c.Hs,{loggingId:i,objectIdStr:i,viewParameter:m,viewType:l,slotIndex:n,component:200,auxData:T,children:(0,h.jsxs)(a.Fragment,{children:[v&&(0,h.jsxs)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof f&&f!==u.J&&(0,h.jsx)(p.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,h.jsx)(p.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(f),size:14})}),(0,h.jsx)(p.xv,{weight:"bold",children:y})]}),(0,h.jsx)(r.Z,{bubbles:w,pattern:t,referringSource:g,storyId:i,storyType:_,viewParameter:m,viewType:l}),b&&x&&(0,h.jsx)(p.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,h.jsx)(p.zx,{role:"link",accessibilityLabel:x,color:"gray",onClick:()=>{S({view_type:l,view_parameter:m,aux_data:T,event_type:102})},text:x,href:b,rel:(0,s.Z)(b)?"nofollow":void 0,target:(0,s.Z)(b)?"blank":void 0,size:"md"})})]})})}const v=(0,l.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{const{storyType:t,referringSource:n,storyTitle:i,displayOptions:a,action:o,objects:r}=(0,m.useFragment)(_,e),l=null==a?void 0:a.identifierIconName;return{storyType:t,referringSource:n,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:l,actionUrl:null==o?void 0:o.url,actionText:(null==o?void 0:o.text)||void 0,articlesIds:(null==r?void 0:r.filter((e=>"ExploreArticle"===e.__typename)).map((e=>e.entityId)).filter(Boolean))||[]}},useLegacyAdapter:({storyId:e})=>{const t=(0,o.useSelector)((({stories:t})=>t[e])),{story_type:n,referring_source:i,title:a,display_options:r,action:l,objects:s}=t;return{storyType:n,referringSource:i,hasTitle:!!a,titleFormat:null==a?void 0:a.format,identifierIconName:null==r?void 0:r.identifier_icon_name,actionUrl:null==l?void 0:l.url,actionText:null==l?void 0:l.text,articlesIds:s.map((e=>e.id))||[]}}});function y({storyGraphqlRef:e,storyId:t,...n}){return(0,h.jsx)(v,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,h.jsx)(g,{...n,storyId:t,storyData:e})})}},30439:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(936819),a=n(883119),o=n(687866),r=n(785893);function l(e){const{bubbles:t,onTouch:n,pattern:l=[o.UG.medium],pwtSurfaceContext:s,referringSource:d,storyId:c,storyType:u,viewParameter:p,viewType:m}=e,h=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,r.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((e,t)=>{const _=l[t%l.length];return(0,r.jsx)(a.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%",children:(0,r.jsx)(i.Z,{auxData:{content_ids:h,story_type:u,grid_index:t},bubble:e,format:_,height:([o.UG.medium,o.UG.extra_small].includes(_)?"50%":_===o.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:s,referringSource:d,slotIndex:t,storyId:c,viewParameter:p,viewType:m})},`bubble-${t}`)}))})}},936819:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(112690),a=n(19121),o=n(861411),r=n(826067),l=n(773285),s=n(687866),d=n(613316),c=n(785893);function u({auxData:e,bubble:t,font:n,format:u,height:p,onTouch:m,pwtSurfaceContext:h,referringSource:_,slotIndex:g,storyId:v,viewParameter:y,viewType:f,width:b="100%"}){var x;const{action:P,cover_images:S,curator:w,dominant_colors:T,id:k,identifier_icon_type:E,story_category:I,title:A}=t,C=(0,i.Z)(),R=(0,a.Z)(),{checkExperiment:j}=(0,l.F)();if(!S||!A)return null;const D=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0;let O="",L="";if(R.isAuth&&5===f){O=j("blp_explore_bubble_image_size").group;const e=O.split("_");e.length>1&&(L=e[1])}const N=null===(x=S[0]&&(O.startsWith("enabled")&&L?S[0][L]:S[0]["474x"]||S[0]["236x"]))||void 0===x?void 0:x.url,F=A.format,M=(null==P?void 0:P.url)||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:a,title:o})=>{const l=null!=e&&(0,d.y)(e),s=(0,r.XP)({q:t,rs:n||void 0,b_id:i,source_id:a}),c=l&&o?(0,d.x)({title:o,id:i,articleType:"discover"}):`/discover/article/${i}/`;return l?c:"/search/pins/"+(s?"?"+s:"")})({storyCategory:I,query:F,referringSource:_,bubbleId:k,storyId:v,title:F}),z=u===s.UG.article?13865:200,U=u===s.UG.article?102:6940,B=T&&T.length?T[0]:void 0;return(0,c.jsx)(o.fv,{auxData:{story_id:v,...e},impressionData:{storyCategory:I,storyIdStr:v},impressionType:"articleImpressions",loggingId:v,slotIndex:g,viewParameter:y,viewType:f,children:(0,c.jsx)(s.ZP,{backgroundColor:B,bubbleId:k,bubbleUrl:M,coverImageUrl:N,curator:D,font:n,format:u,height:p,identifierIconType:E,onTap:t=>{C({component:z,event_type:U,object_id_str:t,view_parameter:y,view_type:f,aux_data:{article_id:t,grid_index:g,...e}}),m&&m({query:F})},pwtSurfaceContext:h,referringSource:_,title:F,width:b})})}},946036:(e,t,n)=>{n.d(t,{q:()=>a,z:()=>i});const i=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],a="checklist_education_feed_card"},566102:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(730568);const a=({containerTypeIsItemGrid:e,numColumnsRequested:t,storyType:n})=>"BUBBLE_ONE_COL"===n||e&&!(0,i.Z)({storyType:n,numColumnsRequested:t})},730568:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(946036);const a=({storyType:e,numColumnsRequested:t})=>i.z.includes(e)&&0===t},248299:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(166300),a=n(898781),o=n(883119),r=n(785893);function l({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",l=(0,r.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:t.bt("   ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,r.jsx)(o.xv,{align:"center",color:n,weight:"bold",children:t.bt("  ", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{align:"center",color:n,children:t.bt(" ", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?l:(0,r.jsx)(o.xu,{height:"100vh",children:(0,r.jsx)(i.Z,{children:l})})}},252417:(e,t,n)=>{n.d(t,{Ai:()=>S,B5:()=>s,Cc:()=>r,HG:()=>f,R_:()=>c,Wz:()=>l,_9:()=>_,_P:()=>y,dX:()=>x,f5:()=>g,h8:()=>a,hk:()=>u,jP:()=>m,lp:()=>v,lt:()=>h,oZ:()=>p,oe:()=>b,rM:()=>P,tD:()=>d});var i=n(883119);const a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},o={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...o,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},l={...o,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=new i.Ry(1),d=new i.Ry(3),c=64,u=64,p=48,m=48,h=new i.Ry(5),_=new i.H3([h]),g=new i.H3([_,new i.Ry(1)]),v=new i.H3([_]);function y(e){return e?{paddingX:2,paddingY:4}:{paddingX:0,paddingY:0}}const f=6,b=47,x=8,P=4,S=5},540923:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(898781),o=n(883119),r=n(882801),l=n(785893);const s=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;const i=n===r.X0.HEADER,a=[r.X0.HEADER,r.X0.BOLD].includes(n),c=t>0&&i?4:s(t);return(0,l.jsx)(d,{marginTop:c,children:(0,l.jsx)(o.xv,{size:"200",weight:a?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,l.jsx)(d,{marginTop:s(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,l.jsx)(d,{marginTop:s(t),children:e.map((e=>(0,l.jsxs)(o.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,l.jsx)(o.xv,{size:"200",weight:"bold",inline:!0,children:""}),(0,l.jsx)(o.xu,{marginStart:1,children:(0,l.jsx)(o.xv,{size:"200",children:e})})]},e)))}):null,m=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,l.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,l.jsx)(o.iA,{accessibilityLabel:e,children:(0,l.jsx)(o.iA.Body,{children:Object.entries(t).map((([e,t],n)=>(0,l.jsxs)(o.iA.Row,{children:[(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",weight:"bold",children:e})}),(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",children:String(t)})})]},n)))})})}):null,h=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;const i=t[0],a=t.slice(1);return(0,l.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,l.jsxs)(o.iA,{accessibilityLabel:e,children:[(0,l.jsx)(o.iA.Header,{children:(0,l.jsx)(o.iA.Row,{children:i.map(((e,t)=>(0,l.jsx)(o.iA.HeaderCell,{children:(0,l.jsx)(o.xv,{size:"100",weight:"bold",children:e})},t)))})}),(0,l.jsx)(o.iA.Body,{children:a.map(((e,t)=>(0,l.jsx)(o.iA.Row,{children:e.map(((e,t)=>(0,l.jsx)(o.iA.Cell,{children:(0,l.jsx)(o.xv,{size:"100",children:e})},t)))},t)))})]})})},_=e=>{const t=(0,a.ZP)();switch(e.type){case r.X0.POINTS:return(0,l.jsx)(p,{...e});case r.X0.SPECS:return(0,l.jsx)(m,{accessibilityLabel:t.bt("  ", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case r.X0.TABLE:return(0,l.jsx)(h,{accessibilityLabel:t.bt("  ", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case r.X0.ELEMENT:return(0,l.jsx)(u,{...e});default:return(0,l.jsx)(c,{...e})}};function g({descriptions:e,onLoad:t}){return(0,i.useEffect)((()=>{"function"==typeof t&&t()}),[t]),0===e.length?null:e.map((({content:e,type:t},n)=>(0,l.jsx)(_,{content:e,order:n,type:t},n)))}},219413:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),o=n(882801),r=n(167912);const l=void 0!==i?i:i=n(784091);const s=({pin:e})=>{const t=(0,r.useFragment)(l,e);return(0,a.useMemo)((()=>{return null==(e=null==t?void 0:t.formattedCloseupDescription)?{components:[]}:{components:Array.isArray(e.components)?e.components.filter((e=>e.type)).map((e=>{var t,n,i;const a=null!==(t=e.type)&&void 0!==t?t:"";var r;return a===o.X0.SPECS?{type:a,content:null===(r=e.specsContent)||void 0===r?void 0:r.map((e=>({key:e.key,value:e.value})))}:{type:a,content:null!==(n=null!==(i=e.stringContent)&&void 0!==i?i:e.pointsContent)&&void 0!==n?n:e.tableContent}})):[]};var e}),[null==t?void 0:t.formattedCloseupDescription])}},882801:(e,t,n)=>{n.d(t,{Eh:()=>l,X0:()=>o,fv:()=>r,jo:()=>s});var i=n(883119),a=n(785893);const o={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},r=e=>{var t;const n=null==e||null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]},l=e=>Array.isArray(e)?e.map((({name:e="",values:t=[]})=>({content:(0,a.jsxs)(i.xv,{size:"200",children:[(0,a.jsx)("b",{children:e}),t.join(", ")]}),type:o.ELEMENT}))):[],s=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:o.PARAGRAPH}]},375559:(e,t,n)=>{n.d(t,{JJ:()=>i,N3:()=>o,zu:()=>a});const i=["TR","WB"],a=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],o=[...i,...a,"AP","TG"]},201155:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(785893);function o({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,o,r;return(0,a.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,a.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(o=null==e?void 0:e.height)&&void 0!==o?o:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,a.jsx)(i.kC,{justifyContent:"center",children:(0,a.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}var r=n(499128),l=n(898781),s=n(784590),d=n(50286);function c({handleHide:e,text:t,userId:n,href:c,imageUrl:u}){const p=(0,l.ZP)(),m=(0,d.HG)(),h=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length){const t=u?(0,a.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(i.Ee,{alt:p.bt("  ", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,a.jsx)(r.ZP,{duration:5e3,onHide:e,text:_,href:c,iconThumbnail:t,thumbnailShape:"circle"})}const g=(h.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[m?"236x":"170x"]})),v=(0,a.jsx)(o,{ideaPinImages:g});return(0,a.jsx)(r.ZP,{href:c,duration:5e3,onHide:e,iconThumbnail:v,text:_,thumbnailShape:"square"})}},258430:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(130460),o=n(785893);function r({boardId:e}){var t;const n=(0,a.gC)()(e),r=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&r?(0,o.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=r.url)&&void 0!==t?t:""}):null}},759929:(e,t,n)=>{n.d(t,{k:()=>r,w:()=>o});var i=n(379764),a=n(883119);const o=2e3,r=new a.H3([i.Z])},182476:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(702664),o=n(815613),r=n(780280),l=n(633083),s=n(898781),d=n(892819),c=n(883119),u=n(167912),p=n(785893);const m=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,locale:o,nameTextSize:r,renderAsPill:u,showFollowerCount:m,topicName:h,followerCount:_,image:g})=>{var v;const y=(0,s.ZP)(),f=(0,d.Z)(),b=(0,p.jsx)(c.JO,{accessibilityLabel:y.bt("", "Selected", " - ", undefined, true),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return u?(0,p.jsx)(l.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:h}):(0,p.jsxs)(c.xu,{position:"relative","aria-selected":a,children:[(0,p.jsx)(c.zd,{rounding:i||n?4:2,children:(0,p.jsxs)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(c.xu,{bottom:!0,left:!0,padding:i&&a?1:0,position:"absolute",right:!0,rounding:i&&a?4:0,top:!0,children:(0,p.jsx)(c.Ee,{alt:h,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=g.url)&&void 0!==v?v:""})}),(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&a?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&a&&(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,p.jsx)(c.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(c.xv,{align:"center",color:"light",size:r,weight:"bold",children:h})}):(0,p.jsxs)(c.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(c.xv,{color:"inverse",size:r,weight:"bold",children:h}),m&&_>=0&&(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsxs)(c.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(c.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,_,{shortform:!0,shortform_maximum_fraction_digits:1})}),y.bt("", "followers", " - ", undefined, true)]})})]}),a&&(0,p.jsx)(c.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,p.jsx)(c.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:b}):b})]})},h=void 0!==i?i:i=n(133132),_=({topicRef:e,...t})=>{var n,i,a,o,r,l;const s=(0,u.useFragment)(h,e),d=s.images?{url:null!==(n=s.images.url)&&void 0!==n?n:"",width:null!==(i=s.images.width)&&void 0!==i?i:0,height:null!==(a=s.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(m,{backgroundColor:null!==(o=s.background_color)&&void 0!==o?o:"",topicName:null!==(r=s.name)&&void 0!==r?r:"",followerCount:null!==(l=s.follower_count)&&void 0!==l?l:0,image:d,...t})},g=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const a=n||e||t||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},r=a.follower_count||-1;return(0,p.jsx)(m,{backgroundColor:a.background_color,topicName:a.name,followerCount:r,image:o,...i})};var v,y=n(70090);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:l="lg",onTouch:s,padding:d=2,renderAsPill:u,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:v=!1,topic:f,viewParameter:b,viewType:x,enabledHomeFeedTunerDesignChanges:P})=>{const S=(0,a.useDispatch)(),{locale:w}=(0,r.B)(),T=(0,p.jsxs)(c.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,p.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:w,nameTextSize:l,renderAsPill:u,showFollowerCount:h,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,p.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:w,nameTextSize:l,renderAsPill:u,showFollowerCount:h,topicRef:f.topicRef}),!!f&&m&&(0,p.jsx)(c.xu,{paddingY:2,children:(0,p.jsx)(o.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t&&P,isFollowed:f.is_followed,onFollow:e=>S((0,y.ZN)(e)),onUnfollow:e=>S((0,y.fv)(e)),size:"md",unfollowEventType:602,viewParameter:b||void 0,viewType:x||void 0})})]});let k="/";return f&&(k=`/topics/${f.id}`),v&&f.slug?(0,p.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==s||s(e)},tapStyle:"compress",rounding:2,href:k,children:(0,p.jsx)(c.xu,{padding:d,children:T})}):T},b=void 0!==v?v:v=n(964820),x=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:a=!1,nameTextSize:o="lg",onTouch:r,padding:l=2,renderAsPill:s,showFollowButton:d=!1,showFollowerCount:c=!1,shouldClickthrough:m=!1,viewParameter:h,viewType:_,enabledHomeFeedTunerDesignChanges:g})=>{var v,y;const x=(0,u.useFragment)(b,e);return(0,p.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,nameTextSize:o,onTouch:r,padding:l,renderAsPill:s,showFollowButton:d,showFollowerCount:c,shouldClickthrough:m,viewParameter:h,viewType:_,enabledHomeFeedTunerDesignChanges:g,topic:{id:null!==(v=x.entityId)&&void 0!==v?v:"",type:"graphql",is_followed:null!==(y=x.is_followed)&&void 0!==y&&y,topicRef:x}})},P=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:o=!1,isHomefeedTuner:r,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:m,showFollowButton:h=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b})=>{const x=(0,a.useSelector)((({topics:t})=>t[e])),P=null!=t?t:x;return(0,p.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:r,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:m,showFollowButton:h,showFollowerCount:_,shouldClickthrough:g,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b,topic:{id:e,is_followed:!(null==P||!P.is_followed),topic:P,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:a="lg",onTouch:o,padding:r=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:m,enabledHomeFeedTunerDesignChanges:h,..._})=>_.topicRef?(0,p.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:m,topicRef:_.topicRef,enabledHomeFeedTunerDesignChanges:h}):(0,p.jsx)(P,{id:_.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:u,viewType:m,enabledHomeFeedTunerDesignChanges:h})},430235:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(667294),o=n(248975),r=n(862628),l=n(898781),s=n(759177),d=n(667679),c=n(62409),u=n(349700),p=n(867820),m=n(350118),h=n(276775),_=n(780679),g=n(883119),v=n(167912),y=n(785893);const f=({children:e,onTap:t})=>{const[n,i]=(0,a.useState)(!1);return(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,y.jsx)(g.iP,{onTap:t,onBlur:()=>i(!1),onFocus:()=>i(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e})})},b=void 0!==i?i:i=n(12617);function x({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:s,embedType:c,sourceUserUsername:m,sourceUserFullname:v,pinJoinVisualAnnotation:b,pinJoinSeoBreadcrumbName:x,pinJoinSeoBreadcrumbUrl:P,pinId:S,pinLink:w}){var T;const k=(0,l.ZP)(),E=(0,h.useHistory)(),I=(0,o.Z)({images:i,embedSrc:s,embedType:c}),A=x,C=P,R=null!==(T=null==b?void 0:b[0])&&void 0!==T?T:void 0,j=(0,r.Z)(R),D=`/search/pins/?q=${encodeURIComponent(j)}&rs=image_only_attribution`,O=(0,d.Z)(),L="dweb.plp.ellipsis.button"===n,N=(0,_.g)();return I?(0,y.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,y.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,y.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:k.bt("Pinterest ", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:S}}}),N&&N.setUpsellReason("click_context_menu_action_bar_ellipsis_save_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k.bt(" ", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})}),!(t||L&&!w)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)(L?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(L?w:`/pin/${S}/`),L||O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k.bt("   ", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})}),(R||!(!A||!C))&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),C?E.push(`${C}`):E.push(D)},children:A?(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k.bt("{{levelOneInterestName}}     ", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:A})}):(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k.bt("{{interestTag}}     ", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:R})})}),!(!v||!m)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),E.push(`/${m}/`)},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k.bt("{{full_name}}    ", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:v})})}),(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}}),N&&N.setUpsellReason("click_context_menu_action_bar_ellipsis_signup_or_login_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k.bt("     ", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})})]}):null}function P({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,l,d;const c=(0,v.useFragment)(b,e),u=(0,s.Z)(c);let p;var m,h;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(m=null==c||null===(h=c.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==m?m:null==c?void 0:c.pinner);return(0,y.jsx)(x,{...i,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(a=p)||void 0===a?void 0:a.username,sourceUserFullname:null===(o=p)||void 0===o?void 0:o.fullName,pinJoinVisualAnnotation:null==c||null===(r=c.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(l=c.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function S({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,l,s,d;const u=(0,m.S6)()(t),{link_domain:p,native_creator:h,origin_pinner:_,pinner:g}=u||{};let v=(0,c.wS)(p,h,_,g);var f,b;v||(v=null!==(f=null==u||null===(b=u.link_domain)||void 0===b?void 0:b.official_user)&&void 0!==f?f:null==u?void 0:u.pinner);const{full_name:P,username:S}=null!==(a=v)&&void 0!==a?a:{};return(0,y.jsx)(x,{...i,embedSrc:null==u||null===(o=u.embed)||void 0===o?void 0:o.src,embedType:null==u||null===(r=u.embed)||void 0===r?void 0:r.type,images:null==u?void 0:u.images,sourceUserUsername:P,sourceUserFullname:S,pinJoinVisualAnnotation:null==u||null===(l=u.pin_join)||void 0===l?void 0:l.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(s=u.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function w(e){return e.graphqlRef?(0,y.jsx)(P,{...e}):(0,y.jsx)(S,{...e})}},447409:(e,t,n)=>{n.d(t,{n:()=>S,Z:()=>w});var i=n(702664),a=n(598615),o=n(821997),r=n(966476);const l=({children:e,fallback:t})=>(()=>{const e=(0,i.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,r.Z)();return!e&&!t})()?t||null:e;var s=n(938917),d=n(898781),c=n(893101),u=n(112690),p=n(867820),m=n(780280);var h=n(52022),_=n(643010),g=n(948376),v=n(773285),y=n(385740),f=n(53987),b=n(883119),x=n(276775),P=n(785893);const S=56;function w(){const e=(0,d.ZP)(),t=(0,x.useLocation)(),n=(0,x.useHistory)(),{viewType:r,viewParameter:w}=(0,y.SU)(),{userAgentPlatform:T,userAgent:k}=(0,i.useSelector)((({session:e})=>e)),E=(0,g.Rp)({platform:T,userAgent:k}),I=(0,c.Z)(),A=function(){const{isBot:e}=(0,m.B)();return(t,n)=>{e||(0,p.NC)(t,n)}}(),C=(0,s.Z)(),{checkExperiment:R}=(0,v.F)(),j=(0,u.Z)(),D=(0,h.Z)(),O=e.bt("", "Log in", "Label for log in button", undefined, true),L=e.bt("", "Sign up", "Text on button on the top bar that leads users to signing up.", undefined, true),N=e.bt("", "Download", "mweb.unauth.interstitial_upsell.download_button_text", undefined, true),F=!E&&!(0,f.Xn)(t),M=((0,f.dr)(t)||(0,f.$Y)(t)||(0,f.E0)(t))&&!R("lex_follow_button").group.includes("main_cta"),z=!C||I||M?"signup":"download",U=R("mweb_unauth_login_primary_header").group,B=U.includes("login_primary"),Z=!B&&U.includes("login"),V=(F?O.length:0)+("signup"===z?L.length:0)+("download"===z?N.length:0),H=(0,P.jsx)(b.zx,{fullWidth:!0,color:B?"white":M?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),j({component:13198,element:31,event_type:102,view_type:r,view_parameter:w}),A("press_header_signup"),j({event_type:10439,element:31,component:14215,view_type:r,view_parameter:w,aux_data:{upsell_reason:"click_signup_on_header"}}),n.push({pathname:"/signup",state:{attributionLabel:"click_signup_on_header",...t.state}})},size:"md",text:L});return(0,P.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,_.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,P.jsxs)(b.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,P.jsx)(b.iP,{accessibilityLabel:e.bt("Pinterest ", "Pinterest App", "Pinterest icon for app upsell", undefined, true),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,P.jsxs)(b.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,P.jsx)(b.xu,{alignItems:"center",display:"flex",height:S,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,P.jsx)(b.iP,{role:"link",tapStyle:"none",href:"/",children:E?(0,P.jsx)(o.Z,{size:24}):(0,P.jsx)(b.hU,{icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl",accessibilityLabel:e.bt("Pinterest ", "Pinterest App", "Pinterest icon for app upsell", undefined, true)})})}),(0,P.jsx)(b.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:V<18&&(0,P.jsxs)(b.xu,{children:[(0,P.jsx)(b.X6,{color:"error",size:"400",overflow:"normal",children:E?e.bt("Pinterest Lite", "Pinterest Lite", "Pinterest lite brand for the app upsell", undefined, true):e.bt("Pinterest", "Pinterest", "Pinterest brand for the app upsell", undefined, true)}),E&&(0,P.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,P.jsx)(b.xu,{children:(0,P.jsx)(b.xv,{inline:!0,size:"100",color:"subtle",children:e.bt("  ", "Save space on your device", "Unauth app upsell copy that describe Pinterest product core value to users", undefined, true)})})})]})})]})}),(0,P.jsx)(l,{children:(0,P.jsxs)(b.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:["signup"===z&&B&&(0,P.jsx)(b.xu,{"data-test-id":"signup-button",children:H}),F&&(0,P.jsx)(b.xu,{"data-test-id":"login-button",children:(0,P.jsx)(b.zx,{fullWidth:!0,color:U.includes("red")&&"signup"===z?"red":U.includes("gray")&&"signup"===z?"gray":"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),j({component:13198,element:30,event_type:102,view_type:r,view_parameter:w}),A("press_header_login"),j({event_type:10439,element:30,component:14213,view_type:r,view_parameter:w,aux_data:{upsell_reason:"click_login_on_header"}}),n.push({pathname:"/login",state:{attributionLabel:"click_login_on_header",...t.state}})},size:"md",text:O})}),"signup"!==z||Z||B?"signup"!==z&&(0,P.jsx)(b.xu,{"data-test-id":"download-button",children:(0,P.jsx)(a.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,P.jsx)(b.zx,{fullWidth:!0,color:(0,f.j8)(t)||R("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:N})})}):(0,P.jsx)(b.xu,{"data-test-id":"signup-button",children:H})]})})]})})}},874317:(e,t,n)=>{n.d(t,{Yw:()=>w,ZP:()=>A,nt:()=>S});var i,a=n(598615),o=n(326960),r=n(248975),l=n(63552),s=n(862628),d=n(938917),c=n(898781),u=n(759177),p=n(667679),m=n(62409),h=n(349700),_=n(867820),g=n(538232),v=n(773285),y=n(350118),f=n(276775),b=n(883119),x=n(167912),P=n(785893);const S=250,w={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},T=void 0!==i?i:i=n(167074);function k({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:n,pinId:i,images:u,embedSrc:m,embedType:y,sourceUserUsername:x,sourceUserFullname:w,pinDownloadFilename:T,pinImageSignature:k,pinJoinVisualAnnotation:E,pinJoinSeoBreadcrumbName:I,pinJoinSeoBreadcrumbUrl:A}){var C;const R=(0,c.ZP)(),j=(0,f.useHistory)(),D=(0,r.Z)({images:u,embedSrc:m,embedType:y}),{isChromeOnIOS:O}=(0,g.R)(),L=I,N=A,F=null!==(C=null==E?void 0:E[0])&&void 0!==C?C:void 0,M=(0,s.Z)(F),z=`/search/pins/?q=${encodeURIComponent(M)}&rs=image_only_attribution`,U=(0,p.Z)(),B=(0,g.R)(),{checkExperiment:Z}=(0,v.F)(),V=(0,d.Z)();return D?(0,P.jsxs)(b.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new b.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:S,children:[(0,P.jsxs)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,P.jsx)(b.JO,{icon:"pinterest",accessibilityLabel:R.bt("Pinterest ", "Pinterest logo", "unauth.mweb.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"}),(0,P.jsx)(b.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,P.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,P.jsx)(b.JO,{icon:"cancel",accessibilityLabel:R.bt("   ", "Dismiss mweb context menu", "unauth.mweb.context_menu.dismiss", undefined, true)})})})]}),"main"===e.context&&V&&Z("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,P.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:({event:t})=>{t.stopPropagation(),n(null),e({deepLinkUri:`/pin/${i}/`}),(0,_.My)("unauth.mweb.context_menu.open_in_app")},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt(" ", "Open in App", "unauth.mweb.context_menu.link.open_in_app", undefined, true)})})})}),["download","short_d"].includes(e.context)&&k?(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(o.Z,{imgSrc:D,isChromeOnIOS:O,filename:T,pinId:i,viewType:3,imageSignature:k,children:e=>(0,P.jsx)(l.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.download_image")}))},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt(" ", "Download image", "unauth.mweb.related_pin.context_menu.link.download_image", undefined, true)})})})}):(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.save_image"),e&&B.saveButtonConfig.onSaveButtonClick(e)},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt(" ", "Save image", "unauth.mweb.context_menu.link.save_image", undefined, true)})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),t&&t(!0),(0,_.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt(" ", "Share image", "unauth.mweb.context_menu.link.share_menu", undefined, true)})})}),(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${i}/`)},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt("   ", "Open link in new tab", "unauth.mweb.context_menu.link.plp_new_tab", undefined, true)})})}),["download","save","main"].includes(e.context)&&(F||!(!L||!N))&&(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.see_more_pins"),j.push(N?`${N}`:z)},children:L?(0,P.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("{{levelOneInterestName}}     ", "See more ideas about {{levelOneInterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:L})}):(0,P.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("{{interestTag}}     ", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:F})})})}),["download","save","main"].includes(e.context)&&!(!w||!x)&&(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.more_from_creator"),j.push(`/${x}/`)},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,h.nk)(R.bt("{{full_name}}   ", "See more from {{full_name}}", "unauth.context_menu.link.more_from_creator", undefined, true),{full_name:w})})})}),(0,P.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.login_signup"),U({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,P.jsx)(b.xv,{size:"200",weight:"bold",children:R.bt("     ", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true)})})})]}):null}function E({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l;const s=(0,x.useFragment)(T,e),d=(0,u.Z)(s);let c;var p,m;(c=null!=s&&s.nativeCreator?s.nativeCreator:null!=s&&s.linkDomain?s.linkDomain.officialUser:(null==s?void 0:s.originPinner)||(null==s?void 0:s.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==s||null===(m=s.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==p?p:null==s?void 0:s.pinner);const h=(null==s?void 0:s.gridTitle)||(null==s?void 0:s.closeupUnifiedDescription),_=null==s?void 0:s.imageSignature;return(0,P.jsx)(k,{...n,embedSrc:(null==s?void 0:s.embed)&&s.embed.src,embedType:(null==s?void 0:s.embed)&&s.embed.type,images:d,sourceUserUsername:null===(i=c)||void 0===i?void 0:i.username,sourceUserFullname:null===(a=c)||void 0===a?void 0:a.fullName,pinDownloadFilename:h,pinImageSignature:_,pinJoinVisualAnnotation:null==s||null===(o=s.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==s||null===(r=s.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==s||null===(l=s.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function I({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l,s;const d=(0,y.S6)()(t),{link_domain:c,native_creator:u,origin_pinner:p,pinner:h}=d||{};let _=(0,m.wS)(c,u,p,h);var g,v;_&&"string"!=typeof _||(_=null!==(g=null==d||null===(v=d.link_domain)||void 0===v?void 0:v.official_user)&&void 0!==g?g:h);const{full_name:f,username:b}=null!==(i=_)&&void 0!==i?i:{},x=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),S=null==d?void 0:d.image_signature;return(0,P.jsx)(k,{...n,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(o=d.embed)||void 0===o?void 0:o.type,images:null==d?void 0:d.images,sourceUserUsername:f,sourceUserFullname:b,pinDownloadFilename:x,pinImageSignature:S,pinJoinVisualAnnotation:null==d||null===(r=d.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function A(e){return e.graphqlRef?(0,P.jsx)(E,{...e}):(0,P.jsx)(I,{...e})}},158989:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(883119).Ry)(9999)},893101:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(702664),a=n(172071),o=n(938917),r=n(436851),l=n(948376),s=n(50286),d=n(276775),c=n(780280),u=n(56390),p=n(339363),m=n(53987);const h=()=>{const{isBot:e}=(0,c.B)(),t=(0,d.useLocation)(),{userAgentPlatform:n,userAgent:h}=(0,i.useSelector)((e=>e.session)),_=(0,o.Z)(),g=(0,s.ml)();return!e&&!(g&&!_)&&!(0,l.Rp)({platform:n,userAgent:h})&&((0,m.uM)(t)||(0,m.am)(t))&&!(0,u.P)()&&!(e=>!!(0,r.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(h)}},609875:(e,t,n)=>{n.d(t,{Z:()=>Z});var i=n(667294),a=n(934494),o=n(753311),r=n(920085),l=n(248975),s=n(430322),d=n(873441),c=n(862628),u=n(598615),p=n(938917),m=n(898781),h=n(349700),_=n(867820),g=n(883119),v=n(785893);function y({type:e,onTap:t,location:n,l1InterestName:i,interestTag:a,sourceUserUsername:o,pinId:r}){const l=(0,m.ZP)(),s=(0,p.Z)();if("app-install"===e&&s)return(0,v.jsx)(u.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:t})=>(0,v.jsx)(g.iP,{onTap:()=>{(0,_.My)(`context.menu.tap.${n}.${e}`),r?(t({deepLinkUri:`/pin/${r}/`}),(0,_.My)("mweb.context_menu.open_in_app.pin")):(t({deepLinkUri:"/"}),(0,_.My)("mweb.context_menu.open_in_app.homepage")),(0,_.My)("mweb.context_menu.open_in_app")},children:(0,v.jsx)(g.xu,{marginBottom:4,children:(0,v.jsx)(g.xv,{size:"300",weight:"bold",children:l.bt(" ", "Open in app", "mweb.context_menu.link.open_in_app", undefined, true)})})})});return(0,v.jsx)(g.iP,{onTap:({event:i})=>{(0,_.My)(`context.menu.tap.${n}.${e}`),t&&t("save"===e||"saveonly"===e?i:void 0)},children:(0,v.jsx)(g.xu,{marginBottom:4,children:(0,v.jsx)(g.xv,{size:"300",weight:"bold",children:(()=>{switch(e){case"save":return l.bt(" ", "Save image", "mweb.context_menu.link.save_image", undefined, true);case"new-tab":return l.bt("   ", "Open link in new tab", "mweb.context_menu.link.plp_new_tab", undefined, true);case"more-ideas":return i?(0,h.nk)(l.bt("{{l1InterestName}}     ", "See more ideas about {{l1InterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{l1InterestName:i}):(0,h.nk)(l.bt("{{interestTag}}     ", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:a});case"more-from-creator":return(0,h.nk)(l.bt("{{sourceUserUsername}}    ", "See more from {{sourceUserUsername}}", "unauth.context_menu.link.more_from_creator", undefined, true),{sourceUserUsername:o});case"login-signup":return l.bt("     ", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true);case"saveonly":return l.bt("", "Save", "mweb.context_menu.link.saveonly", undefined, true);case"download":return l.bt(" ", "Download image", "mweb.context_menu.link.download", undefined, true);default:return null}})()})})})}var f,b=n(829407),x=n(797087),P=n(667679),S=n(19121),w=n(385801),T=n(407043),k=n(773285),E=n(350118),I=n(276775),A=n(50286),C=n(872482),R=n(167912);const j={"main-pin-long-press":"main_pin_longtouch","main-pin-overflow":"action_bar_ellipsis","related-pins-long-press":"related_pin_longtouch","non-main-pin-more-information":"related_pin_ellipsis","main-pin-more-information":"main_pin_ellipsis"},D=void 0!==f?f:f=n(225440);function O({interestTag:e,l1InterestName:t,location:n,onDismiss:i,pinId:a,seoPlacementConfig:o,pinJoinSeoBreadcrumbUrl:u,sourceUserUsername:p}){var h,f,R,D,O,L,N;const F=(0,m.ZP)(),M=(0,E.S6)()(a),z=(0,I.useHistory)(),U=(0,P.Z)(),B=(0,A.Wb)(),{checkExperiment:Z}=(0,k.F)(),V=(0,S.Z)().isAuth,H=(0,c.Z)(e),K=`/search/pins/?q=${encodeURIComponent(H)}&rs=image_only_attribution`,G=!(null==M||!M.rich_metadata),W=!(null==M||null===(h=M.rich_metadata)||void 0===h||!h.products),$=!(null==M||null===(f=M.rich_metadata)||void 0===f||!f.article),q=!(null==M||null===(R=M.rich_metadata)||void 0===R||!R.recipe),Y=null==M||null===(D=M.embed)||void 0===D?void 0:D.src,X=null==M||null===(O=M.embed)||void 0===O?void 0:O.type,J=!(null==M||!M.story_pin_data),Q=(0,x.Z)({embedSrc:Y,embedType:X,hasRichMetadata:G,hasRichMetadataProducts:W,hasRichMetadataArticle:$,hasRichMetadataRecipe:q,images:null==M?void 0:M.images,isFromUnauthContextMenu:!0,isStoryPin:J,pinId:a}),{pinTitle:ee,pinDescription:te,pinCategory:ne}=(0,d.Z)(M,F),ie=(0,l.Z)({images:null==M?void 0:M.images,embedSrc:null==M||null===(L=M.embed)||void 0===L?void 0:L.src,embedType:null==M||null===(N=M.embed)||void 0===N?void 0:N.type}),ae=(0,C.a)(),{logContextEvent:oe}=(0,T.v)(),re={save:e=>{e&&(e.stopPropagation(),Q(e),ae&&ae.setUpsellReason("click_context_menu_"+j[n]+"_save_button"),i())},saveonly:e=>{e&&(e.stopPropagation(),Q(e),i())},"new-tab":()=>{window.open(`/pin/${a}/`),i()},"more-ideas":t||e?()=>{z.push(u?`${u}`:K),i()}:void 0,"more-from-creator":()=>{z.push(`/${p}/`),i()},"login-signup":()=>{U({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"}),i()},download:()=>{(0,r.Z)({filename:ee||te||a,imgSrc:ie||"",category:ne,pinId:a},oe),i()},"app-install":()=>{}};(0,b.Z)((()=>{(0,_.My)(`open.context_menu_modal.${n}`)}));const le=Z("mweb_unauth_fix_deeplink_bugs").anyEnabled?a:void 0;return(0,v.jsxs)(s.default,{accessibilityModalLabel:F.bt("", "Close", "Close modal window", undefined, true),isOpen:!0,onDismiss:()=>{(0,_.My)(`dismiss.context_menu.modal.${n}`),i()},mobileAccessibilityCloseIconLabel:F.bt("", "Close", "context_modal.menu.close", undefined, true),children:[!!o&&!B&&!V&&(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:20,paddingRight:20,paddingBottom:20,paddingTop:8}},children:(0,v.jsx)(w.Z,{description:o.description||"",title:o.titleText,pinCreditPrefix:o.pinCreditPrefix,onClickTitleOrDomain:o.onClickTitleOrDomain,pinDomain:o.cleanPinDomain,boardId:o.boardId,boardUrl:o.boardUrl,boardName:o.boardName,boardPrivacy:o.boardPrivacy,pinnerFullName:o.pinnerFullName,pinnerImageSmallUrl:o.pinnerImageSmallUrl,pinnerImageLargeUrl:o.pinnerImageLargeUrl,pinId:a,graphqlRef:o.graphqlRef})}),(0,v.jsx)(g.xu,{marginBottom:5,paddingX:5,children:(0,v.jsx)(g.iz,{})})]}),(0,v.jsxs)(g.xu,{marginStart:5,marginBottom:6,"data-test-id":"mobile-context-menu",children:[(0,v.jsx)(g.xu,{marginBottom:4,children:(0,v.jsx)(g.xv,{size:"200",children:F.bt(" ", "More options", "header.context_menu.modal", undefined, true)})}),["save","app-install","new-tab"].map((i=>re[i]?(0,v.jsx)(y,{type:i,location:n,onTap:re[i],l1InterestName:t,interestTag:e,pinId:le,sourceUserUsername:p},i):null))]})]})}function L({onDismiss:e,location:t,pinId:n,seoPlacementConfig:i}){var a,o,r,l,s,d;const c=(0,E.S6)()(n),u=(null==c||null===(a=c.pin_join)||void 0===a?void 0:a.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].name:"")||"",p=null!==(o=null==c||null===(r=c.pin_join)||void 0===r||null===(l=r.visual_annotation)||void 0===l?void 0:l[0])&&void 0!==o?o:"";let m;var h,_;(m=null!=c&&c.native_creator?c.native_creator:null!=c&&c.link_domain?c.link_domain.official_user:(null==c?void 0:c.origin_pinner)||(null==c?void 0:c.pinner),m&&"string"!=typeof m)||(m=null!==(h=null==c||null===(_=c.link_domain)||void 0===_?void 0:_.official_user)&&void 0!==h?h:null==c?void 0:c.pinner);const g=(null===(s=m)||void 0===s?void 0:s.username)||"",y=(null==c||null===(d=c.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].url:"")||"";return(0,v.jsx)(O,{interestTag:p,l1InterestName:u,onDismiss:e,location:t,pinId:n,seoPlacementConfig:i,pinJoinSeoBreadcrumbUrl:y,sourceUserUsername:g})}function N({graphqlRef:e,onDismiss:t,location:n,pinId:i,seoPlacementConfig:a}){var o,r,l,s,d,c;const u=(0,R.useFragment)(D,e),p=(null===(o=u.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(u.pinJoin.seoBreadcrumbs.length>0?u.pinJoin.seoBreadcrumbs[0].name:"")||"",m=null!==(r=null===(l=u.pinJoin)||void 0===l||null===(s=l.visualAnnotation)||void 0===s?void 0:s[0])&&void 0!==r?r:"";let h;var _,g;(h=u.nativeCreator?u.nativeCreator:u.linkDomain?u.linkDomain.officialUser:u.originPinner||u.pinner,h&&"string"!=typeof h)||(h=null!==(_=null===(g=u.linkDomain)||void 0===g?void 0:g.officialUser)&&void 0!==_?_:u.pinner);const y=(null===(d=h)||void 0===d?void 0:d.username)||"",f=(null===(c=u.pinJoin)||void 0===c?void 0:c.seoBreadcrumbs)&&(u.pinJoin.seoBreadcrumbs.length>0?u.pinJoin.seoBreadcrumbs[0].url:"")||"";return(0,v.jsx)(O,{interestTag:m,l1InterestName:p,onDismiss:t,location:n,pinId:i,seoPlacementConfig:a,pinJoinSeoBreadcrumbUrl:f,sourceUserUsername:y})}function F({graphqlRef:e,...t}){return e?(0,v.jsx)(N,{graphqlRef:e,...t}):(0,v.jsx)(L,{...t})}var M;const z=void 0!==M?M:M=n(993156);function U({graphqlRef:e,children:t}){const[n,a]=(0,i.useState)(!1),[r,l]=(0,i.useState)(),[s,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),p=(0,i.useMemo)((()=>({modal:{isShown:n},showUnauthContextMenu:({location:e,pinId:t,seoPlacementConfig:n})=>{a(!0),l(n),d(t),u(e)},dismissMobileUnauthContextMenu:()=>a(!1)})),[n]);return(0,v.jsxs)(o.M,{value:p,children:[t,n&&(0,v.jsx)(F,{graphqlRef:e,onDismiss:p.dismissMobileUnauthContextMenu,pinId:s,seoPlacementConfig:r,location:c||"default"})]})}const B=(0,a.Z)({useGraphQLAdapter:e=>({graphqlRef:(0,R.useFragment)(z,e)}),useLegacyAdapter:()=>null});function Z({graphqlRef:e,...t}){return(0,v.jsx)(B,{input:e?{enabled:!0,data:e}:{enabled:!1,data:null},children:e=>{var n;return(0,v.jsx)(U,{...t,graphqlRef:null===(n=e.data)||void 0===n?void 0:n.graphqlRef})}})}},116674:(e,t,n)=>{n.d(t,{X:()=>c,f:()=>d});var i=n(667294);function a(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=n(425288),r=n(623568),l=n(785893);const{Provider:s,useHook:d}=(0,o.Z)("ReportData");function c({children:e}){const[t,n]=(0,i.useReducer)(a,null),o=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"aggregatedComment"}})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:a,is_downstream_promotion:o,promoter:l,rich_metadata:s,rich_summary:d,videos:c}=e,u=(0,r.VX)(s,d),p=(0,r.jL)(o,l);let m;if((0,r.iR)(c)&&c){const{video_list:e={}}=c,t=e[Object.keys(e)[0]];m=t&&t.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:m,viewParameter:t,viewType:i,type:"pin"}})}),[]),m=(0,i.useMemo)((()=>({reportData:t,dismiss:o,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[t,o,d,c,u,p]);return(0,l.jsx)(s,{value:m,children:e})}},862193:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),o=n(167912);const r=void 0!==i?i:i=n(569772),l=e=>{var t;const n=(0,o.useFragment)(r,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},986926:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),o=n(167912);const r=void 0!==i?i:i=n(225602),l=e=>{const t=(0,o.useFragment)(r,e),n=null==t?void 0:t.reactionCountsData;return(0,a.useMemo)((()=>n?n.reduce(((e,t)=>{var n,i;return{...e,[String(null!==(n=t.reactionType)&&void 0!==n?n:0)]:null!==(i=t.reactionCount)&&void 0!==i?i:0}}),{}):n),[n])}},491563:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),a=n(702664),o=n(116303),r=n(815613),l=n(149230),s=n(898781),d=n(883119),c=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,a,o;const r=(0,s.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:r.bt(" ", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:n,height:e})})};var m=n(112690),h=n(892819),_=n(865673),g=n(57791),v=n(349700),y=n(698330),f=n(780280),b=n(861411),x=n(461773);function P({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:u=!1,onFollowUser:P,onUnfollowUser:S,userId:w,userPins:T,viewParameter:k,viewType:E,truncateName:I=!1}){const A=(0,s.ZP)(),C=(0,h.Z)(),R=(0,a.useDispatch)(),{locale:j}=(0,f.B)(),D=(0,m.Z)(),[O,L]=(0,i.useState)(u?window.innerWidth-16:null),N=(0,y.mN)()(w);if(!N)return null;const{contextual_pin_image_urls:F,explicitly_followed_by_me:M,follower_count:z=0,full_name:U,image_medium_url:B,is_verified_merchant:Z,recent_pin_images:V,username:H,verified_identity:K}=N,G=e=>O?(O-(e-1))/e:0,W=u?1.6*G(4):117,$=(null==T?void 0:T.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==V?void 0:V["222x"])||(null==V?void 0:V["192x"])||[];let Y=(null==F?void 0:F["222x"])||(null==F?void 0:F["192x"])||[];n&&0===Y.length&&(Y=q);const X=u&&Y.length<=0;let J=u?Y.concat(q).slice(0,4):$.concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);const Q=!X&&(O?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:J.map(((e,t)=>(0,c.jsx)(p,{height:W,image:e,width:G(J.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:W,ref:e=>{e&&L(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(o.Z,{outline:!0,name:null!=U?U:"",src:null!=B?B:""})})}),te=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(O||0)/2:O)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:I?1:void 0,children:Z||null!=K&&K.verified?(0,c.jsx)(_.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=U?U:"",verifiedType:Z?"verifiedMerchant":"verifiedIdentity",truncate:I}):U})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(A.nbt([" {{followers}}"], z, "PinnerAuthority.followersCount", true),{followers:C(j,z,{shortform:!0})})})]}),ne=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{D({event_type:9029,object_id_str:w,view_type:E,view_parameter:k,aux_data:t})},rel:(0,l.Z)({url:e.url})?"nofollow":void 0,target:(0,l.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(r.Z,{id:w,isSecondaryButton:!0,isFollowed:M,onFollow:e=>{P&&P(),R((0,x.ZN)(e))},onUnfollow:e=>{S&&S(),R((0,x.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:E})});return(0,c.jsx)(b.Cy,{loggingId:w,objectIdStr:w,slotIndex:0,viewParameter:k,viewType:E,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(g.MZ,{to:`/${H}/`,onTouch:()=>{D({event_type:43,object_id_str:w,view_parameter:k,view_type:E})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ne]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ne]})]})})})})}},865673:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(512176),o=n(883119),r=n(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:l,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},817767:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(702664),a=n(815613),o=n(941646),r=n(898781),l=n(112690),s=n(892819),d=n(349700),c=n(883119),u=n(780280),p=n(785893);const m=({followerCount:e})=>{const t=(0,r.ZP)(),n=(0,s.Z)(),{locale:i}=(0,u.B)();return(0,p.jsx)(c.xv,{children:(0,d.nk)(t.nbt([" {{followers}}"], e, "pinPage.attribution.followersCount", true),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})};var h=n(667679),_=n(52022),g=n(19121),v=n(512176),y=n(867820),f=n(90326),b=n(461773);function x(e){const t=(0,g.Z)(),n=t.isAuth&&t.id,s=t.isAuth,d=(0,r.ZP)(),u=(0,h.Z)(),x=(0,l.Z)(),P=(0,_.Z)(),S=(0,i.useDispatch)(),w=e=>S((0,b.ZN)(e)),T=e=>S((0,b.fv)(e)),{avatarSize:k,detailText:E,hideButtons:I,blockedByMe:A,explicitlyFollowedByMe:C,followerCount:R,fullName:j,id:D,imageLargeUrl:O,imageMediumUrl:L,imageSmallUrl:N,isEligibleForPdp:F,isVerifiedMerchant:M,verifiedIdentityVerified:z,username:U,isCurrentUser:B,isOnCloseup:Z,isImagePinForUnauthOnTablet:V,pinId:H,shouldNavigateToProfile:K=!0,textColor:G,type:W,viewParameter:$,viewType:q,unauthFollow:Y,activateLexFollowExp:X}=e,J=(H&&H.length,()=>(0,p.jsx)(a.Z,{disableLog:!0,followEventType:45,id:D,isFollowed:C||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===D,onFollow:()=>Z?void(s?(w(D),x({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:B,viewObjectId:H,viewObjectIdStr:H},object_id_str:D})):u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):w(D),onUnfollow:()=>Z?(T(D),void x({event_type:46,view_type:3,view_parameter:156,object_id_str:D})):T(D),pinId:H||"",size:"md",unfollowEventType:46,viewParameter:$,viewType:q})),Q=()=>A?(0,p.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:()=>(e=>S((0,f.h2)(e)))(D),size:"md",text:d.bt(" ", "Unblock", " - ", undefined, true)}):s?J():X?!X().group.includes("hide_follow")&&Y?J():null:Y?J():null,ee=e=>(0,p.jsx)(o.Z,{id:"avatar-image",children:(0,p.jsx)(c.HE,{accessibilityLabel:d.bt(" ", "User`s avatar", "User`s avatar", undefined, true),onClick:()=>{P({action:"click",item:"avatar-image"})},collaborators:[{name:null!=j?j:"",src:O||L||N||void 0}],size:(e||{}).size})}),te=V?"calc(100% - 48px)":void 0,ne=M||z,ie=!s&&F&&!ne,ae=(0,p.jsxs)(c.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,p.jsx)(c.xu,{flex:"none",marginEnd:2,children:ee({size:k||"md"})}),(0,p.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:te,children:[(0,p.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[ie&&(0,p.jsx)(c.xu,{marginEnd:1,children:(0,p.jsx)(c.xv,{children:d.bt(" :", "Saved by", "Context on user rep", undefined, true)})}),(0,p.jsx)(o.Z,{id:"username",children:(0,p.jsx)(c.iP,{onTap:()=>{P({action:"click",item:"username"})},children:(0,p.jsx)(c.xv,{color:G||"default",lineClamp:V?1:void 0,weight:"bold",children:j})})}),ne&&(0,p.jsx)(c.xu,{marginStart:1,paddingY:1,children:(0,p.jsx)(v.Z,{showVerifiedIdentity:!M,size:"sm"})})]}),(0,p.jsx)(c.xv,{color:G||"default",lineClamp:V?1:void 0,children:E}),!!R&&(0,p.jsx)(o.Z,{id:"user-follower-count",children:(0,p.jsx)(c.iP,{onTap:()=>{P({action:"click",item:"user-follower-count"})},children:(0,p.jsx)(m,{followerCount:R})})})]})]}),oe="row"===W?(0,p.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[ae,!I&&(0,p.jsx)(c.xu,{flex:"none",marginStart:2,children:Q()})]}):(0,p.jsxs)(c.xu,{maxWidth:te,padding:2,children:[ee(),(0,p.jsxs)(c.xu,{display:"flex",paddingY:2,children:[(0,p.jsx)(c.xv,{align:"center",size:"200",lineClamp:1,weight:"bold",children:j}),ne&&(0,p.jsx)(c.xu,{marginStart:1,paddingY:1,children:(0,p.jsx)(v.Z,{showVerifiedIdentity:!M,size:"sm"})})]}),!I&&Q()]}),re=(0,p.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,p.jsx)(c.iP,{role:"link",onTap:({event:e})=>{s||((0,y.NC)("click_pin_closeup_profile"),P({action:"click",item:"user-rep"}))},tapStyle:"compress",rounding:2,href:`/${encodeURIComponent(U)}/`,children:ae}),!I&&(0,p.jsx)(c.xu,{flex:"none",marginStart:2,children:Q()})]});return(0,p.jsx)(c.xu,{"data-test-id":"user-rep",width:"100%",children:K?re:oe})}},926749:(e,t,n)=>{n.d(t,{ZP:()=>w});var i=n(667294),a=n(23279),o=n.n(a),r=n(722767);function l(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:a,videoEndTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:m,viewability:h}},component:_,objectId:g,view:v,viewParameter:y,...f}=e;return{component:_,object_id_str:g,view_type:v,view_parameter:y,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:a,endVideoTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:m,viewability:h}}}}var s=n(121630),d=n(944546),c=n(407043),u=n(158103),p=n(883119),m=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",y={rootMargin:v,threshold:g},f={rootMargin:v,threshold:d.iM},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function P(e){return!!e.volume&&e.volume>0}class S extends i.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,i.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:b.PAUSED}):this.startNewInterval({viewability:i}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:P(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};P(e)&&!P(this.props)?n.isAudible=!1:!P(e)&&P(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a}=this.props,{height:o,width:r,windowHeight:s,windowWidth:d,viewability:c,...u}=t;if(null!=o&&null!=r&&null!=s&&null!=d&&null!=c){const t={...u,height:o,width:r,windowHeight:s,windowWidth:d,viewability:n||c};a({event_type:e,...l({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:l,aspectRatio:d,backgroundColor:c,captions:h,contextLogData:_,controls:g,cropHeight:v,hlsConfig:b,inAdsDesktopVideoExperiment:x,isAutoPlay:P,loop:S,objectFit:w,onLoadedChange:T,onControlsPause:k,onControlsPlay:E,onSeek:I,onVolumeChange:A,playbackRate:C,playing:R,playsInline:j,poster:D,preload:O,rootMargin:L,src:N,surface:F,videoStartTime:M,volume:z}=this.props,{seeking:U}=this.state,B=x?f:y;return void 0!==L&&(B.rootMargin=F?(0,s.e)(F):L),(0,m.jsx)(r.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,m.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:`${v}px`}:{}},children:(0,m.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:l,aspectRatio:v?236/v:d,backgroundColor:c,captions:h,contextLogData:_,controls:g,hlsConfig:b,isAutoPlay:P,loop:S,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:T,onLoop:this.handleLoop,onControlsPause:k,onControlsPlay:E,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:I,onTimeChange:this.handleTimeChange,onVolumeChange:A,playbackRate:C,playing:!U&&R,onPlay:()=>{},onPlayError:()=>{},playsInline:j,poster:D,preload:O,src:N,videoStartTime:M,visible:this.visible,volume:z})})})}}function w(e){const{logContextEvent:t}=(0,c.v)();return(0,m.jsx)(S,{...e,logContextEvent:t})}h(S,"defaultProps",p.nk.defaultProps)},158103:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>P,default:()=>S,getPlaylistSourceSrc:()=>x});var i=n(667294),a=n(19121),o=n(965900),r=n(407043),l=n(773285),s=n(858416),d=n(780280),c=n(883119),u=n(969315),p=n(179888),m=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",i)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class g extends i.Component{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),h(this,"errorRetryCount",2),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStallTime",null),h(this,"lastPauseTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:_(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),h(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,u.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),h(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:i}=this.props;e.appInFocus&&!i&&(this.logPlaybackPerformance(p.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),h(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:o&&o.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(r)})),h(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:0)),h(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),h(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,u.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),h(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)})),h(this,"handleError",(()=>{var e,t,n,i,a,o,r,l;const{contextLogData:s={}}=this.props,{is_closeup_video:d=!1}=s,c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c||null===(e=c.error)||void 0===e?void 0:e.code)!==p.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c||null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c||null===(n=c.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==c||null===(i=c.error)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c||null===(o=c.error)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,100))||"unknown";const m={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==c?void 0:c.networkState)||"unknown"};switch((0,u.tE)("fatalError",!1,d,m),null==c||null===(l=c.error)||void 0===l?void 0:l.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),h(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),h(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),h(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),h(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),h(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),h(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),h(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),h(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:p.Cy.STALLING}))})),h(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),h(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),h(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),h(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),h(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),h(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),h(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),h(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),h(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),h(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:l,detailedErrors:s,errorCode:d,errorName:c,errorReason:m,hasFatalError:h,loadStartTime:_,totalPauseDurationMs:g,totalStallDurationMs:v,numberOfStalls:y,numberOfSeeks:f,playbackStartTimestamp:b,segments:x,srcString:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===p.DR,T=w&&!this.hasVideoSessionStarted,k=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||k)){var E;let T=-1;l&&_&&(T=l>_?l-_:0);let k=-1;l&&this.videoVisibleTime&&(k=l>this.videoVisibleTime?l-this.videoVisibleTime:0),w&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());const I=this.getVideoResourceTiming(),A={averageVideoKbps:-1,autoplaying:a,detailedErrors:s,downloadedKiloBytes:"number"==typeof(null==I?void 0:I.decodedBodySize)&&I.decodedBodySize/p.Fm||0,errorCode:d,errorName:c,errorReason:m,fatalError:h,isCellular:!1,nativeVideoDurationMs:S.duration*p.gJ||-1,numberOfStalls:y,numberOfSeeks:f,overallPausedDurationMs:g,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:null!==(E=window)&&void 0!==E&&E.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:k,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:P};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=x.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);A.overallWatchedDurationMs=e,A.startupVariantWatchedDurationMs=e,A.segments=this.playbackPerformance.segments,0===e?(A.errorName="invalid_watch_duration",A.rebufferRate=-1):A.rebufferRate=v/e}(0,u.ZP)(A,!1,r,{playbackState:this.state.playbackState,...t});const{view:C,viewParameter:R,component:j,element:D,objectId:O,...L}=n;o({event_type:3606,event_data:{videoPerformanceData:A},view_type:C,view_parameter:R,component:j,element:D,object_id_str:O,aux_data:{...L,is_closeup_video:r,playback_session_id:this.videoSessionId}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(w?"sessionStart":"sessionEnd",!1,r,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:s,controls:d,loop:u,loopOverride:p,objectFit:h,onDurationChange:g,onFullscreenChange:v,onLoadedChange:y,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onSeek:P,onVolumeChange:S,playbackRate:w,playing:T,playsInline:k,poster:E,preload:I,src:A,videoStartTime:C,volume:R}=this.props,{canPlayVideo:j}=this.state;return(0,m.jsx)(c.nk,{autoplay:j&&T,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:s,controls:d,loop:void 0===p?u:p,objectFit:h,onDurationChange:g,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:v,onLoadedChange:y,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:P,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:w,onPlay:()=>{},onPlayError:()=>{},playing:j&&T,playsInline:k,poster:E,preload:I,ref:this.setVideoPlayerRef,src:_(A,this.props.quicExpGroup),startTime:C||void 0,volume:R})}}const v=(0,i.memo)((function(e){const{logContextEvent:t}=(0,r.v)(),{country:n,isAuthenticated:i,isBot:c,isSocialBot:p,unauthId:h,userAgent:_}=(0,d.B)(),{browserName:v,browserVersion:y,isMobile:f}=_,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:P,viewParameter:S}=b,{appUI:{appInFocus:w}}=(0,o.I)(),{checkExperiment:T}=(0,l.F)(),{clearSeekTime:k}=(0,s.RC)();let E=null;i&&(E=T("web_video_quic").group.length?T("web_video_quic").group:null);const I=(0,a.Z)(),A={browserName:v,browserVersion:y,country:n,isAuthenticated:i,isBot:c,is_closeup_video:x,isMobile:f,isSocialBot:p,view:P,viewParameter:S};return(0,u.r$)(A),(0,m.jsx)(g,{...e,userId:I.id||h,appInFocus:w,quicExpGroup:E,logContextEvent:t,clearSeekTime:k})}));var y=n(562559),f=n(366284);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class P extends i.PureComponent{constructor(e){super(e),b(this,"componentDidUpdate",((e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),b(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),b(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=x(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,appInFocus:s,backgroundColor:d,captions:c,contextLogData:u,controls:p,hlsConfig:h,isAutoPlay:_,loop:g,objectFit:f,onDurationChange:b,onEnded:P,onFullscreenChange:S,onLoadedChange:w,onControlsPause:T,onControlsPlay:k,onPlayheadDown:E,onPlayheadUp:I,onReady:A,onSeek:C,onTimeChange:R,onVolumeChange:j,playbackRate:D,playing:O,playsInline:L,poster:N,preferMp4:F,preload:M,src:z,videoStartTime:U,visible:B,volume:Z}=this.props,{useHlsVideo:V}=this.state,H=x(z),K={...h,startPosition:U||-1},G=!P&&g;return V&&H?(0,m.jsx)(y.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,appInFocus:s,backgroundColor:d,captions:c,contextLogData:u,controls:p,hlsConfig:K,isAutoPlay:_,loop:g,loopOverride:G,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:w,onControlsPause:T,onControlsPlay:k,onPlayheadDown:E,onPlayheadUp:I,onReady:A,onSeek:C,onTimeChange:R,onVolumeChange:j,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:O,playsInline:L,poster:N,preload:M,setVideoRef:this.setVideoPlayerRef,src:H,visible:B,volume:Z}):(0,m.jsx)(v,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:c,contextLogData:u,controls:p,isAutoPlay:_,loop:g,loopOverride:G,objectFit:f,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:w,onControlsPause:T,onControlsPlay:k,onPlayheadDown:E,onPlayheadUp:I,onReady:A,onSeek:C,onTimeChange:R,onVolumeChange:j,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:O,playsInline:L,poster:N,preload:M,setVideoRef:this.setVideoPlayerRef,src:F?z:H||z,videoStartTime:U,visible:B,volume:Z})}}function S(e){const{appUI:{appInFocus:t}}=(0,o.I)(),n=(0,d.B)();return(0,m.jsx)(P,{...e,appInFocus:t,requestContext:n})}},944546:(e,t,n)=>{n.d(t,{HJ:()=>a,VS:()=>i,iM:()=>o});const i=2,a="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},395164:(e,t,n)=>{n.d(t,{T:()=>l,Z:()=>s});var i=n(635240),a=n(226198),o=n(314880);const r=[];function l(e){let t;try{t=JSON.stringify({errorObj:e})}catch(d){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(l={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,i.Z)()}),report_data:t},Object.keys(l).map((e=>e+"="+encodeURIComponent(l[e]))).join("&"));var l;const s=window.btoa(n);if(-1===r.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,o.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(a.fS)),e.send(n),r.push(s)}r.length>100&&r.shift()}function s(){window.addEventListener("error",(e=>{const t=e.error||{};l({extraData:t.extraData,name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,a,o;if(!(e&&e.reason&&e.reason instanceof Error))return;const{reason:r}=e,s="string"==typeof r.message?r.message:String(r);l({name:null!==(t=r.name)&&void 0!==t?t:"unhandledrejection",message:s,message_detail:r.message_detail,original_message:r.original_message,stack:r.stack,filename:r.fileName,line:null!==(n=null!==(i=r.lineno)&&void 0!==i?i:r.line)&&void 0!==n?n:r.lineNumber,column:null!==(a=null!==(o=r.column)&&void 0!==o?o:r.colno)&&void 0!==a?a:r.columnNumber})}))}},314880:(e,t,n)=>{n.d(t,{H:()=>a,V:()=>o});let i=null;function a(){return i}function o(e){i=e}},610977:(e,t,n)=>{n.d(t,{DC:()=>o,dV:()=>i,gD:()=>a,go:()=>r});const i="__PWS_ROOT__",a="__PWS_DATA__",o="__PWS_ERROR__",r="__GRAPHQL_DATA__"},635240:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(610977);let a="";function o(){return function(){if(a.length>0)return a;{const e=document.getElementById(i.gD);if(!e)throw new Error(`Unable to retrieve appVersion because #${i.gD} was not found in the DOM.`);const t=e.textContent.indexOf('"appVersion"');if(t>-1){const n=t+14,i=t+21;return a=e.textContent.slice(n,i),a}throw new Error("Unable to retrieve appVersion because appVersion property was not found in PWS DATA.")}}()}},748367:(e,t,n)=>{n.d(t,{Z:()=>r});const i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;var o=n(785893);function r({id:e,testId:t,type:n="application/json",value:r}){const l=JSON.stringify(r).replace(a,(e=>i[e]));return(0,o.jsx)("script",{id:e,"data-test-id":t,type:n,dangerouslySetInnerHTML:{__html:l}})}},597897:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>r});var i=n(667294);const a=(0,i.createContext)();function o(){return(0,i.useContext)(a)}const r=a},464228:(e,t,n)=>{n.d(t,{P:()=>o,Z:()=>r});var i=n(667294);const a=(0,i.createContext)();function o(){return(0,i.useContext)(a)}const r=a},938085:(e,t,n)=>{n.d(t,{CA:()=>N,Tb:()=>O,Tx:()=>j,Y:()=>w,kz:()=>T});var i,a,o,r,l=-1,s=function(e){addEventListener("pageshow",(function(t){t.persisted&&(l=t.timeStamp,e(t))}),!0)},d=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},c=function(){var e=d();return e&&e.activationStart||0},u=function(e,t){var n=d(),i="navigate";return l>=0?i="back-forward-cache":n&&(i=document.prerendering||c()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},m=function(e,t,n,i){var a,o;return function(r){t.value>=0&&(r||i)&&((o=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},h=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},g=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},v=-1,y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},f=function(e){"hidden"===document.visibilityState&&v>-1&&(v="visibilitychange"===e.type?e.timeStamp:0,x())},b=function(){addEventListener("visibilitychange",f,!0),addEventListener("prerenderingchange",f,!0)},x=function(){removeEventListener("visibilitychange",f,!0),removeEventListener("prerenderingchange",f,!0)},P=function(){return v<0&&(v=y(),b(),s((function(){setTimeout((function(){v=y(),b()}),0)}))),{get firstHiddenTime(){return v}}},S=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},w=function(e,t){t=t||{},S((function(){var n,i=[1800,3e3],a=P(),o=u("FCP"),r=p("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<a.firstHiddenTime&&(o.value=Math.max(e.startTime-c(),0),o.entries.push(e),n(!0)))}))}));r&&(n=m(e,o,i,t.reportAllChanges),s((function(a){o=u("FCP"),n=m(e,o,i,t.reportAllChanges),h((function(){o.value=performance.now()-a.timeStamp,n(!0)}))})))}))},T=function(e,t){t=t||{},w(g((function(){var n,i=[.1,.25],a=u("CLS",0),o=0,r=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=r[0],n=r[r.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,r.push(e)):(o=e.value,r=[e])}})),o>a.value&&(a.value=o,a.entries=r,n())},d=p("layout-shift",l);d&&(n=m(e,a,i,t.reportAllChanges),_((function(){l(d.takeRecords()),n(!0)})),s((function(){o=0,a=u("CLS",0),n=m(e,a,i,t.reportAllChanges),h((function(){return n()}))})),setTimeout(n,0))})))},k={passive:!0,capture:!0},E=new Date,I=function(e,t){i||(i=t,a=e,o=new Date,R(removeEventListener),A())},A=function(){if(a>=0&&a<o-E){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+a};r.forEach((function(t){t(e)})),r=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){I(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,k),removeEventListener("pointercancel",i,k)};addEventListener("pointerup",n,k),addEventListener("pointercancel",i,k)}(t,e):I(t,e)}},R=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,C,k)}))},j=function(e,t){t=t||{},S((function(){var n,o=[100,300],l=P(),d=u("FID"),c=function(e){e.startTime<l.firstHiddenTime&&(d.value=e.processingStart-e.startTime,d.entries.push(e),n(!0))},h=function(e){e.forEach(c)},v=p("first-input",h);n=m(e,d,o,t.reportAllChanges),v&&_(g((function(){h(v.takeRecords()),v.disconnect()}))),v&&s((function(){var l;d=u("FID"),n=m(e,d,o,t.reportAllChanges),r=[],a=-1,i=null,R(addEventListener),l=c,r.push(l),A()}))}))},D={},O=function(e,t){t=t||{},S((function(){var n,i=[2500,4e3],a=P(),o=u("LCP"),r=function(e){var t=e[e.length-1];if(t){var i=Math.max(t.startTime-c(),0);i<a.firstHiddenTime&&(o.value=i,o.entries=[t],n())}},l=p("largest-contentful-paint",r);if(l){n=m(e,o,i,t.reportAllChanges);var d=g((function(){D[o.id]||(r(l.takeRecords()),l.disconnect(),D[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,d,!0)})),_(d),s((function(a){o=u("LCP"),n=m(e,o,i,t.reportAllChanges),h((function(){o.value=performance.now()-a.timeStamp,D[o.id]=!0,n(!0)}))}))}}))},L=function e(t){document.prerendering?S((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},N=function(e,t){t=t||{};var n=[800,1800],i=u("TTFB"),a=m(e,i,n,t.reportAllChanges);L((function(){var o=d();if(o){var r=o.responseStart;if(r<=0||r>performance.now())return;i.value=Math.max(r-c(),0),i.entries=[o],a(!0),s((function(){i=u("TTFB",0),(a=m(e,i,n,t.reportAllChanges))(!0)}))}}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage.ko_KR-a119c7d95a08d358.mjs.map